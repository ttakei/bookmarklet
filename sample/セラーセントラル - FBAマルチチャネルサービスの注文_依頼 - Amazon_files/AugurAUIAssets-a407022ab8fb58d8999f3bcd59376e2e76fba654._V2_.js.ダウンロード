(function(x){var m=window.AmazonUIPageJS||window.P,u=m._namespace||m.attributeErrors,d=u?u("AugurAUIAssets"):m;d.guardFatal?d.guardFatal(x)(d,window):d.execute(function(){x(d,window)})})(function(x,m,u){ASPP.when("ASPA","augur-utils","augur-constants").register("augur-asettings",function(d,e,b){var a={augur_close_your_account_wf:{bound:!1},workflowName:null,selected_id:null,rawData:{}},c={init:function(b){a.hasOwnProperty(b)&&(a.workflowName=b,a.selected_id=null,a.rawData=e.getRawData(b),c.getWorkflowConfiguration().bound||
c.bind())},bind:function(){var a=c.getWorkflowConfiguration();d.declarative("augur-launch-ac","click",function(a){c.showNextNode(a,"augur-launch-ac")});d.declarative("augur-start-closure","click",function(a){c.showNextNode(a,"augur-start-closure")});d.declarative("augur-launch-ad","click",function(a){c.showNextNode(a,"augur-launch-ad")});d.declarative("augur-launch-p-home","click",function(a){c.showNextNode(a,"augur-launch-p-home")});a.bound=!0},showNextNode:function(c,k){var h=e.getRawData(a.workflowName),
g=e.getEncryptedPayload(a.workflowName),l={};l.next_sub_workflow=k;d.$("#augur_AC_popover_loading").removeClass(b.CLASSES.SPAUI_HIDDEN);e.getNextNode(a.workflowName,h,g,l)},getWorkflowConfiguration:function(){return a[a.workflowName]}};return{init:c.init}});ASPP.when("ASPA","augur-listing","augur-utils","augur-constants","augur-common","augur-payments","augur-reimbursement","augur-rrc","augur-asettings").register("augur",function(d,e,b,a,c,f,k,h,g){var l=d.$,w={},n={},p={},q={init:function(a){q.hydrate(a);
n[a]&&n[a].init(w,a);c.init(a);f.init(a);g.init(a);q.renderFirstNode(a)},hydrate:function(c){n.augur_no_listing_error_wf=e;n.augur_in_reimbursements_wf=k;n.augur_rrc_wf=h;w.augur=d.$(a.SELECTORS.AUGUR_MAIN);w.spaui=d.$("#spaui");w.body=d.$(document.body);p=b.getRawData(c)},renderFirstNode:function(a){l("div[augur-wf-append-to]").each(function(){var a=l(this).attr("augur-wf-append-to");l(this).children().each(function(){null!==this.id&&""!==this.id&&l("#"+a).find("#"+this.id).remove()});l("#"+a).append(l(this).html());
l(this).remove()});b.getMetricsHandleSecure(p)("wfDisplayed",{workflowName:a})}};return{init:q.init}});ASPP.when("ASPA","augur-utils","augur-constants").register("augur-common",function(d,e,b){var a={metricsHandle:null,initialized:!1,rawData:{}},c={init:function(b){a.rawData=e.getRawData(b);a.metricsHandle=e.getMetricsHandleSecure(a.rawData);a.initialized||(a.initialized=!0,c.eventSubscribe(),d.declarative("augur_link_transition","click",function(a){var b=e.getRawData(a.data.workflowName),c=e.getEncryptedPayload(a.data.workflowName),
f={};f[a.data.outputKey]=a.data.choice;e.getNextNode(a.data.updatingDivId,b,c,f)}),c.delegateBind())},delegateBind:function(){d.$(b.SELECTORS.AUGUR_MAIN).undelegate(b.SELECTORS.PRIMARY_ACTION_BUTTON,"click");d.$(b.SELECTORS.AUGUR_MAIN).delegate(b.SELECTORS.PRIMARY_ACTION_BUTTON,"click",function(b){a.metricsHandle("mainButtonClick",c.getAdditionalDataFromEvent(b))});d.$(b.SELECTORS.AUGUR_MAIN).undelegate(b.SELECTORS.SECONDARY_ACTION_BUTTON,"click");d.$(b.SELECTORS.AUGUR_MAIN).delegate(b.SELECTORS.SECONDARY_ACTION_BUTTON,
"click",function(b){a.metricsHandle("secondaryActionClick",c.getAdditionalDataFromEvent(b))})},getAdditionalDataFromEvent:function(a){var b=d.$(a.target).parent(),c;b.hasClass("asp-declarative")&&(c=b.data("action"));return{url:a.target.href,action:c}},eventSubscribe:function(){d.on("spaui:newPage",function(){0<d.$(b.SELECTORS.AUGUR_MAIN).length&&c.delegateBind()})}};return{init:c.init,rebind:c.delegateBind}});ASPP.when("ASPA").register("augur-constants",function(d){var e=function(a){return Object.freeze!==
u?Object.freeze(a):a};d=e({AUGUR_MAIN:"#augur-ui",PRIMARY_ACTION_BUTTON:".augur-wf-primary-button",SECONDARY_ACTION_BUTTON:".augur-wf-secondary-link"});var b=e({TRANSITION_TIME:200}),e=e({DISABLED:"augur-disabled",SPAUI_HIDDEN:"asp-hidden"});return{SELECTORS:d,VALUES:b,CLASSES:e}});ASPP.when("ASPA","augur-utils").register("augur-rrc",function(d,e){var b={$dom:{},workflowName:"",metricsHandle:null,rawData:{}},a={init:function(b,f){a.hydrate(b,f);a.declaratives()},hydrate:function(a,f){b.$dom=
a;b.workflowName=f;b.rawData=e.getRawData(f);b.metricsHandle=e.getMetricsHandleSecure(b.rawData)},declaratives:function(){a.processOrderIdInput();a.checkOtherOrder()},processOrderIdInput:function(){d.declarative("augur_rrc_check_order_id","click",function(c){if(!a.isDataActionEmpty("augur_rrc_submit")){var f=$("#"+c.data.textInputId),d=f.val().trim(),h=/[A-Za-z\d]{3}-\d{7}-\d{7}/;if(""!==d&&d.match(h)){a.clearDataActionAndShowPopoverLoading("augur_rrc_submit");var f=e.getRawData(b.workflowName),h=
e.getEncryptedPayload(b.workflowName),g={};g[c.data.outputKey]=d;e.getNextNode(c.data.updatingDivId,f,h,g);b.metricsHandle("rrcOrderInput",{orderId:d})}else f.addClass("asp-form-error"),d&&$("#augur_rrc_invalid_order_id_msg_div").show()}})},checkOtherOrder:function(){d.declarative("augur_rrc_check_another_order","click",function(c){if(!a.isDataActionEmpty("augur_rrc_check_another_order_div")){a.clearDataActionAndShowPopoverLoading("augur_rrc_check_another_order_div");var f=e.getRawData(b.workflowName);
e.getNextNode(c.data.updatingDivId,f,"","");b.metricsHandle("lookOtherOrder")}})},isDataActionEmpty:function(a){return $("#"+a+" .asp-declarative").attr("data-action")?!1:!0},clearDataActionAndShowPopoverLoading:function(a){$("#"+a+" .asp-declarative").attr("data-action","");$("#augur_rrc_popover_loading").removeClass("asp-hidden")}};return{init:a.init}});ASPP.when("ASPA","augur-utils").execute(function(d,e){d.declarative("augur-fsl-increase-storage","click",function(b){$("#augur_fsl_current_usage_stats .asp-declarative").attr("data-action",
"");$("#augur_fsl_popover_loading").removeClass("asp-hidden");var a=e.getRawData(b.data.workflowName),c=e.getEncryptedPayload(b.data.workflowName),f={};f[b.data.outputKey]=b.data.storageType;e.getNextNode(b.data.updatingDivId,a,c,f);e.getMetricsHandleSecure(a)("strgIncReq",{storageType:b.data.storageType})})});ASPP.when("ASPA","augur-utils").register("augur-reimbursement",function(d,e){var b=d.$,a={$dom:{},workflowName:"",initializeAndResetFlag:!0,currentShownBlurb:1,blurbCount:0,metricsHandle:null,
rawData:{}},c=1,f=b("#augur_inr_blurb_prev_button"),k=b("#augur_inr_blurb_next_button"),h=b("#augur_inr_heading"),g={init:function(a,b){g.hydrate(a,b);g.bind();g.declaratives()},hydrate:function(b,c){a.$dom=b;a.workflowName=c;a.initializeAndResetFlag=!0;a.rawData=e.getRawData(c);a.metricsHandle=e.getMetricsHandleSecure(a.rawData)},bind:function(){a.$dom.body.undelegate("#augur_inr_blurb_prev_button","click").delegate("#augur_inr_blurb_prev_button","click",g.showPreviousBlurb);a.$dom.body.undelegate("#augur_inr_blurb_next_button",
"click").delegate("#augur_inr_blurb_next_button","click",g.showNextBlurb)},declaratives:function(){g.processOrderIdInput();g.processSelectedAsins();g.lookAnotherReturn()},processOrderIdInput:function(){d.declarative("augur_inr_process_order_id_input","click",function(c){if(!g.isDataActionEmpty("augur_inr_submit")){var f=b("#"+c.data.textInputId),d=f.val().trim(),k=/[A-Za-z\d]{3}-\d{7}-\d{7}/;if(d&&d.match(k)){g.clearDataActionAndShowPopoverLoading("augur_inr_submit");var f=e.getRawData(a.workflowName),
k=e.getEncryptedPayload(a.workflowName),h={};h[c.data.orderIdInputKeyName]=d;e.getNextNode(c.data.updatingDivId,f,k,h);a.metricsHandle("orderIdInput",{orderId:d})}else f.addClass("asp-form-error"),d&&b("#augur_inr_invalid_order_id").show()}})},processSelectedAsins:function(){d.declarative("augur_inr_process_selected_asins","click",function(c){if(!g.isDataActionEmpty("augur_inr_submit"))if(0===b("#augur-ui input[name="+c.data.checkboxInputName+"]").filter(":checked").length)b("#augur_inr_select_1_item_msg").show();
else{g.clearDataActionAndShowPopoverLoading("augur_inr_submit");var f;b("#augur-ui input[name="+c.data.checkboxInputName+"]:checked").each(function(){var a=b(this).val().split("::")[1];f=f?f+"|"+a:a});var d=e.getRawData(a.workflowName),k=e.getEncryptedPayload(a.workflowName),h={};h[c.data.pipeSeparatedAsinsKeyName]=f;e.getNextNode(c.data.updatingDivId,d,k,h);a.metricsHandle("selectedAsins",{asins:f})}})},lookAnotherReturn:function(){d.declarative("augur_inr_look_another_return","click",function(b){if(!g.isDataActionEmpty("augur_inr_look_another_return")){g.clearDataActionAndShowPopoverLoading("augur_inr_look_another_return");
var c=e.getRawData(a.workflowName);e.getNextNode(b.data.updatingDivId,c,"","");a.metricsHandle("lookOtherReturn")}})},isDataActionEmpty:function(a){return b("#"+a+" .asp-declarative").attr("data-action")?!1:!0},clearDataActionAndShowPopoverLoading:function(a){b("#"+a+" .asp-declarative").attr("data-action","");b("#augur_inr_popover_loading").removeClass("augur-hidden")},getCurrentShownBlurbElement:function(){return b("#augur_inr_item_number_"+a.currentShownBlurb)},moveFromViewToLeft:function(){var a=
g.getCurrentShownBlurbElement();a.animate({marginLeft:-1*h.outerWidth()});setTimeout(function(){a.hide()},275)},moveFromViewToRight:function(a){var b=g.getCurrentShownBlurbElement();b.animate({marginLeft:h.outerWidth()});setTimeout(function(){b.hide()},275)},moveIntoView:function(){var a=g.getCurrentShownBlurbElement();a.show();a.animate({marginLeft:"0px"})},showNextBlurb:function(){g.updateDomElements();a.initializeAndResetFlag&&g.initializeAndReset();g.moveFromViewToLeft();setTimeout(function(){a.currentShownBlurb++;
g.moveIntoView();2===a.currentShownBlurb&&g.enableButton(f);a.currentShownBlurb===c&&g.disableButton(k)},100)},showPreviousBlurb:function(){g.updateDomElements();g.moveFromViewToRight();setTimeout(function(){a.currentShownBlurb--;g.moveIntoView();1===a.currentShownBlurb&&g.disableButton(f);a.currentShownBlurb===c-1&&g.enableButton(k)},100)},enableButton:function(a){a.removeClass("asp-button-disabled");a.find("button").attr("disabled",!1)},disableButton:function(a){a.addClass("asp-button-disabled");
a.find("button").attr("disabled",!0)},initializeAndReset:function(){a.blurbCount=d.$(".augur-inr-blurb-content").length;c=a.blurbCount;a.currentShownBlurb=1;g.updateDomElements();a.initializeAndResetFlag=!1},updateDomElements:function(){f=d.$("#augur_inr_blurb_prev_button");k=d.$("#augur_inr_blurb_next_button");h=d.$("#augur_inr_heading")}};return{init:g.init}});ASPP.when("ASPA","augur-utils").register("augur-listing",function(d,e){var b=d.$,a={$dom:{},workflowName:"",initializeAndResetFlag:!0,
currentShownBlurb:1,blurbCount:0,isCaseCreatedBlurbPresent:!1,isCaseCreatedBlurbShown:!1,isHmdPollPresent:!1,metricsHandle:null,rawData:{}},c=1,f=b("#augur_nle_blurb_prev_button"),k=b("#augur_nle_blurb_next_button"),h=b("#augur_nle_heading"),g={init:function(a,b){g.hydrate(a,b);g.bind();g.declaratives()},hydrate:function(b,c){a.$dom=b;a.workflowName=c;a.initializeAndResetFlag=!0;a.rawData=e.getRawData(c);a.metricsHandle=e.getMetricsHandleSecure(a.rawData)},bind:function(){a.$dom.body.undelegate("#augur_nle_blurb_prev_button",
"click").delegate("#augur_nle_blurb_prev_button","click",g.showPreviousBlurb);a.$dom.body.undelegate("#augur_nle_blurb_next_button","click").delegate("#augur_nle_blurb_next_button","click",g.showNextBlurb);a.$dom.body.undelegate("#augur_nle_help_hmd_yes","click").delegate("#augur_nle_help_hmd_yes","click",g.hmdYes);a.$dom.body.undelegate("#augur_nle_help_hmd_no","click").delegate("#augur_nle_help_hmd_no","click",g.hmdNo)},hmdYes:function(){b("#augur_nle_help_hmd_question").slideUp();b("#augur_nle_help_hmd_yes_message").slideDown();
a.metricsHandle("hmdYes")},hmdNo:function(){b("#augur_nle_help_hmd_question").slideUp();b("#augur_nle_help_hmd_no_message").slideDown();g.createCase("hmdCaseCreate")},getCurrentWorkflowState:function(){return e.getCurrentWorkflowState(a.workflowName)},declaratives:function(){g.processMfnListingInput();g.processFbaListingInput();g.lookAnotherItem();g.processSelectedRadioOption();g.setItemDetailsIntoState();g.showListingBlurbs();g.askForCreateCase()},showListingBlurbs:function(){d.declarative("augur_nle_review_and_fix",
"click",function(b){if(!g.isDataActionEmpty("augur_nle_submit")){g.clearDataActionAndShowPopoverLoading("augur_nle_submit");var c=e.getRawData(a.workflowName),f=e.getEncryptedPayload(a.workflowName);e.getNextNode(b.data.updatingDivId,c,f,{dummy_key:"dummy_value"});a.metricsHandle("showBlurbs")}})},processMfnListingInput:function(){d.declarative("augur_nle_process_mfn_listing_input","click",function(c){if(!g.isDataActionEmpty("augur_nle_submit")){var f=b("#"+c.data.textInputId),d=f.val().trim();if(""===
d)f.addClass("asp-form-error");else{g.clearDataActionAndShowPopoverLoading("augur_nle_submit");var f=e.getRawData(a.workflowName),k=e.getEncryptedPayload(a.workflowName),h={};h[c.data.asinSkuFnskuInputKeyName]=d;h[c.data.isItemFbaKeyName]=!1;h[c.data.asinDetailsListObjectKeyName]="myi_listings_by_filter_type";e.getNextNode(c.data.updatingDivId,f,k,h);a.metricsHandle("nleMfnInput",{nleInputValue:d})}}})},processFbaListingInput:function(){d.declarative("augur_nle_process_fba_listing_input","click",
function(c){if(!g.isDataActionEmpty("augur_nle_submit")){var f=b("#"+c.data.textInputId),d=b("#augur-ui input[name="+c.data.radioOptionName+"]"),k=f.val().trim();if(""===k)f.addClass("asp-form-error");else if(0!==d.filter(":checked").length){g.clearDataActionAndShowPopoverLoading("augur_nle_submit");var f=e.getRawData(a.workflowName),h=e.getEncryptedPayload(a.workflowName),t="Fulfilled by: Amazon"===d.filter(":checked").val()?!0:!1,r="X"===k[0]?!0:!1,v={};v[c.data.asinSkuFnskuInputKeyName]=k;v[c.data.isItemFbaKeyName]=
t;v[c.data.asinDetailsListObjectKeyName]=!0===t?"afn_listings_by_filter_type":"myi_listings_by_filter_type";v[c.data.isPotentialFnskuKeyName]=r;e.getNextNode(c.data.updatingDivId,f,h,v);a.metricsHandle("nleFbaInput",{nleFbaInputValue:k+"-"+d.filter(":checked").val()})}}})},lookAnotherItem:function(){d.declarative("augur_nle_look_another_listing","click",function(b){if(!g.isDataActionEmpty("augur_nle_look_another_listing")){g.clearDataActionAndShowPopoverLoading("augur_nle_look_another_listing");var c=
e.getRawData(a.workflowName);e.getNextNode(b.data.updatingDivId,c,"","");a.metricsHandle("lookOtherItem")}})},setItemDetailsIntoState:function(){d.declarative("augur_nle_set_item_details_into_state","click",function(c){if(!g.isDataActionEmpty("augur_nle_submit")){g.clearDataActionAndShowPopoverLoading("augur_nle_submit");for(var f=e.getRawData(a.workflowName),d=e.getEncryptedPayload(a.workflowName),k={},h=b("#augur_nle_product_details_key_value").data("value").split("::")[0].split("|"),t=b("#augur_nle_product_details_key_value").data("value").split("::")[1].split("|"),
r=0;r<h.length;r++)k["augur_nle_"+h[r]]=t[r].trim();e.getNextNode(c.data.updatingDivId,f,d,k);a.metricsHandle("itemDetails",{keys:h.toString(),values:t.toString})}})},processSelectedRadioOption:function(){d.declarative("augur_nle_process_selected_radio_option","click",function(c){if(!g.isDataActionEmpty("augur_nle_submit")){var f=b("#augur-ui input[name="+c.data.radioInputName+"]");if(0!==f.filter(":checked").length){g.clearDataActionAndShowPopoverLoading("augur_nle_submit");for(var d=e.getRawData(a.workflowName),
k=e.getEncryptedPayload(a.workflowName),h={},t=f.filter(":checked").val().split("::")[0].split("|"),f=f.filter(":checked").val().split("::")[1].split("|"),r=0;r<t.length;r++)h["augur_nle_"+t[r]]=f[r].trim();e.getNextNode(c.data.updatingDivId,d,k,h);a.metricsHandle("skuRadioSelected",{keys:t.toString(),values:f.toString})}}})},isDataActionEmpty:function(a){return b("#"+a+" .asp-declarative").attr("data-action")?!1:!0},clearDataActionAndShowPopoverLoading:function(a){b("#"+a+" .asp-declarative").attr("data-action",
"");b("#augur_nle_popover_loading").removeClass("asp-hidden")},getCurrentShownBlurbElement:function(){return b("#augur_nle_blurb_num_"+a.currentShownBlurb)},moveFromViewToLeft:function(){var a=g.getCurrentShownBlurbElement();a.animate({marginLeft:-1*h.outerWidth()});setTimeout(function(){a.hide()},275)},moveFromViewToRight:function(a){var c=g.getCurrentShownBlurbElement();c.animate({marginLeft:h.outerWidth()});setTimeout(function(){c.hide()},275)},moveIntoView:function(){var a=g.getCurrentShownBlurbElement();
a.show();a.animate({marginLeft:"0px"})},askForCreateCase:function(){d.declarative("augur_nle_create_case_yes","click",function(c){g.isDataActionEmpty("augur_nle_case_create_yes")||(b("#augur_nle_case_create_yes .asp-declarative").attr("data-action",""),b("#augur_nle_get_case_id_loading").slideDown(),a.isCaseCreatedBlurbShown=!0,g.createCase("autoCaseCreate"))})},createCase:function(c){var f="",d={dummy_key:"dummy_value"},g=e.getRawData(a.workflowName),k=e.getEncryptedPayload(a.workflowName);"autoCaseCreate"===
c?(f=b("#augur_nle_case_text_input_area").val(),d.augur_nle_case_details_by_merchant=f,e.getNextNode("augur_nle_ask_for_case_creation",g,k,d)):"hmdCaseCreate"===c&&e.getNextNode("augur_nle_hmd_poll",g,k,d)},showNextBlurb:function(){g.updateDomElements();a.initializeAndResetFlag&&g.initializeAndReset();g.moveFromViewToLeft();setTimeout(function(){a.currentShownBlurb++;g.moveIntoView();a.blurbMetricSent[a.currentShownBlurb]||(g.sendBlurbMetrics(),a.currentShownBlurb===c&&a.metricsHandle("allBlurbsRead"),
a.blurbMetricSent[a.currentShownBlurb]=!0);a.currentShownBlurb===c&&a.isHmdPollPresent&&d.$("#augur_nle_hmd_poll").show();2===a.currentShownBlurb&&g.enableButton(f);a.currentShownBlurb===c&&g.disableButton(k)},100)},showPreviousBlurb:function(){g.updateDomElements();g.moveFromViewToRight();setTimeout(function(){a.currentShownBlurb--;g.moveIntoView();1===a.currentShownBlurb&&g.disableButton(f);a.currentShownBlurb===c-1&&g.enableButton(k)},100)},sendBlurbMetrics:function(){var c=g.getCurrentShownBlurbElement(),
b=c.data("issue-name"),c=c.data("issue-type");a.metricsHandle("blurbShown",{blurbNumber:a.currentShownBlurb,totalBlurbCount:a.blurbCount,issueType:c,issueName:b})},enableButton:function(a){a.removeClass("asp-button-disabled");a.find("button").attr("disabled",!1)},disableButton:function(a){a.addClass("asp-button-disabled");a.find("button").attr("disabled",!0)},initializeAndReset:function(){a.blurbCount=d.$(".augur-nle-listing-blurb-content").length;a.blurbMetricSent=[];for(var b=2;b<=a.blurbCount;b++)a.blurbMetricSent[b]=
!1;a.isCaseCreatedBlurbPresent=0<d.$("#augur_nle_auto_create_case_id").length?!0:!1;a.isHmdPollPresent=0<d.$("#augur_nle_hmd_poll").length?!0:!1;a.isCaseCreatedBlurbShown=!1;c=a.blurbCount;a.currentShownBlurb=1;g.updateDomElements();a.initializeAndResetFlag=!1},updateDomElements:function(){f=d.$("#augur_nle_blurb_prev_button");k=d.$("#augur_nle_blurb_next_button");h=d.$("#augur_nle_heading")}};return{init:g.init,createNleCase:g.createCase}});ASPP.when("ASPA","augur-utils","augur-constants").register("augur-payments",
function(d,e,b){var a={augur_why_not_paid_wf:{bound:!1,radio_declarative:"augur-payment-selection",radio_selector:"#augur-ui input[name=WNP-payment-selection]:checked",submit_declarative:"augur-submit-payment-for-investigation",submit_variable_name:"selected_payment_id",selection_error_selector:"#augur_WNP_selection_error"},augur_when_get_paid_wf:{bound:!1,radio_declarative:"augur-order-selection",radio_selector:"#augur-ui input[name=WPO-order-selection]:checked",submit_declarative:"augur-submit-order-for-investigation",
submit_variable_name:"selected_order_id",selection_error_selector:"#augur_WPO_selection_error",input_box_id_selector:"#augur-wpo-order-input",input_box_validation_message_selector:"#augur-mismatch-order",order_id_regex:"^[sScC\\d]{2}\\d-\\d{7}-\\d{7}$"},workflowName:null,selected_id:null,rawData:{}},c={init:function(b){a.hasOwnProperty(b)&&(a.workflowName=b,a.selected_id=null,a.rawData=e.getRawData(b),b=c.getWorkflowConfiguration(),b.bound||c.bind(),b.input_box_id_selector!==u&&c.bindInputBox(b))},
bind:function(){var a=c.getWorkflowConfiguration();d.declarative(a.radio_declarative,"click",function(b){c.pullIdFromRadio(b,a.radio_selector)});d.declarative(a.submit_declarative,"click",function(b){c.submitId(b,a.submit_variable_name)});a.bound=!0},pullIdFromRadio:function(a,b){var e=d.$(b);0!==e.length&&(c.setSelectedId(a.data[e.val()]),c.clearInputBox())},setSelectedId:function(b){a.selected_id=b;b=c.getErrorElement();c.hideError(b)},submitId:function(f,k){if(c.validateSelection()&&!f.$target.hasClass(b.CLASSES.DISABLED)){f.$target.addClass(b.CLASSES.DISABLED);
var h=e.getRawData(a.workflowName),g=e.getEncryptedPayload(a.workflowName),l={};l[k]=a.selected_id;d.$("#augur-popover").removeClass(b.CLASSES.SPAUI_HIDDEN);e.getNextNode(a.workflowName,h,g,l)}else h=c.getErrorElement(),c.showError(h)},validateSelection:function(){return null!==a.selected_id&&a.selected_id!==u},getErrorElement:function(){return d.$(a[a.workflowName].selection_error_selector)},showError:function(a){a.hasClass(b.CLASSES.SPAUI_HIDDEN)&&(a.hide(),a.removeClass(b.CLASSES.SPAUI_HIDDEN),
a.slideDown(b.VALUES.TRANSITION_TIME))},hideError:function(a){a.hasClass(b.CLASSES.SPAUI_HIDDEN)||a.slideUp(b.VALUES.TRANSITION_TIME,function(){a.addClass(b.CLASSES.SPAUI_HIDDEN)})},bindInputBox:function(a){d.$(b.SELECTORS.AUGUR_MAIN).delegate(a.input_box_id_selector,"keyup",function(){var b=d.$(this),e=new RegExp(a.order_id_regex),g=d.$(a.input_box_validation_message_selector);e.test(b.val())?c.hideError(g):c.showError(g);c.setSelectedId(b.val());c.clearRadioButton()})},clearInputBox:function(){var a=
c.getWorkflowConfiguration();a.input_box_id_selector!==u&&(d.$(a.input_box_id_selector).val(""),a=d.$(a.input_box_validation_message_selector),c.hideError(a))},clearRadioButton:function(){d.$(c.getWorkflowConfiguration().radio_selector).attr("checked",!1)},getWorkflowConfiguration:function(){return a[a.workflowName]}};return{init:c.init}});ASPP.when("ASPA","spaui-external-metrics").register("augur-utils",function(d,e){var b=d.$,a={getNextNode:function(c,f,e,h,g){var l=f.client,m=f.workflowAbbr;
g=f.workflowId?f.workflowId:g;var n=f.currentNodeId,p;p=l&&m?a.getMetricsHandleSecure(f):!1;f=h?a.jsonStringify(h):"";d.post("/help/workflow/execute-workflow",{params:{workflowId:g,client:l,envelope:e,newAttributes:f},success:function(a,f,d){c&&"NONE"!==c.toUpperCase()&&(f=b("<div />"),f.html(a),0!==f.find(".augur-workflow-error").length?(b("#"+c).html(a),p&&p("getNodeErr",{currentNodeId:n})):(b("#"+c).html(""),f.children().each(function(){var a=b(this).attr("augur-wf-append-to");b(this).children().each(function(){null!==
this.id&&""!==this.id&&b("#"+a).find("#"+this.id).remove()});b("#"+a).append(b(this).html());b(this).remove()}),p&&p("getNodeSucc",{currentNodeId:n})))},error:function(a,f,d){c&&"NONE"!==c.toUpperCase()&&(b("#"+c).html("<div class='asp-padding-base'><b>We are facing some technical issues as of now, please try again later.<b></div>"),p&&p("getNodeFatal",{currentNodeId:n}))},timeout:8E4})},getNextStep:function(c,f,e){var h=f.diagRunId?f.diagRunId:"",g=f.currentStepName?f.currentStepName:"",l=f.requiredAttributes?
f.requiredAttributes:"",m=f.diagnosticName?f.diagnosticName:"",n=f.client?f.client:"",p=f.workflowAbbr?f.workflowAbbr:"",q;q=n&&p?a.getMetricsHandleSecure(f):!1;f=e?a.jsonStringify(e):"";d.post("/help/workflow/execute-workflow",{params:{workflowId:m,requiredAttributes:l,currentStepName:g,newAttributes:f,diagRunId:h,client:n},success:function(a,f,d){c&&"NONE"!==c.toUpperCase()&&(f=b("<div />"),f.html(a),0!==f.find(".augur-workflow-error").length?(b("#"+c).html(a),q&&q("getNodeErr",{currentStepName:g})):
(b("#"+c).html(""),f.children().each(function(){var a=b(this).attr("augur-wf-append-to");b(this).children().each(function(){null!==this.id&&""!==this.id&&b("#"+a).find("#"+this.id).remove()});b("#"+a).append(b(this).html());b(this).remove()}),q&&q("getNodeSucc",{currentStepName:g})))},error:function(a,f,d){c&&"NONE"!==c.toUpperCase()&&(b("#"+c).html("<div class='asp-padding-base'><b>We are facing some technical issues as of now, please try again later.<b></div>"),q&&q("getNodeFatal",{currentStepName:g}))},
timeout:8E4})},jsonStringify:function(b){return m.JSON&&JSON.stringify?JSON.stringify(b):a.mapToString(b)},mapToString:function(b){var f="{",d=0;if(null!==b)for(var e in b)b.hasOwnProperty(e)&&(0!==d&&(f+=", "),f+='"'+e+'":"'+a.escapeJson(b[e])+'"',d++);return f+"}"},escapeJson:function(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
b.lastIndex=0;return a.replace(b,function(a){return d[a]?d[a]:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})},getWevObjectTypeName:function(){return"workflow_execution_variables"},setIntoState:function(a,b,d,e){for(var g=0;g<a.racerXObjects.length;g++)a.racerXObjects[g].objectType===b&&(a.racerXObjects[g].attributes[d]=e)},getCurrentWorkflowState:function(a){return d.state(a+"_state")},getWorkflowId:function(b){return a.getValueOfKeyFromState(b,"workflow_id")},getCurrentNodeId:function(b){return a.getValueOfKeyFromState(b,
"current_node")},getValueOfKeyFromState:function(b,d){for(var e=0;e<b.racerXObjects.length;e++)if(b.racerXObjects[e].objectType===a.getWevObjectTypeName())return b.racerXObjects[e].attributes[d]},getMetricsHandleSecure:function(a){var b=a.client;a=a.workflowAbbr;if(b&&a)return e.register(a,b);console.error("[AugurUI] Client name or workflowAbbr cannot be null or empty.")},waitForWorkflowToBeRead:function(b,d){setTimeout(function(){a.postMetricsIfWorkflowIsPresent(b,d)},d.timeout)},postMetricsIfWorkflowIsPresent:function(c,
d){var e=d.elements_to_check.split("|"),h=!0;b.each(e,function(b,c){a.isElementPresent(c)||(h=!1)});h&&c(d.summary,d)},isElementPresent:function(c){c=b("#"+c);return 0<c.length&&c.is(":visible")&&a.isScrolledIntoView(c)?!0:!1},isScrolledIntoView:function(a){var d=b(m).scrollTop(),e=d+b(m).height(),h=a.offset().top;return h+a.height()<=e&&h>=d},getRawData:function(a){return d.state(a+"_raw_data")},getEncryptedPayload:function(a){return d.state(a+"_encrypted_data").data}};return{getNextNode:a.getNextNode,
getWevObjectTypeName:a.getWevObjectTypeName,setIntoState:a.setIntoState,getValueOfKeyFromState:a.getValueOfKeyFromState,getWorkflowId:a.getWorkflowId,getCurrentNodeId:a.getCurrentNodeId,getCurrentWorkflowState:a.getCurrentWorkflowState,waitForWorkflowToBeRead:a.waitForWorkflowToBeRead,getMetricsHandleSecure:a.getMetricsHandleSecure,getRawData:a.getRawData,getEncryptedPayload:a.getEncryptedPayload,getNextStep:a.getNextStep}});ASPP.when("ASPA","augur-utils").execute(function(d,e){d.declarative("augur_wd_check_asin_fnsku",
"click",function(b){$("#augur_wd_submit .asp-declarative").attr("data-action","");$("#augur_wd_popover_loading").removeClass("asp-hidden");var a=$("#"+b.data.textInputId).val(),a=a.trim(),c=e.getRawData(b.data.workflowName),d=e.getEncryptedPayload(b.data.workflowName),k={};k[b.data.outputKey]=a;e.getNextNode(b.data.updatingDivId,c,d,k);e.getMetricsHandleSecure(c)("asinFnskuInpt",{textInputValue:a})});d.declarative("augur_wd_check_case_details","click",function(b){$("#augur_wd_done .asp-declarative").attr("data-action",
"");$("#augur_wd_popover_loading").removeClass("asp-hidden");var a=$("#"+b.data.caseDetailsInputId).val(),c=e.getRawData(b.data.workflowName),d=e.getEncryptedPayload(b.data.workflowName),k={};k[b.data.outputKey]=a;e.getNextNode(b.data.updatingDivId,c,d,k);e.getMetricsHandleSecure(c)("caseDetailsInpt",{caseDetailsInputValue:a})});d.declarative("augur_wd_radio_fnsku_selected","click",function(b){$("#augur_wd_next .asp-declarative").attr("data-action","");$("#augur_wd_popover_loading").removeClass("asp-hidden");
var a=$("input[name=radioButtonSelectValue]").filter(":checked").val(),c=e.getRawData(b.data.workflowName),d=e.getEncryptedPayload(b.data.workflowName),k={};k[b.data.outputKey]=a;e.getNextNode(b.data.updatingDivId,c,d,k);e.getMetricsHandleSecure(c)("fnskuInpt",{fnskuInputValue:a})});d.declarative("augur_wd_radio_selected","click",function(b){$("input[name=radioButtonSelectValue]").is(":checked")&&$("#augur_wd_next").removeClass("asp-hidden")});d.declarative("augur_wd_check_another_asin_fnsku","click",
function(b){$("#augur_wd_popover_loading_link").removeClass("asp-hidden");var a=d.state(b.data.workflowName+"_raw_data");e.getNextNode(b.data.updatingDivId,a,"","")})});ASPP.when("ASPA","augur-utils").execute(function(d,e){d.declarative("augur_whl_check_sku_fnsku","click",function(b){$("#augur_whl_submit .asp-declarative").attr("data-action","");$("#augur_whl_popover_loading").removeClass("asp-hidden");var a=$("#"+b.data.textInputId).val(),a=a.trim(),c=e.getRawData(b.data.workflowName),
d=e.getEncryptedPayload(b.data.workflowName),k={};k[b.data.outputKey]=a;e.getNextNode(b.data.updatingDivId,c,d,k);e.getMetricsHandleSecure(c)("skuFnskuInpt",{textInputValue:a})});d.declarative("augur_whl_radio_fnsku_selected","click",function(b){$("#augur_whl_next .asp-declarative").attr("data-action","");$("#augur_whl_popover_loading").removeClass("asp-hidden");var a=$("input[name=radioButtonSelectValue]").filter(":checked").val(),c=e.getRawData(b.data.workflowName),d=e.getEncryptedPayload(b.data.workflowName),
k={};k[b.data.outputKey]=a;e.getNextNode(b.data.updatingDivId,c,d,k);e.getMetricsHandleSecure(c)("fnskuInpt",{fnskuInputValue:a})});d.declarative("augur_whl_radio_selected","click",function(b){$("input[name=radioButtonSelectValue]").is(":checked")&&$("#augur_whl_next").removeClass("asp-hidden")})});ASPP.when("ASPA","augur-utils").execute(function(d,e){d.declarative("augur_paramount_hazmat_wf_check_input","click",function(b){if(b=$("#augur_paramount_hazmat_wf_input_string_id").val()){$("#augur_paramount_hazmat_wf_default_next_button .asp-declarative").attr("data-action",
"");$("#augur_paramount_hazmat_wf_input_string .asp-declarative").attr("data-action","");$("#augur_paramount_hazmat_wf_popover_loading").removeClass("asp-hidden");var a=e.getRawData("augur_paramount_hazmat_wf");b=b.trim();var c={};c.item_input=b;e.getNextStep("augur_paramount_hazmat_wf_content_div",a,c)}});d.declarative("augur_paramount_hazmat_wf_check_input_enter_key","keyup",function(b){var a=$("#augur_paramount_hazmat_wf_input_string_id").val();if(13===b.$event.keyCode&&a){$("#augur_paramount_hazmat_wf_default_next_button .asp-declarative").attr("data-action",
"");$("#augur_paramount_hazmat_wf_input_string .asp-declarative").attr("data-action","");$("#augur_paramount_hazmat_wf_popover_loading").removeClass("asp-hidden");b=e.getRawData("augur_paramount_hazmat_wf");var a=a.trim(),c={};c.item_input=a;e.getNextStep("augur_paramount_hazmat_wf_content_div",b,c)}});d.declarative("augur_paramount_hazmat_wf_radio_fnsku_selected","click",function(b){if(b=$("input[name=radioButtonSelectValue]").filter(":checked").val()){$("#augur_paramount_hazmat_wf_default_next_button .asp-declarative").attr("data-action",
"");$("#augur_paramount_hazmat_wf_popover_loading").removeClass("asp-hidden");var a=e.getRawData("augur_paramount_hazmat_wf"),c={};c.fn_sku=b;e.getNextStep("augur_paramount_hazmat_wf_content_div",a,c)}});d.declarative("augur_paramount_hazmat_wf_redirect_link_button","click",function(b){$("#augur_paramount_hazmat_wf_input_button .asp-declarative").attr("data-action","");m.location.href=b.data.redirect_url});d.declarative("augur_paramount_hazmat_wf_check_another","click",function(b){$("#augur_paramount_hazmat_wf_popover_loading").removeClass("asp-hidden");
var a={};b=d.state("augur_paramount_hazmat_wf_raw_data");a.diagnosticName=b.diagnosticName;a.client=b.client;a.workflowAbbr=b.workflowAbbr;e.getNextStep("augur_paramount_hazmat_wf_content_div",a,"")})})});