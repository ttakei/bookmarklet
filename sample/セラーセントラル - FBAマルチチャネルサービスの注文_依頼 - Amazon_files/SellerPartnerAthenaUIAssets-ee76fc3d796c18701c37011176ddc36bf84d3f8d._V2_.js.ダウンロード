(function(J){var D=window.AmazonUIPageJS||window.P,A=D._namespace||D.attributeErrors,e=A?A("SellerPartnerAthenaUIAssets"):D;e.guardFatal?e.guardFatal(J)(e,window):e.execute(function(){J(e,window)})})(function(J,D,A){ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history").register("spaui-ajax",function(e,g,m,c){var a={get:function(b,c,f,k){a.core("GET",b,c,f,k)},post:function(b,c,f,k){a.core("POST",b,c,f,k)},core:function(a,b,f,k,d){f=e.$.extend({url:b,data:"",dataType:A,payload:{},method:a,
type:a},f);e.$.ajax(f).done(function(a,b,d){e.$.isFunction(k)&&(f.payload.data=a,k(f.payload))}).fail(function(a,r){g.handleSigninRedirect(a.status)?m.send({from:c.getFrom(),where:"someAjaxRequest",to:"responseWasLoginPage",additionalObj:{url:b,statusCode:a.status}}):e.$.isFunction(d)&&(f.payload.data=a,f.payload.errorStatus=r,d(f.payload))})},mockGet:function(c,e,f,k,d,q){b.get=a.mockCore(c,e,f,k,d)},mockPost:function(c,e,f,k,d,q){b.post=a.mockCore(c,e,f,k,d)},mockCore:function(a,b,c,k,d,q){return function(r,
l,p,t){var z=function(){var d=e.$.extend({},l.payload,{data:b});r.match(a)&&(q!==A&&q(l),e.$.isFunction(k)&&k(r,l,p,t),c?e.$.isFunction(t)&&t(d):e.$.isFunction(p)&&p(d))};d?setTimeout(z,d):z()}},mockFailedGet:function(c,e,f){b.get=a.mockFailedCore(c,e,f)},mockFailedPost:function(c,e,f){b.post=a.mockFailedCore(c,e,f)},mockFailedCore:function(a,b,c){return function(k,d,q,r){d=e.$.extend({},d.payload,{data:b,errorStatus:c});k.match(a)&&e.$.isFunction(r)&&r(d)}}},b={get:a.get,post:a.post,mockGet:a.mockGet,
mockPost:a.mockPost,mockFailedGet:a.mockFailedGet,mockFailedPost:a.mockFailedPost};return b});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-theming","spaui-history","spaui-content","spaui-ui","spaui-push-notification","spaui-events","spaui-discovery","spaui-state","spaui-async","spaui-grouped-alerts","spaui-eci-widget","spaui-alert-metrics","spaui-alert-util").register("spaui-alerts",function(e,g,m,c,a,b,h,n,f,k,d,q,r,l,p,t){var z={},v={parentRequestId:null,athenaInitializedWithoutSummon:!1,
onInfoCard:!1,isInfoCardLoaded:!1,alertLoaded:!1,alertFlushed:!1,marketplaceId:null,overrideContext:null,overrideAlertId:null,alertContent:null,shinyCount:0,alertHandles:[],displacedMastheads:[]},H={ALERT_HIGH:{priority:0,ariaLabel:"Urgent notification",showCount:!0},ALERT_MEDIUM:{priority:1,ariaLabel:"Important notification",showCount:!0},EXTERNAL:{priority:2,ariaLabel:"External Notification",showCount:!1},INFORMATION:{priority:3,ariaLabel:"Information alert",showCount:!1},OPPORTUNITY:{priority:4,
ariaLabel:"Opportunity alert",showCount:!1}},w={init:function(a){v.marketplaceId=e.state("spaui-state").marketplaceID||e.state("spaui-state").marketplaceId;w.hydrate(a);w.bind()},hydrate:function(a){z.spaui=a;z.gatewayHelpLink=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");z.templateHolder=e.$("#spaui-template-shiny-object");f.subscribeAsyncModuleEvent("alerts",q.LOADED_EVENT,w.onLoad);f.subscribeAsyncModuleEvent("alerts",q.COMPLETED_EVENT,w.onCompleteLoad);f.subscribe(f.getName("newPage"),
w.onNewPage);f.subscribe(f.getName("initializedWithoutSummon"),w.onInitialize);f.subscribe(f.getName("dismissed"),w.onAthenaDismissed);k.register("alerts","info",!1,w.firstDiscovery);a={simpleRegister:w.registerSimpleAlert,customRegister:w.registerAlert};l.registerHandles(a);r.registerHandles(a);w.registerSimpleAlert(function(){return!0},m.getContext("alert"),m.getContext("pushNotification"))},registerSimpleAlert:function(a,b,d,l){w.registerAlert(a,w.createInstrumentClosure(p.discover,b,d),w.createInstrumentClosure(p.read,
b,d),w.createInstrumentClosure(p.dismiss,b,d),w.createInstrumentClosure(p.minimize,b,d),l)},createInstrumentClosure:function(a,b,d){return function(p){a(b,d,t.getAlertDetails(p))}},registerAlert:function(a,b,d,p,l,c){v.alertHandles.push({checkFunc:a,onDiscover:b,onOpen:d,onDismiss:p,onMinimize:l,pushConfig:c})},onLoad:function(a){v.alertLoaded=!0;v.alertContent=a?a:z.spaui.find(".spaui-alerts");0>=e.$(v.alertContent).find(".spaui-alert").length&&w.instrumentNoAlertsToShow(m.getContext("alert"),{});
w.attemptMastheadDisplay()},onInitialize:function(){v.athenaInitializedWithoutSummon=!0;w.attemptMastheadDisplay()},onAthenaDismissed:function(){v.onInfoCard=!1;v.athenaInitializedWithoutSummon=!0;w.attemptMastheadDisplay()},attemptMastheadDisplay:function(){if(!(v.onInfoCard||t.isAlertsHidden()||t.alertsAreSuppressed())&&v.alertLoaded&&v.athenaInitializedWithoutSummon&&null!==v.alertContent){var a=e.$(v.alertContent);v.shinyCount=a.data("shiny-count");a=a.find(".spaui-alert");if(0<a.length){v.alertContent=
null;var b=w.getPushNotificationConfig(a);a.data("is-push")&&!1!==b?w.displayPushNotification(a):w.displayShinyObjectAlert(a)}}},onNewPage:function(a){a.type===b.getPageType("info")&&w.dynamicHydrate()},onCompleteLoad:function(){v.alertFlushed=!0;f.publish(f.getName("alertsLoaded"));w.dynamicHydrate();if(t.isAlertsHidden()||t.alertsAreSuppressed())if(z.alerts.hide(),z.viewNotificationCardLink.hide(),t.isAlertsHidden())return;if(w.isTimeToDiscover())w.onDiscover()},dynamicHydrate:function(){z.alerts=
z.spaui.find("#spaui-content .spaui-alerts");z.viewNotificationCardLink=z.spaui.find(".spaui-view-notification-card");z.alerts.find(".spaui-alert").each(function(){var a=e.$(this),b=w.getIconTemplate(a),a=a.find(".spaui-alert-badge"),b=b.find(".spaui-alert-icon");a.empty();a.append(b.clone())})},bind:function(){z.spaui.delegate(".spaui-alert-toggle","click",w.toggle);z.spaui.delegate(".spaui-alert-dismiss","click",w.dismiss);z.spaui.delegate(".spaui-alert-load-all","click",w.loadAllHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-load-all",
"click",w.pushNotificationLoadAll)},toggle:function(a){a.preventDefault();a=e.$(a.currentTarget);var b=t.getAlertFromChild(a);a.hasClass("spaui-alert-toggle-closed")?(a.removeClass("spaui-alert-toggle-closed").addClass("spaui-alert-toggle-open"),a.parent().find(".spaui-alert-content").css("display","block"),g.updateScrollTop(a,70),w.callAlertHandle("onOpen",b)):(a.removeClass("spaui-alert-toggle-open").addClass("spaui-alert-toggle-closed"),a.parent().find(".spaui-alert-content").css("display","none"),
w.callAlertHandle("onMinimize",b))},dismiss:function(a){a.preventDefault();e.$("#spaui-alerts-icon").remove();z.gatewayHelpLink.css("padding-right","");a=t.getAlertFromChild(e.$(a.currentTarget));w.callAlertHandle("onDismiss",a);t.hideSingleAlert(t.getAlertDetails(a).id)},loadAllHandle:function(a,b){a.preventDefault();w.displayAllAlerts({where:b?m.getContext("pushNotification"):m.getContext("alert")})},displayAllAlerts:function(p){h.getVisible()||h.summoner({});var l=a.getAthenaUrlPrefix()+"athena-all-alerts?requestId="+
m.incrementChildRequestId();b.placeEndpoint("alerts",d.enhanceUrl(l),function(b){m.send(e.$.extend({from:a.getFrom(),where:m.getContext("alert"),to:m.getPlace("alerts")},p));w.onLoadAllAlerts({})})},pushNotificationLoadAll:function(a){w.loadAllHandle(a,!0)},onLoadAllAlerts:function(a){w.loadAllDiscover(a);w.loadAllRead(a)},loadAllDiscover:function(a){var b=[];e.$(".spaui-alerts-all .spaui-alert-info:visible").each(function(){b.push(g.gda(this,"id"))});0>=b.length?w.instrumentNoAlertsToShow(m.getContext("allAlerts"),
a):p.massDiscover(m.getContext("allAlerts"),b,a);w.dynamicHydrate()},loadAllRead:function(a){var b=[];e.$(".spaui-alerts-all .spaui-alert-info.spaui-alert-fixed").each(function(){b.push(g.gda(this,"id"))});0<b.length&&p.massRead(m.getContext("allAlerts"),b,a)},onDiscover:function(){var b=z.alerts.find(".spaui-alert");if(0<b.length&&!t.isAlertsHidden()){var d=z.shinyIcon===A?A:parseInt(z.shinyIcon.data("priority"),10);c.shouldHideAlerts(d)||t.alertsAreSuppressed()?(b=t.getAlertDetails(b),m.send({from:a.getFrom(),
where:m.getContext("alert"),to:m.getPlace("alertSuppressed"),payloadObj:{notificationId:b.id,notificationType:b.type,notificationName:b.name}})):(w.callAlertHandle("onDiscover",b),w.isNonToggleAlert(b)&&w.callAlertHandle("onOpen",b))}},isTimeToDiscover:function(){return v.isInfoCardLoaded&&v.alertFlushed},isNonToggleAlert:function(a){return!t.getAlertDetails(a).expandable},firstDiscovery:function(){v.onInfoCard=!0;v.isInfoCardLoaded=!0;if(w.isTimeToDiscover())w.onDiscover()},instrumentNoAlertsToShow:function(b,
d){m.send({from:a.getFrom(),where:b,to:m.getPlace("noAlertToShow"),additionalObj:d})},getCurrentPriority:function(){return z.shinyIcon===A?999:g.gda(z.shinyIcon,"priority")},displayShinyObjectForIcon:function(b,d,p){var l=w.getCurrentPriority();if(!d||d>=l)return d>l&&m.send({from:a.getFrom(),where:m.getContext("alertShinyObject"),to:"dropped",additionalObj:{severityShow:w.getSevCode(l),severityDropped:p}}),!1;0===z.gatewayHelpLink.length&&(z.gatewayHelpLink=e.$("#helpMenuID .sc_quicklink"));z.shinyIcon!==
A&&(z.shinyIcon.detach(),d=w.getSevCode(l),v.displacedMastheads.push({icon:z.shinyIcon,priority:l,severity:d}),m.send({from:a.getFrom(),where:m.getContext("alertShinyObject"),to:"superceded",additionalObj:{severityShow:p,severitySuperceded:d}}));z.shinyIcon=b;z.gatewayHelpLink.append(b);z.gatewayHelpLink.css("padding-right","25px");return!0},externalDisplayShinyObject:function(a){var b=w.getDefaultIconTemplate().find(".spaui-alert-shiny").clone();b.addClass(a);a=g.gda(b,"priority");return w.displayShinyObjectForIcon(b,
a,"EXTERNAL")?(a=g.getUid(),b.attr("id",a),a):null},externalDismissShinyObject:function(b){z.shinyIcon&&z.shinyIcon.attr("id")===b&&(z.shinyIcon.remove(),z.shinyIcon=A,(b=v.displacedMastheads.pop())?(w.displayShinyObjectForIcon(b.icon,b.priority,b.severity),m.send({from:a.getFrom(),where:m.getContext("alertShinyObject"),to:"restored",additionalObj:{severityShow:b.severity}})):z.gatewayHelpLink.css("padding-right",""))},displayShinyObjectAlert:function(b,d){var p=w.getIconTemplate(b,d).find(".spaui-alert-shiny").clone(),
l=d||g.gda(b,"severity"),r=g.gda(p,"priority");if((b===A||!c.shouldHideAlerts(r))&&w.displayShinyObjectForIcon(p,r,l)){var r=null,k=w.getSeverity(l);if(null===r||k.priority<r.priority)r=k;r&&(z.gatewayHelpLink.attr("aria-label","Help - "+r.ariaLabel),k=z.alerts!==A?z.alerts.data("shiny-count"):v.shinyCount,r.showCount&&0<k?(p.removeClass("spaui-sprite"),p.addClass("spaui-alert-shiny-count"),p.text(k),p=p.clone(),b.find(".spaui-alert-load-all-node .spaui-alert-load-all").append(p)):k=0,m.send({from:a.getFrom(),
where:m.getContext("alertShinyObject"),to:"discovered",additionalObj:{severityShow:l,count:k}}))}},getShinyIconOverrideCode:function(){return{A1F83G8C2ARO7P:"GB",A1PA6795UKMFR9:"EU",A13V1IB3VIYZZH:"EU",A1RKKUPIHCS9HS:"EU",AJZF8LZ1EJVJN:"EU",APJ6JRA9NG5V4:"EU",A3HOBANJMCMD83:"EU",A21TJRUUN4KGV:"IN",A2XZLSVIQ0F4JT:"IN",AAHKV2X7AFYLW:"SEA",A1VC38T7YXB528:"SEA"}[v.marketplaceId]||"default"},getSeverity:function(a){return H[a]},getSevCode:function(a){a=parseInt(a,10);for(var b=Object.keys(H),d=0;d<b.length;d++){var p=
b[d];if(H[p].priority===a)return p}return null},displayPushNotification:function(a){var b=a.find(".spaui-alert-header").data("expandable"),d=a.find(".spaui-alert-content").clone(),p;p=b?a.find(".spaui-alert-toggle").text():a.find(".spaui-alert-header-inline-push").text();var l=w.getPushNotificationConfig(a);a=t.getAlertDetails(a);var r=n.create(p,d,l.pushNotificationSev,l.hasMinimizeButton,b);r.data("id",a.id);r.data("type",a.type);r.data("name",a.name);r.data("is-push",!0);w.callAlertHandle("onDiscover",
r);b||w.callAlertHandle("onOpen",r);f.subscribe(f.getName("pushNotificationOpened"),function(a){w.callAlertHandle("onOpen",r)});f.subscribe(f.getName("pushNotificationClosed"),function(a){w.callAlertHandle("onDismiss",r)});f.subscribe(f.getName("pushNotificationMinimize"),function(a){w.callAlertHandle("onMinimize",r)})},getPushNotificationConfig:function(a){var b={ALERT_HIGH:{type:"urgent",pushNotificationSev:n.HIGH},OPPORTUNITY:{type:"opportunity",pushNotificationSev:n.OPPORTUNITY},ALERT_MEDIUM:{type:"alert",
pushNotificationSev:n.MEDIUM},INFORMATION:{type:"info",pushNotificationSev:n.INFORMATION}}[a.data("severity")];return b?(b={type:b.type,pushNotificationSev:b.pushNotificationSev,hasMinimizeButton:!1},a=w.getAlertHandles(a),a.pushConfig&&e.$.isPlainObject(a.pushConfig)&&(b=e.$.extend({},b,a.pushConfig)),b):!1},getState:function(){return v},getIconTemplate:function(a,b){var d=w.getShinyIconOverrideCode(),p=b||g.gda(a,"severity"),p=z.templateHolder.find("#"+p),d=p.find("."+d);0===d.length&&(d=p.find(".default"));
return d},getDefaultIconTemplate:function(){return z.templateHolder.find("#EXTERNAL")},getAlertHandles:function(a){for(var b=0;b<v.alertHandles.length;++b){var d=v.alertHandles[b];if(d.checkFunc(a))return d}},callAlertHandle:function(a,b){var d=w.getAlertHandles(b);if(d[a]&&e.$.isFunction(d[a]))d[a](b)}};return{init:w.init,bindIrisCallsToPushNotification:w.bindIrisCallsToPushNotification,getSeverity:w.getSeverity,getState:w.getState,getShinyIconOverrideCode:w.getShinyIconOverrideCode,getIconTemplate:w.getIconTemplate,
displayShinyObjectAlert:w.displayShinyObjectAlert,displayAllAlerts:w.displayAllAlerts,dynamicHydrate:w.dynamicHydrate,onLoadAllAlerts:w.onLoadAllAlerts,externalDisplayShinyObject:w.externalDisplayShinyObject,externalDismissShinyObject:w.externalDismissShinyObject}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-ajax").register("spaui-alert-metrics",function(e,g,m,c){var a=null,b=[],h=[],n={iris:"DISCOVERED",alertAction:g.getPlace("alertDiscovered"),pushAction:"load",idList:b},f={iris:"READ",
alertAction:g.getPlace("setAlertRead"),pushAction:"open",idList:h},k={iris:"ABORT",alertAction:g.getPlace("setAlertAbort"),pushAction:"dismiss",idList:[]},d={iris:null,alertAction:g.getPlace("minimized"),pushAction:g.getPlace("minimized"),idList:null},q={init:function(){a=g.getParentRequestId()},instrumentMassDiscover:function(a,d,p){d=q.filterIdsAlreadySeen(d,b);if(0<d.length){b=b.concat(d);var c=d.join(",");q.sendIrisDiscover(c,function(){var b=e.$.extend({ids:c},p);g.send({from:m.getFrom(),where:a,
to:g.getPlace("alertMassDiscovered"),additionalObj:b})})}},instrumentMassRead:function(a,b,d){b=q.filterIdsAlreadySeen(b,h);if(0<b.length){h=h.concat(b);var c=b.join(",");q.sendIrisResponse(f.iris,c,function(){var b=e.$.extend({ids:c},d);g.send({from:m.getFrom(),where:a,to:g.getPlace("alertMassRead"),additionalObj:b})})}},instrumentDiscover:function(a,b,d){q.instrumentAlert(n,a,b,d)},instrumentRead:function(a,b,d){q.instrumentAlert(f,a,b,d)},instrumentDismiss:function(a,b,d){q.instrumentAlert(k,a,
b,d)},instrumentMinimize:function(a,b,p){q.sendMetrics(d,a,b,p)},instrumentAlert:function(a,b,d,c){var k=a.idList;-1===k.indexOf(c.id)&&(k.push(c.id),q.sendIrisResponse(a.iris,c.id,function(){q.sendMetrics(a,b,d,c)}))},sendMetrics:function(a,b,d,c){b=q.chooseContext(b,d,c);a=q.getAction(a,c);g.send({from:m.getFrom(),where:b,to:a,additionalObj:{isPush:c.isPush},payloadObj:{notificationId:c.id,notificationType:c.type,notificationName:c.name}})},sendIrisDiscover:function(a,b){q.sendIrisResponse(n.iris,
a,b)},sendIrisResponse:function(b,d,p){c.get(m.getAthenaUrlPrefix()+"alert/"+b+"?ids="+d+"&prid="+a,{},function(){e.$.isFunction(p)&&p()})},chooseContext:function(a,b,d){return d.isPush?b:a},getAction:function(a,b){return b.isPush?a.pushAction:a.alertAction},filterIdsAlreadySeen:function(a,b){return a.filter(function(a){return-1===b.indexOf(a)})}};return{init:q.init,sendIrisDiscover:q.sendIrisDiscover,massDiscover:q.instrumentMassDiscover,massRead:q.instrumentMassRead,discover:q.instrumentDiscover,
read:q.instrumentRead,dismiss:q.instrumentDismiss,minimize:q.instrumentMinimize}});ASPP.when("ASPA").register("spaui-alert-util",function(e){var g=!1,m=null,c;return{init:function(a){m=a;c=e.$("#sc-quicklinks-top")},getAlertFromInnerEvent:function(a){a=e.$(a.target);var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},getAlertDetails:function(a){var b={isPush:!1},c=a.find(".spaui-alert-info");0===c.length&&a.is("#spaui-push-notification")&&(b.isPush=!0,
c=a);b.id=c.data("id");b.name=c.data("name");b.type=c.data("type");b.expandable=c.data("expandable");return b},getAlertFromChild:function(a){var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},hideSingleAlert:function(a,b){var h=m.find(".spaui-alerts");if(0<h.length&&(1===h.find(".spaui-alert").length&&h.data("is-hidden",!0),a)){var h=h.find('.spaui-alert-info[data-id="'+a+'"]').closest("li.spaui-alert"),g=m.find(".spaui-alert-load-all-node");0<h.length&&
(h.fadeOut({duration:300}),g.fadeOut({duration:300}),h.addClass("spaui-alert-dismissed"),g.addClass("spaui-alert-dismissed"))}h=c.find("#spaui-push-notification");0<h.length&&(g=h.data("id")+"",g===a+""&&h.fadeOut({duration:300}));e.$.isFunction(b)&&b()},isAlertsHidden:function(){var a=m.find(".spaui-alerts");return 0<a.length&&!0===a.data("is-hidden")},hideAllAlerts:function(){m.find(".spaui-alerts").each(function(){e.$(this).hide()});m.find(".spaui-async-alerts").hide();g=!0},alertsAreSuppressed:function(){return g}}});
ASPP.when("ASPA","spaui-ui","spaui-metrics","spaui-history","spaui-events","spaui-content","spaui-search","spaui-util","spaui-help","spaui-session","spaui-custom-card","spaui-external-events").register("spaui-api",function(e,g,m,c,a,b,h,n,f,k,d,q){var r=!1,l={init:function(){l.bind()},bind:function(){D._sellerPartnerAthena=t;a.subscribe(a.getName("initialized"),function(){l.triggerLoadedEvent(g.getVisible())})},triggerLoadedEvent:function(a){if(D._sellerPartnerAthenaLoaded&&!r){r=!0;var b=D._sellerPartnerAthenaLoaded,
d;for(d in b)if(b.hasOwnProperty(d)&&e.$.isFunction(b[d]))b[d](a)}},summon:function(){g.summoner({external:!0,where:m.getContext("externalApi"),additionalObj:e.$.extend({},p)})},changeSize:function(a){n.isNull(a)||k.isLargeSize()===a||(a?g.makeLarge():g.makeSmall())},maybeSummon:function(){g.getVisible()||l.summon()},getTracking:function(){return{where:m.getContext("externalApi"),additionalObj:e.$.extend({},p)}},assertRegistered:function(){if(null===p.clientId||null===p.context)throw"Access to Athena's external API is restricted until you register with it by calling _sellerPartnerAthena.register([clientId], [context])";
},setClosable:function(a){a?g.showClose():g.hideClose()},setCustomCardAsHome:function(a,p){d.assertCard(a);1<c.getFromLength()&&b.goBack(!0);d.setAsHome(a,p)}},p={client:null,context:null},t={register:function(a,b){p.client=a;p.context=b},summon:function(a){l.assertRegistered();l.changeSize(!!a);l.maybeSummon()},banish:function(){l.assertRegistered();g.banisher(l.getTracking())},displayHelpArticle:function(a){l.assertRegistered();f.displayHelpTopic(a,null,l.getTracking());l.maybeSummon()},displaySearchResults:function(a){l.assertRegistered();
h.externalSubmitSearch(decodeURIComponent(a),l.getTracking());l.maybeSummon()},displayBestContentFor:function(a,b){console.log("text is: ",a);console.log("locale is: ",b)},isContentInsideAthena:function(a){if(!(a instanceof e.$))if(n.isHtmlElement(a))a=e.$(a);else throw"content must be either a jQuery object (from ASPA) or an HtmlElement";return 0<a.closest("#spaui, #spaui-push-notification").length},setClosable:function(a){l.assertRegistered();l.setClosable(a)},setHomeCard:function(a,b){l.assertRegistered();
l.setCustomCardAsHome(a,b)},subscribeToEvent:function(a,b){l.assertRegistered();q.subscribe(a,b)}};return{init:l.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-events","spaui-ajax").register("spaui-async",function(e,g,m,c,a,b){var h={},n={},f={},k={transitionTime:400,flushable:[],onSummonAsyncElements:[],nonAsyncModules:{"featured-content":"featured-content",predictive:"predictive",alerts:"alerts"},onLoadState:null,onSummonState:null,preventFlushFlag:!1,LOADED:"loaded",
QUEUED:"queued",SLIDING_UP:"slidingUp",FLUSHED:"flushed",SLIDING_DOWN:"slidingDown",COMPLETED:"completed",LOADED_EVENT:"Loaded",COMPLETED_EVENT:"Completed"},d={init:function(a,b){d.hydrate(a);d.bind();var c=h.spaui.find(".spaui-async-load"),p=d.splitLoadAndSummonAsync(c),c=p.immediately,p=p.onSummon;k.onLoadState=d.initialState(c);k.onSummonState=d.initialState(p);k.onSummonAsyncElements=p;k.callback=b;d.triggerLoad(c);d.loadComplete();d.loadNonAsync()},initialState:function(a){return{initialElementCount:a.length,
remainingElementCount:a.length}},hydrate:function(a){h.spaui=a;h.templates=e.$("#spaui-template-async")},bind:function(){a.subscribe(a.getName("newPage"),d.onNewPage);a.subscribe(a.getName("summon"),d.asyncOnSummon);a.subscribe(a.getName("leavingPage"),d.onLeavePage)},onNewPage:function(){for(var a in n)if(n.hasOwnProperty(a)&&n[a]===k.FLUSHED){var b=f[a],c=h.spaui.find("#"+b);b&&0!==c.length&&(g.resetJqueryAnimation(c),d.moduleComplete(a))}d.flushNoTransition()},onLeavePage:function(){for(var a in n)n.hasOwnProperty(a)&&
(n[a]===k.SLIDING_UP?n[a]=k.QUEUED:n[a]===k.SLIDING_DOWN&&(n[a]=k.FLUSHED));d.preventFlush()},triggerLoad:function(a){for(var b=0;b<a.length;b++)d.asyncLoad(a[b])},splitLoadAndSummonAsync:function(a){var b=[],d=[];a.each(function(){var a=e.$(this),c=a.data("load-event"),f=a.data("module");delete k.nonAsyncModules[f];if("load"===c)b.push(a);else if("summon"===c)d.push(a);else throw"Unrecognized load event type in async module: "+c;});return{onSummon:d,immediately:b}},asyncOnSummon:function(){0<k.onSummonAsyncElements.length&&
(d.triggerLoad(k.onSummonAsyncElements),k.onSummonAsyncElements=[])},asyncLoad:function(a){var c=g.gda(a,"async-url"),k=m.enhanceUrl(c);a.attr("id")===A&&a.attr("id",g.getUid());var p=g.gda(a,"load-event");b.get(k,{dataType:"html"},function(b){d.asyncSuccess(a,b.data,c,p)},function(b){d.asyncError(a,b,c,p)})},transitionAsyncElement:function(a,b,c,p){var t=e.$(b);p?(d.replaceAndFlush(a,t,c),d.moduleComplete(c)):(n[c]=k.SLIDING_UP,a.slideUp(k.transitionTime,function(){n[c]===k.SLIDING_UP&&(t.hide(),
d.replaceAndFlush(a,t,c),g.ensureId(t),f[c]=t.attr("id"),n[c]=k.SLIDING_DOWN,t.slideDown(k.transitionTime,function(){n[c]===k.SLIDING_DOWN&&d.moduleComplete(c)}))}))},replaceAndFlush:function(a,b,c){a.replaceWith(b);d.removeModuleFromFlushQueue(c)},moduleComplete:function(b){n[b]=k.COMPLETED;a.publishAsyncModuleEvent(b,k.COMPLETED_EVENT)},attemptFlush:function(b,c){var l=b.data("module"),p="#"+b.attr("id");k.flushable.push({selector:p,replacement:c,module:l});n[l]=k.QUEUED;a.publishAsyncModuleEvent(l,
k.LOADED_EVENT,c);p=h.spaui.find(p);!k.preventFlushFlag&&0<p.size()&&d.transitionAsyncElement(p,c,l,"none"===p.css("display"))},asyncSuccess:function(a,b,c,p){d.attemptFlush(a,b);d.attemptLoadComplete(p)},asyncError:function(a,b,c,p){"abort"!==g.getErrorDetailsFromAjaxResponse(b.data,b.errorStatus).type&&(b=a.data("template"),b=d.getTemplateHtmlString(b),d.attemptFlush(a,b),d.attemptLoadComplete(p))},getTemplateHtmlString:function(a){a=h.templates.find("#"+a);return 0<a.length?a[0].outerHTML:""},
attemptLoadComplete:function(a){"summon"===a?k.onSummonState.remainingElementCount--:k.onLoadState.remainingElementCount--;d.loadComplete()},loadComplete:function(){d.isTimeToCallback()&&k.callback!==A&&k.callback()},isTimeToCallback:function(){return 0>=k.onLoadState.remainingElementCount&&0>=k.onSummonState.remainingElementCount},loadNonAsync:function(){g.forEachObjectValue(k.nonAsyncModules,function(b){a.publishAsyncModuleEvent(b,k.LOADED_EVENT,null);a.publishAsyncModuleEvent(b,k.COMPLETED_EVENT)})},
getFlushableState:function(){return k.flushable},flushNoTransition:function(){k.preventFlushFlag=!1;k.flushable.forEach(function(a){var b=h.spaui.find(a.selector);0<b.length&&d.transitionAsyncElement(b,a.replacement,a.module,!0)})},removeModuleFromFlushQueue:function(a){k.flushable=k.flushable.filter(function(b){return b.module!==a})},preventFlush:function(){k.preventFlushFlag=!0},setTransitionTime:function(a){k.transitionTime=a}};return{init:d.init,getFlushableState:d.getFlushableState,setTransitionTime:d.setTransitionTime,
LOADED_EVENT:k.LOADED_EVENT,COMPLETED_EVENT:k.COMPLETED_EVENT}});ASPP.when("ASPA","spaui-history","spaui-metrics","spaui-session","spaui-state","spaui-triggers","spaui-ui","spaui-util","spaui-content","spaui-search","spaui-feedback","spaui-alerts","spaui-links","spaui-predictive","spaui-shim","spaui-global-nav-search","spaui-hmd","spaui-featured-content","spaui-async","spaui-theming","spaui-forums","spaui-push-notification","spaui-eci-widget","spaui-events","spaui-weblabs","spaui-discovery","spaui-api",
"spaui-help","spaui-linkcopy","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-alert-metrics","spaui-expand","spaui-grouped-alerts","spaui-workflows","spaui-rightclick","spaui-notification-card","spaui-instance","spaui-chat","spaui-custom-card","ready").register("spaui",function(e,g,m,c,a,b,h,n,f,k,d,q,r,l,p,t,z,v,H,w,F,A,B,y,x,I,L,u,Q,R,O,K,S,T,U,V,W,J,X,P,Y){var C={$dom:{},preview:{fadeOutTime:400,show:!0,dismiss:null}},M=null,N,E={init:function(t){p.init();g.init(t);a.init(D);
n.init(D);n.exposejQuery();I.init();T.init();E.hydrate();E.bind();x.init(t.weblabs);m.init(t.instrumentation);c.init();X.init(D.sessionStorage);W.init(C.$dom.spaui);h.init(C.$dom.spaui);L.init();u.init(C.$dom.spaui);f.init(C.$dom.spaui,t.serverUrl.url,t.sellerU.ids,t.helpContentJSWhitelist.ids);Q.init(C.$dom.spaui,t.serverUrl.url);k.init(C.$dom.spaui,t.enableSearchSuggestions.enabled);A.init(C.$dom.spaui);d.init(C.$dom.spaui);z.init(C.$dom.spaui);F.init(C.$dom.spaui);E.preview(t.preview);b.init({athenaHome:E.home,
footerContactUs:t.footerContactUsWeblab.treatment});w.init();K.init(C.$dom.spaui);S.init();q.init(C.$dom.spaui);B.init(C.$dom.spaui);r.init(C.$dom.spaui,t.enableForumsCard.enabled);l.init(C.$dom.spaui);v.init(C.$dom.spaui);R.init(C.$dom.spaui);O.init(C.$dom.spaui);U.init(C.$dom.spaui);V.init();J.init(C.$dom.spaui);P.init();Y.init(C.$dom.spaui);H.init(C.$dom.spaui,function(){});E.initialState()},hydrate:function(){C.$dom.doc=e.$(document);C.$dom.win=e.$(D);C.$dom.spaui=e.$("#spaui");C.$dom.home=C.$dom.spaui.find("#spaui-home");
C.$dom.pop=C.$dom.spaui.find("#spaui-pop");C.$dom.back=C.$dom.spaui.find("#spaui-content-ui-back");C.preview.dismiss=g.getAthenaUrlPrefix()+"preview-card/dismiss"},bind:function(){C.$dom.home.click(E.home);C.$dom.pop.click(E.pop);C.$dom.back.click(E.back);C.$dom.spaui.delegate(".spaui-go-home","click",E.home);y.subscribe(y.getName("goHome"),function(){E.home()})},preview:function(a){C.preview.show=a.show},initialState:function(){f.initialState();h.initialState();O.initialState();var b=u.initialState();
P.initialState();a.isOnUrl("/hz/productsearch")&&a.isParamPresent("productSearchTourOpen")&&e.$("#tutorial-expander-id").trigger("click");var d=!1;n.isOnArticle()&&a.showBrowseAllHelpOnLoad()?(M=f.getPageType("browseAllHelp"),d=!0,u.displayBrowseAllHelpFromSession()):!c.getTopicID()||a.isAnySummoningParamPresent()||b||(M=f.getPageType("helpTopic"),d=!0,u.displayHelpTopicFromSession(c.getTopicID(),c.getTopicURL()));c.getPinned()?d?y.subscribe(y.getName("newPage"),E.onNewPage):h.summoner({session:!0}):
h.isSummoned()||y.publish(y.getName("initializedWithoutSummon"));E.previewToDataStore();y.publish(y.getName("initialized"))},onNewPage:function(a){a.type===M&&(M=null,y.unsubscribe(y.getName("newPage"),E.onNewPage),h.summoner({session:!0}))},previewToDataStore:function(){c.getPreview()&&C.preview.show&&E.enablePreview();c.getPreview()&&!C.preview.show&&c.setPreview(!1);!c.getPreview()&&C.preview.show&&E.previewUpdate()},previewUpdate:function(){e.$.get(C.preview.dismiss)},enablePreview:function(){e.$("#spaui").append(n.gebi("spaui-template-preview").innerHTML);
c.getPinned()?E.previewMetric(m.getContext("session")):(N=e.$.proxy(E.previewMetric,null,m.getContext("trigger")),y.subscribe(y.getName("summon"),N));C.$dom.spaui.delegate("#spaui-preview-jackpot","click",E.previewDismiss);C.$dom.spaui.delegate("#spaui-preview-modal","click",E.previewDismiss);C.$dom.spaui.delegate("#spaui-preview-map-feedback","click",E.previewFeedback);C.$dom.spaui.delegate("#spaui-preview-map-dismiss","click",E.previewGetAnswers)},previewMetric:function(a){N&&y.unsubscribe(y.getName("summon"),
N);m.send({from:g.getFrom(),where:a,to:m.getPlace("previewCard")})},previewFadeOut:function(a,b,d){a.preventDefault();a.stopPropagation();E.previewUpdate();m.send({from:g.getFrom(),where:b,to:g.getFrom()});e.$("#spaui-preview-modal").fadeOut(C.preview.fadeOutTime,function(a){d&&d()})},previewDismiss:function(a){E.previewFadeOut(a,m.getContext("previewAnywhere"))},previewFeedback:function(a){E.previewFadeOut(a,m.getContext("previewFeedback"),function(){d.launchFeedback()})},previewGetAnswers:function(a){E.previewFadeOut(a,
m.getContext("previewGetAnswers"))},back:function(a,b){a.preventDefault();d.setTyping(!1);f.goBack(!1)},home:function(a){a&&a.preventDefault();C.$dom.home.hasClass("spaui-home-off")||1<g.getFromLength()&&f.goBack(!0)},pop:function(a){a.preventDefault();c.setPinned(!1);m.send({from:g.getFrom(),to:m.getPlace("popPage"),where:m.getContext("header")});n.openInNewWindow(g.getPop())},overrideConfig:function(a){C=e.$.extend(!0,{},C,a)}};return{init:E.init,overrideConfig:E.overrideConfig}});ASPP.register("spaui-browser-support",
function(){return{placeholderIsSupported:function(){return"placeholder"in document.createElement("input")},definePropertyIsSupported:function(){var e={};try{return Object.defineProperty(e,"key",{value:"static"}),"static"===e.key}catch(g){return!1}}}});ASPP.when("ASPA","spaui-content","spaui-state","spaui-external-events","spaui-ui").register("spaui-chat",function(e,g,m,c,a){var b,h={enabled:!1,endpoint:"/help/assist/chat",templateId:A,isDebugMode:!1,rejoinArgs:{},transitionTime:200},n={init:function(){var a=
e.state("spaui-chat-state");if(a!==A){h.templateId=a.chatTemplateId;h.isDebugMode="true"===a.debugMode;if(h.templateId===A)throw"Chat did not initiate properly with missing template.";h.enabled=!0;h.rejoinArgs=a.rejoinArgs}},initialState:function(){n.isRejoinState("REJOIN")&&n.startChat(h.rejoinArgs)},isRejoinState:function(a){return h.rejoinArgs&&h.rejoinArgs.rejoinStatus===a},isDebugMode:function(){return h.isDebugMode},startChat:function(a){h.enabled&&(c.subscribe("spaui-chat-closed",function(){e.$("#spaui-chat").removeClass("spaui-chat-active")}),
g.placeEndpointInLocation("#spaui-chat",n.getUrl(),function(){if(b===A)ASPP.when("spaui-chatwrapper-flow").execute("spaui-chat-ready",function(c){b=c;n.onChatReady(a)});else n.onChatReady(a)},!0))},onChatReady:function(a){e.$("#spaui-chat").addClass("spaui-chat-active");b.initiateChat("#spaui-chat-roller",{chatTemplateId:h.templateId,isDebugMode:h.isDebugMode,rejoinArgs:a,maxHeightSelector:"#spaui",exclusionSelectors:["#spaui-head","#spaui-foot"]})},getUrl:function(){return m.enhanceUrl(h.endpoint)},
overrideConfig:function(a){h=e.$.extend(h,a)}};return{init:n.init,initialState:n.initialState,isDebugMode:n.isDebugMode,startChat:n.startChat,overrideConfig:n.overrideConfig}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-ui","spaui-theming","spaui-events","spaui-ajax").register("spaui-content",function(e,g,m,c,a,b,h,n,f){function k(){return e.$.extend({},I)}var d,q,r,l,p,t,z,v,H,w,F=null,G=0,B=0,y={},x={animation:{visible:!1,active:!1,contentFadeInTime:300,
distance:410,backAnimateTime:50,fbConfirmTime:2E3,resizeDuration:250,resizePercentage:.4,closeAffordance:{delay:1E3,fade:1250}},bind:!0,template:{next:'<div id="spaui-next"></div>',prev:'<div id="spaui-prev"></div>',current:'<div id="spaui-inner-content" class="spaui-new spaui-hide"></div>',loadingAnimation:'<div id="scroll-loader" class="scroll-loader"><div class="spaui-content-loading"></div></div>'},url:null,sellerUniIds:null,javascriptWhitelistIds:null,specialTitleBarActiveClass:"spaui-special-title-bar-active",
pageTypes:{alerts:"alerts",browseAllHelp:"browseAllHelp",getSupportCard:"getSupportCard",error:"error",feedback:"feedback",forums:"forums",helpTopic:"helpTopic",info:"info",loading:"loading",search:"search",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCategory",chat:"chat",selfServiceCard:"selfServiceCard"},HELP_URL_PATH:"/gp/help/",TIME_BEFORE_REVERTING_BACK_MS:18E4},I={backButton:!0,feedbackLink:!0,resetTopic:!0,homeButton:!0},L={alerts:k(),browseAllHelp:k(),error:k(),
forums:k(),search:k(),loading:k(),notificationCard:k(),notificationCardCategory:k(),chat:k(),getSupportCard:e.$.extend({},I,{backButton:!1}),feedback:e.$.extend({},I,{feedbackLink:!1}),helpTopic:e.$.extend({},I,{feedbackLink:!1,resetTopic:!1}),info:e.$.extend({},I,{backButton:!1,homeButton:!1}),selfServiceCard:e.$.extend({},I,{backButton:!1,homeButton:!1})},u={init:function(a,b,d,p){u.hydrate(a);u.bind();x.url=b;x.sellerUniIds=d||[];x.javascriptWhitelistIds=p||[]},hydrate:function(a){e.$(D);d=a;q=
a.find("#spaui-panel");r=a.find("#spaui-content");a.find("#spaui-inner-content");l=a.find("#spaui-home");p=a.find(".spaui-head-controls-pop");a.find("#spaui-foot-browse");t=a.find("#spaui-content-ui");z=a.find("#spaui-content-ui-back");v=a.find("#spaui-content-ui-feedback-text");H=a.find(".spaui-footer-forum");w=a.find("#spaui-special-title-bar-container")},bind:function(){n.subscribe(n.getName("summon"),u.onAthenaSummoned);e.$(D).unload(u.onPageUnload)},initialState:function(){u.hideUI(!0);v.show();
var a=u.getPageType("info");u.setPage(a);n.publish(n.getName("newPage"),{type:a});a=c.getTimeSellerViewingArticle();null!==a&&(new Date).getTime()-a>x.TIME_BEFORE_REVERTING_BACK_MS&&(c.revertSellerToInfoCard(),c.setTimeSellerViewingArticle(null))},overrideConfig:function(a){e.$.extend(x,a)},prepNext:function(){var a=r.find("#spaui-next");if(!(0<a.length)){var b=e.$("#spaui-inner-content");u.setPage(u.getPageType("loading"));m.pushScroll(b.scrollTop());r.append(x.template.next);a=r.find("#spaui-next");
a.css("height",r.height()+"px");a.animate({right:"+="+x.animation.distance},50,function(){b.scrollTop(0)})}},capturePayloadAndCallPlace:function(a,b,d){if(!e.$.isPlainObject(a))throw"First argument must be a plain object of the page details";return function(p){a.content=p.data;a.errorStatus=p.errorStatus;b(a,d)}},refreshContent:function(a,b){m.pushDom(g.gebi("spaui-inner-content").innerHTML);e.$("#spaui-inner-content").remove();r.append(x.template.current);a instanceof e.$?e.$("#spaui-inner-content").append(a):
b?e.$("#spaui-inner-content").html(a):g.gebi("spaui-inner-content").innerHTML=a},fadeContentIn:function(a,b,d){var p=e.$("#spaui-inner-content"),k=a.type;p.fadeIn(x.animation.contentFadeInTime,function(){e.$("#spaui-next").remove();p.removeClass("spaui-hide");p.removeClass("spaui-new");u.isErrorDom(a.content)&&(c.revertSellerToInfoCard(),a.isPlatformError=!0,a.attemptedType=a.type,a.type=u.getPageType("platformError"),d.isPlatformError=!0);u.showUI(k,b,d);m.update({to:u.getMetricPlaceFromDetails(a)});
p.focus()})},isErrorDom:function(a){return 0<e.$(a).find("#spaui-error").length},displaySpecialTitleBar:function(a){w.append(a);d.addClass(x.specialTitleBarActiveClass)},removeSpecialTitleBar:function(){w.empty();d.removeClass(x.specialTitleBarActiveClass)},getFailed:function(a,b){var d={errorDetails:g.getErrorDetailsFromAjaxResponse(a.content,a.errorStatus),isError:!0};m.pushPop("");u.refreshContent(g.gebi("spaui-template-error-client").innerHTML);a.attemptedType=a.type;a.type=u.getPageType("error");
u.fadeContentIn(a,b,d)},getPageType:function(a){return x.pageTypes[a]},hideBackBar:function(){t.hide();q.addClass("spaui-hidden-backbar")},hideUI:function(a){u.clearAllInFlightRequests();p.removeClass("spaui-shown");h.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();u.removeSpecialTitleBar();H.removeClass("spaui-active");z.hide();v.hide();l.addClass("spaui-home-off");u.publishEventForLeavingPage(a)},showUI:function(a,d,k){t.show();q.removeClass("spaui-hidden-backbar");var f=u.getPageConfig(a);if(null===
f){k="Page not supported: "+a;if(d){d({isError:!0,error:k});return}throw k;}(g.isNull(f.homeButton)||f.homeButton)&&l.removeClass("spaui-home-off");f.resetTopic&&c.setTopic(null);f.backButton?z.show():z.hide();f.feedbackLink?v.show():v.hide();"info"===f.type&&h.isFeedbackDisabledOnInfoCard()&&u.hideBackBar();"helpTopic"===f.type&&(p.toggleClass("spaui-shown",!(k&&k.isPlatformError)),c.setTimeSellerViewingArticle((new Date).getTime()));a=u.getPageDetails(f);a.wentBack=k?k.wentBack:!1;u.setPage(a.type);
d(k);n.publish(n.getName("newPage"),a);(new Date).getTime();b.contentChanged()},externalShowUI:function(a,b){b===A&&(b=function(){});u.showUI(u.mapMetricsPlaceToPage(a),b)},prepElement:function(a,b,d){u.hideUI();u.prepNext();u.placePage(u.getDetails(b,a),d)},prepEndpoint:function(a,b,d,p,c,k,l){u.hideUI();u.prepNext();a=u.getDetails(a,null);a.withScripts=p;p=l&&e.$.isFunction(l)?u.wrapWithFilter(u.placePage,l):u.placePage;u.ajax(b,c,k,u.capturePayloadAndCallPlace(a,p,d),u.capturePayloadAndCallPlace(a,
u.getFailed,d))},getTemplateContents:function(a,b){var d=g.gebi("spaui-template-"+a);if(null===d)b({isError:!0,error:"Template '"+a+"' does not exist",errorDetails:"Template '"+a+"' does not exist"});else return d},prepTemplate:function(a,b){u.hideUI();u.prepNext();var d=u.getTemplateContents(a,b);d&&u.placePage(u.getDetails(a,d.innerHTML),b)},prepEndpointInLocation:function(a,b,d,p,c,k){u.prepEndpointGeneric(a,function(b){var d=e.$(a);p?d.html(b):d[0].innerHTML=b},b,d,c,k)},prepEndpointAsAppend:function(a,
b,d,p,c){u.prepEndpointGeneric("#spaui-inner-content",function(a){d?e.$("#spaui-inner-content").append(a):g.gebi("spaui-inner-content").innerHTML+=a},a,b,p,c)},prepEndpointGeneric:function(a,b,d,p,c,k){e.$(a).append(x.template.loadingAnimation);u.createInFlightRequest();u.ajax(d,c,k,e.$.proxy(function(d,c){u.isInFlightRequestIdActive(d)&&(u.clearInFlightRequest(d),e.$(a).find("#scroll-loader").remove(),b(c.data),n.publish(n.getName("newContentOnPage")),p(!0))},null,B),function(a){p(!1,g.getErrorDetailsFromAjaxResponse(a.data,
a.errorResponse))});B++},wrapWithFilter:function(a,b){return function(){b.apply(null,arguments)&&a.apply(null,arguments)}},ajax:function(a,b,d,p,c){b=b?f.post:f.get;if(null===d||d===A)d={};b(a,d,p,c)},getDetails:function(a,b){return{type:a,content:b,requestId:++G}},placePage:function(a,b){a.requestId===G&&(u.refreshContent(a.content,a.withScripts),u.fadeContentIn(a,b,{}))},stripTopicId:function(a){return e.$(a).find(".spaui-help").data("topic")},prepHelpTopicFromTemplate:function(a){var b=u.getTemplateContents("preloadedHelp",
a);if(b){var d=u.stripTopicId(b),b={type:u.getPageType("helpTopic"),topicId:d,content:b.innerHTML};u.placeHelpTopic(b,a)}},prepHelpTopic:function(a,b,d){var p="/gp/help/"+a;g.isNull(b)&&(b=p);g.isSellerULink(a)?(g.openInNewWindow(b),c.setPinned(!1)):(u.hideUI(),u.prepNext(),m.pushPop(p),b={type:u.getPageType("helpTopic"),topicId:a,url:b},f.get(m.getAthenaUrlPrefix()+"help-content/"+a+"/",{},u.capturePayloadAndCallPlace(b,u.placeHelpTopic,d),u.capturePayloadAndCallPlace(b,u.getFailed,d)))},placeHelpTopic:function(a,
d){c.setTopicID(a.topicId);c.setTopicURL(a.url);var p=u.isSellerUVideo(a.topicId),k=u.isJavascriptOverride(a.topicId),l=e.$(a.content);l.find("meta").remove();l=e.$("<div></div>").append(l).html();u.refreshContent(l,p||k);p&&b.makeLarge();u.fadeContentIn(a,d,{})},isSellerUVideo:function(a){return u.isMemberOf(a,x.sellerUniIds)},isJavascriptOverride:function(a){return u.isMemberOf(a,x.javascriptWhitelistIds)},isMemberOf:function(a,b){var d=parseInt(a,10);return-1!==b.indexOf(d)},prepFeaturedAndPredictive:function(a){var b=
e.$("#spaui-featured-content-results"),d=e.$("#spaui-predictive-help"),p=b.height()+d.height(),b=b.add(d),c=!1,k=null,l=null;e.$("#spaui-inner-content").append('<div id="spaui-featured-content-predictive-help-loading" class="spaui-featured-content-predictive-help-loading spaui-new" style="top:-'+p+"px;height:"+p+'px;"></div>');p=e.$("#spaui-featured-content-predictive-help-loading");b.css("display","none");p.css("top","0px");b.remove();var p=function(b){b=g.getErrorDetailsFromAjaxResponse(b.data,
b.errorResponse);a(!1,b)},b=D.location.pathname,d=D.location.hash,t=e.$("title").text(),b="?pageUrl="+b+"&pageHash="+encodeURIComponent(d)+"&pageTitle="+t;f.get(m.getAthenaUrlPrefix()+"featured-content"+b,{},function(b){l=b.data;c?u.placeFeaturedAndPredictive(l+k,a):c=!0},p);f.get(m.getAthenaUrlPrefix()+"predictive-help"+b,{},function(b){k=b.data;c?u.placeFeaturedAndPredictive(l+k,a):c=!0},p)},placeFeaturedAndPredictive:function(a,b){e.$("#spaui-inner-content").append(a);var d=e.$("#spaui-featured-content-predictive-help-loading");
e.$("#spaui-featured-content-results");var p=e.$("#spaui-predictive-help"),c=d.height();p.css("position","relative");p.css("top","-"+c+"px");d.css("display","none");p.css("top","0px");d.remove();e.$("#spaui-inner-content").focus();b(!0)},placeContentAfterHelpArticle:function(a){d.find("#spaui-content .spaui-help").after(a)},placeContentBeforeSelector:function(a,b){d.find(a).before(b)},goBack:function(a){u.hideUI();r.prepend(x.template.prev);var b=e.$("#spaui-prev");b.css("height",r.height()+"px");
b.animate({right:"-="+x.animation.distance},x.animation.backAnimateTime,function(){u.revealPreviousContent(a)})},revealPreviousContent:function(b){m.popPop();e.$("#spaui-inner-content").remove();r.append(x.template.current);b&&m.prepForHome();g.gebi("spaui-inner-content").innerHTML=m.popDom();var d=e.$("#spaui-inner-content");d.fadeIn(x.animation.contentFadeInTime,function(){e.$("#spaui-prev").remove();d.removeClass("spaui-hide");d.removeClass("spaui-new");d.focus();d.scrollTop(m.popScroll());var p=
m.getTo(),c=m.getFrom();m.update({isBack:!0});u.showUI(u.mapMetricsPlaceToPage(p),function(){},{wentBack:!0});a.send({from:c,where:b?a.getContext("navHome"):a.getContext("navBack"),to:p})})},onAthenaSummoned:function(){(new Date).getTime()},onPageUnload:function(){u.publishEventForLeavingPage()},publishEventForLeavingPage:function(a){a||(a=u.mapMetricsPlaceToPage(m.getFrom()),a=u.getPageDetails(u.getPageConfig(a)),n.publish("leavingPage",a))},setPage:function(a){F=a},getPage:function(){return F},
getPageDetails:function(a){var b={type:a.type};"helpTopic"===a.type&&(b.topicId=c.getTopicID());return b},verifyAllPageConfig:function(){var b=["error","loading"];Object.keys(L).forEach(function(d){if(-1===b.indexOf(d)){var p=u.getPageConfig(d);a.getPlace(d);if(p.type!==d)throw"Invalid lookup of page configuration for page "+d;if(u.mapMetricsPlaceToPage(u.getMetricPlaceFromDetails(p))!==d)throw"Invalid page detail to metric mapping for page "+d;}})},getPageConfig:function(a){if(L.hasOwnProperty(a)){var b=
L[a];b.type=a;return b}return null},mapMetricsPlaceToPage:function(b){var d={};d[a.getPlace("alerts")]=u.getPageType("alerts");d[a.getPlace("notificationCard")]=u.getPageType("notificationCard");d[a.getPlace("notificationCardCategory")]=u.getPageType("notificationCardCategory");d[a.getPlace("browse")]=u.getPageType("browseAllHelp");d[a.getPlace("getSupportCard")]=u.getPageType("getSupportCard");d[a.getPlace("feedback")]=u.getPageType("feedback");d[a.getPlace("info")]=u.getPageType("info");d[a.getPlace("search")]=
u.getPageType("search");d[a.getPlace("forums")]=u.getPageType("forums");d[a.getPlace("chat")]=u.getPageType("chat");d[a.getPlace("selfServiceCard")]=u.getPageType("selfServiceCard");var p=null;d.hasOwnProperty(b)?p=d[b]:(b.substr(0,5)===a.getTopic()&&(p=u.getPageType("helpTopic")),"error-"===b.substr(0,6)&&(p=u.getPageType("error")));return p},getMetricPlaceFromDetails:function(b){var d={};d[u.getPageType("alerts")]=a.getPlace("alerts");d[u.getPageType("notificationCard")]=a.getPlace("notificationCard");
d[u.getPageType("notificationCardCategory")]=a.getPlace("notificationCardCategory");d[u.getPageType("browseAllHelp")]=a.getPlace("browse");d[u.getPageType("getSupportCard")]=a.getPlace("getSupportCard");d[u.getPageType("feedback")]=a.getPlace("feedback");d[u.getPageType("forums")]=a.getPlace("forums");d[u.getPageType("info")]=a.getPlace("info");d[u.getPageType("search")]=a.getPlace("search");d[u.getPageType("chat")]=a.getPlace("chat");d[u.getPageType("selfServiceCard")]=a.getPlace("selfServiceCard");
var p=null;if(d.hasOwnProperty(b.type))p=d[b.type];else if(b.type===u.getPageType("helpTopic"))p=a.getTopic()+b.topicId;else if(b.attemptedType)d=e.$.extend({},b,{type:b.attemptedType}),b.type===u.getPageType("error")&&(p="error-"+u.getMetricPlaceFromDetails(d)),b.type===u.getPageType("platformError")&&(p="error-platform-"+u.getMetricPlaceFromDetails(d));else throw"No attempted page type";return p},createInFlightRequest:function(){y[B]={active:!0}},isInFlightRequestIdActive:function(a){return y[a]!==
A},clearInFlightRequest:function(a){delete y[a]},clearAllInFlightRequests:function(){y={}},getContentPane:function(){return d.find("#spaui-inner-content")}};return{displaySpecialTitleBar:u.displaySpecialTitleBar,getPageType:u.getPageType,getPage:u.getPage,placeContentAfterHelpArticle:u.placeContentAfterHelpArticle,placeContentBeforeSelector:u.placeContentBeforeSelector,placeElement:u.prepElement,placeEndpoint:u.prepEndpoint,placeTemplate:u.prepTemplate,placeEndpointAsAppend:u.prepEndpointAsAppend,
placeEndpointInLocation:u.prepEndpointInLocation,placeHelpTopic:u.prepHelpTopic,placeHelpTopicFromTemplate:u.prepHelpTopicFromTemplate,placeFeaturedAndPredictive:u.prepFeaturedAndPredictive,goBack:u.goBack,showUI:u.externalShowUI,hideUI:u.hideUI,overrideConfig:u.overrideConfig,initialState:u.initialState,init:u.init,verifyAllPageConfig:u.verifyAllPageConfig,getContentPane:u.getContentPane}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util","spaui-content","spaui-state","spaui-self-service-card").register("spaui-custom-card",
function(e,g,m,c,a,b,h){var n,f={selfServiceCard:{endpoint:"athena-self-service-card",init:h.init}},k={init:function(a){k.hydrate(a)},hydrate:function(a){n=a},assertCard:function(a){if(c.isNull(a))throw"Card name can not be null";if(!c.isString(a))throw"Card name must be a string";if(c.isNull(f[a]))throw"No card found with name: "+a;},getCardConfig:function(a){k.assertCard(a);return f[a]},getCardEndpoint:function(a){return m.getAthenaUrlPrefix()+a+"?requestId="+g.incrementChildRequestId()},setAsHome:function(d,
c){var f=e.$.extend({},c),l=k.getCardConfig(d),p=k.getCardEndpoint(l.endpoint);a.placeEndpoint(d,b.enhanceUrl(p),function(a){if(a.isError)throw"Unable to load card: "+d+" with error: "+a.errorDetails;l.init(n,f);m.overrideHome(d)})}};return{init:k.init,assertCard:k.assertCard,setAsHome:k.setAsHome}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-events","spaui-shim","spaui-session","spaui-help","spaui-overlay","spaui-state","spaui-ui","spaui-instance").register("spaui-contact-deflection",
function(e,g,m,c,a,b,h,n,f,k,d,q,r){var l=c.getPageType("getSupportCard"),p=null,t=!1,z=null,v=[c.getPageType("getSupportCard"),c.getPageType("helpTopic")],H=/contact-us/,w=null,F,G,B={init:function(a){p=r.getDeflectionCardVisitId();B.hydrate(a);B.bind()},hydrate:function(a){w=a;F=e.$("#spaui-templates #spaui-template-getSupportCard");G=a.find("#spaui-foot-contact")},bind:function(){B.isActive()&&(B.rebindContactUs(),B.delegateBind(),b.subscribe(b.getName("newPage"),B.handleNewPage),b.subscribe(b.getName("summon"),
B.handleSummon),b.subscribe(b.getName("dismissed"),B.handleDismiss))},className:function(a){return".spaui-get-support-card-"+a},rebindContactUs:function(){var a=F.find(B.className("header-title")).text(),b=G.find(".spaui-footer-icon");G.text(a);G.append(b);G.removeAttr("href");G.attr("title",a.trim())},delegateBind:function(){w.delegate(".spaui-open "+B.className("item-header"),"click",B.handleClose);w.delegate(".spaui-closed "+B.className("item-header"),"click",B.handleOpen);w.delegate(B.className("item")+
" a","click",B.handleLinkClick)},handleClose:function(a){B.transition(a,"spaui-open","spaui-closed","setItemCollapsed")},handleOpen:function(a){B.transition(a,"spaui-closed","spaui-open","setItemExpanded")},transition:function(a,b,d,p){a.preventDefault();a=e.$(a.currentTarget);a=B.nearestItem(a);a.removeClass(b);a.addClass(d);b=a.attr("id");p={from:m.getFrom(),where:g.getContext("getSupportCardItem"),to:p,additionalObj:{itemId:b}};B.appendVisitAndSendMetrics(p)},handleNewPage:function(a){z=a.type;
a.type===l?w.addClass("spaui-footer-hidden"):w.removeClass("spaui-footer-hidden");B.determineVisitId(a.type)},handleSummon:function(){t=!0;z&&B.determineVisitId(z)},handleDismiss:function(){t=!1;B.clearVisitId()},determineVisitId:function(a){t&&(v.includes(a)||B.clearVisitId())},handleLinkClick:function(b){var p=b.currentTarget.href,c=a.getTopicIDFromLink(p),l=a.contains(p,H),t={from:m.getFrom(),where:g.getContext("content")},h={groupId:B.getGroupId(e.$(b.currentTarget))};k.removeOverlay();r.setContactUsLinkClicked(!0);
c!==A?(b.preventDefault(),h=e.$.extend(h,{articleId:c}),t.additionalObj=h,B.appendVisitId(t),f.displayHelpTopic(c,p,t),a.executeIf(a.isSellerULink,function(a){g.send(e.$.extend(t,{to:g.getTopic()+a}))})(c)):(n.setPinned(!1),c="launch-unknownPage",l&&(c="launch-contactUs",d.isOnUrl(H)&&B.isNotDeepLink(p)&&(b.preventDefault(),n.isLargeSize()&&q.makeSmall(),q.banisher({where:g.getContext("getSupportCardItem")}))),B.fillLinkMetricsObject(t,c,p,h),B.appendVisitAndSendMetrics(t))},isNotDeepLink:function(b){return a.getPathArguments(b).categoryId===
A},fillLinkMetricsObject:function(a,b,d,p){p=e.$.extend(p,{url:d});a.additionalObj=p;a.to=b},getGroupId:function(a){return B.nearestItem(a).attr("id")},nearestItem:function(a){return a.closest(B.className("item"))},isActive:function(){return 0<F.length},isVisiting:function(){return null!==r.getDeflectionCardVisitId()},displayDeflectionCard:function(a,b){var d={from:m.getFrom(),where:a,to:g.getPlace("getSupportCard")};b!==A&&(d.additionalObj={summoned:b});c.placeTemplate(l,function(){B.appendVisitAndSendMetrics(d);
b&&!n.getPinned()&&q.summoner({external:!1})})},appendVisitAndSendMetrics:function(a){B.appendVisitId(a);g.send(a)},appendVisitId:function(a){var b=e.$.extend(a.additionalObj,B.getVisitIdObj());a.additionalObj=b},getVisitIdObj:function(){null===p&&B.generateNewVisitId();return{visitId:p}},clearVisitId:function(){p=null;r.setDeflectionCardVisitId(null);r.setContactUsLinkClicked(!1)},generateNewVisitId:function(){var b=a.getUid();p=b;r.setDeflectionCardVisitId(b)},initialState:function(){B.isActive()&&
B.shouldAutoSummon()&&(n.setTopicID(A),B.displayDeflectionCard("contactUsAutoSummon",!0),k.createFullscreenOverlay())},shouldAutoSummon:function(){var a=!0===F.data("weblab-auto-summon"),b=d.isOnUrl(H),p=d.isParamPresent("categoryId"),c=r.getContactUsLinkClicked();b||r.setContactUsLinkClicked(!1);return a&&b&&!p&&!c}};return{init:B.init,isActive:B.isActive,isVisiting:B.isVisiting,displayDeflectionCard:B.displayDeflectionCard,initialState:B.initialState}});ASPP.when("ASPA","spaui-shim","spaui-events",
"spaui-metrics","spaui-history","spaui-expand","spaui-session","spaui-state","spaui-content","spaui-predictive","spaui-alert-util").register("spaui-direct-answer",function(e,g,m,c,a,b,h,n,f,k,d){var q,r=[],l={init:function(a){q=a;l.flushPersistedDA();l.bindEvents()},bindEvents:function(){m.subscribe(m.getName("newPage"),l.handleNewPage);m.subscribe(m.getName("dismissed"),l.handleDismissal);q.delegate("a","click",l.handleAthenaLinkClick);q.delegate("#spaui-content .spaui-direct-answer","click",l.interactWithDirectAnswer);
q.delegate("#spaui-content .spaui-direct-answer "+b.selectors.collapsedElementHeader,"click",l.expand);q.delegate("#spaui-content .spaui-direct-answer "+b.selectors.expandedElementHeader,"click",l.collapse)},handleNewPage:function(){h.clearPersistentDA();l.scanForDirectAnswer()},handleDismissal:function(){h.clearPersistentDA()},scanForDirectAnswer:function(){q.find("#spaui-content .spaui-direct-answer").each(function(){var a=e.$(this);l.discoverDirectAnswer(a);l.transformDirectAnswer(a);l.transformCollapsing(a)})},
handleAthenaLinkClick:function(a){0===e.$(a.target).closest("#spaui-content .spaui-direct-answer").length&&h.clearPersistentDA()},interactWithDirectAnswer:function(a){var b=q.find("#spaui-content .spaui-direct-answer").data("direct-answer-id");a=e.$(a.target);var d=0<q.find("#spaui-search-results .spaui-direct-answer").length;r.includes(b)||l.adoptDirectAnswer(b,a,d);d&&l.instrument(b,"interacted",a)},discoverDirectAnswer:function(a){var b=0<q.find("#spaui-search-results .spaui-direct-answer").length,
d=a.data("direct-answer-id");b&&l.instrument(d,"discovered",a);l.clearAdoptions();l.shouldAdoptImmediately(a)&&l.adoptDirectAnswer(d,a,b)},shouldAdoptImmediately:function(a){return a.hasClass("direct-answer-glance")},transformDirectAnswer:function(a){l.isDirectAnswerTool(a)&&l.isSearchToolsPresent()&&l.removeToolHeader()},isDirectAnswerTool:function(a){return 0<a.find(".spaui-direct-answer-tools").size()},isSearchToolsPresent:function(){return 0<q.find("#spaui-tools-results").size()},removeToolHeader:function(){q.find("#spaui-tools-results h2").remove()},
clearAdoptions:function(){r=[]},adoptDirectAnswer:function(a,b,d){d&&(r.push(a),l.instrument(a,"adopted",b));l.persistDA(b)},instrument:function(b,d,k){b=l.getAdditionalInfo(b,d,k);d={from:a.getFrom(),where:c.getContext("directAnswer"),to:d,additionalObj:b};c.send(d)},getAdditionalInfo:function(b,d,c){b={id:b,query:a.getSearchQuery()};"discovered"!==d&&"persisted"!==d&&(b.action=c.data("direct-answer-action")||"unspecified");return b},expand:function(a){b.expand(a,l.instrumentExpandCollapse)},collapse:function(a){b.collapse(a,
l.instrumentExpandCollapse)},instrumentExpandCollapse:function(b){b={from:a.getFrom(),where:c.getContext("directAnswer"),to:b};c.send(b)},transformCollapsing:function(a){a.find(".spaui-direct-answer-help-collapse").each(function(){b.transformCollapse(e.$(this))})},persistDA:function(b){var d=b.closest("#spaui-content .spaui-direct-answer");if(d.data("persistence-regex")){b=d[0].outerHTML;d=d.data("persistence-regex");try{h.storePersistentDA({regex:d,html:b})}catch(k){b={from:a.getFrom(),where:c.getContext("directAnswer"),
to:"localStorageExceeded"},c.send(b)}}},flushPersistedDA:function(){var a=h.getPersistentDA();a&&(n.isOnUrl(new RegExp(a.regex))&&(f.placeContentBeforeSelector("#spaui-predictive-help, #athena-predictive-help-container",a.html),a=e.$("#spaui-content .spaui-direct-answer").data("direct-answer-id"),l.instrument(a,"persisted"),k.preventAdoption(),d.hideAllAlerts()),h.clearPersistentDA())}};return{init:l.init,isDirectAnswerTool:l.isDirectAnswerTool}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-async").register("spaui-discovery",
function(e,g,m,c){var a={},b={},h={},n=!1,f={init:function(){g.subscribe(g.getName("newPage"),f.pageStateChanged);g.subscribe(g.getName("summon"),f.summonAthena);g.subscribe(g.getName("dismissed"),f.dismissAthena);g.subscribe(g.getName("leavingPage"),f.leftPage)},register:function(b,d,h,r){a[b]={module:b,page:d,multiplicity:h,discovered:!1,callback:r};g.subscribeAsyncModuleEvent(b,c.COMPLETED_EVENT,function(){f.asyncModuleLoaded(b)})},registerWithoutAsync:function(b,d,c,f){a[b]={module:b,page:d,multiplicity:c,
discovered:!1,callback:f};h[b]=!0},asyncModuleLoaded:function(a){h[a]=!0;f.discover()},pageStateChanged:function(a){f.setAllPageStatus(!1);b[a.type]=!0;f.discover()},leftPage:function(){f.setAllPageStatus(!1)},setAllPageStatus:function(a){Object.keys(b).forEach(function(d){b[d]=a})},summonAthena:function(){n=!0;f.discover()},dismissAthena:function(){n=!1},discover:function(){m.forEachObjectValue(a,f.discoverSingleModule)},discoverSingleModule:function(a){n&&b[a.page]&&h[a.module]&&(!a.discovered||
a.multiplicity)&&(a.callback(),a.discovered=!0)}};return{init:f.init,register:f.register,registerWithoutAsync:f.registerWithoutAsync}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-util","spaui-theming","spaui-ajax","spaui-content","spaui-session","spaui-async","spaui-alert-util").register("spaui-eci-widget",function(e,g,m,c,a,b,h,n,f,k,d){var q,r={fadeDuration:400,TIME_AFTER_SUBIMT_TO_HIDE:3E3,VALIDATION_ERROR:"validation_error",SUBMIT_TYPE:"SUBMIT"},l={init:function(a){l.hydrate(a);
l.bind(a)},hydrate:function(a){q=e.$("#spaui, #sc-quicklinks-top");r.parentRequestId=g.getParentRequestId()},bind:function(){l.contentDelegate(".spaui-eci-verify-yes","click",l.getDetailsAndCall(function(a,b){l.submitPhone(a,b,!0)}));l.contentDelegate(".spaui-eci-verify-no","click",l.getDetailsAndCall(l.verifyToChoosePhone));l.contentDelegate(".spaui-eci-submit","click",l.getDetailsAndCall(function(a,b){l.submitPhone(a,b,!1)}));l.contentDelegate(".spaui-eci-remind-me-later","click",l.getDetailsAndCall(l.remindMeLaterClicked,
!0))},contentDelegate:function(a,b,d){q.delegate(".spaui-eci-content "+a,b,d)},getDetailsAndCall:function(a,b){return function(c){b&&c.preventDefault();var k=d.getAlertFromInnerEvent(c),k=d.getAlertDetails(k);a(k.id,l.getEciDom(c.target))}},getEciDom:function(a){return e.$(a).closest(".spaui-eci-content")},registerHandles:function(a){a.simpleRegister(l.isEciAlert,g.getContext("eciNotification"),g.getContext("eciNotification"),{hasMinimizeButton:!0})},isEciAlert:function(a){return 0<a.find(".spaui-eci-content").length},
submitPhone:function(b,d,c){var k=d.find(".spaui-eci-choose-phone").data("path").replace(/\{feedbackType\}/,r.SUBMIT_TYPE),f=l.collectParams(b,d,c),k=k+"?"+a.formatObjectAsUrlParams(f);l.instrumentWithVerify(b,"submitted",c);l.submitToLoading(b,d);h.get(k,{},e.$.proxy(l.submitPhoneSuccess,null,b,d,c),e.$.proxy(l.submitPhoneFailed,null,b,d,c))},remindMeLaterClicked:function(a,b){var d=b.find(".spaui-eci-verify").is(":visible"),c=l.collectParams(a,b,d);h.get(m.getAthenaUrlPrefix()+"alert/LATER?ids="+
c.ids+"&prid="+r.parentRequestId,{},function(){l.instrumentWithVerify(a,"remindMeLaterClicked",d)});l.hide(a)},collectParams:function(a,b,d){a={ids:a,prid:r.parentRequestId,sellerVerifysNumber:d};d?(a.country_prefix="",a.phone=b.find(".spaui-eci-verify-phone").val()):(b=b.find(".spaui-eci-choose-phone"),a.country_prefix=b.find(".spaui-eci-country-prefix").val(),a.phone=b.find(".spaui-eci-phone").val());return a},submitPhoneSuccess:function(a,b,d,c){c.data===r.VALIDATION_ERROR?(l.instrumentWithVerify(a,
"validationError",d),l.loadingToValidationFailure(a,b,d)):(l.instrumentWithVerify(a,"submitSuccess",d),l.loadingToSuccess(a,b))},submitPhoneFailed:function(a,b,d){l.instrumentWithVerify(a,"submitFailed",d);l.loadingToFailure(a,b,d)},verifyToChoosePhone:function(a,b){l.instrument(a,"verifyDenied");b.find(".spaui-eci-verify").fadeOut({duration:r.fadeDuration,complete:function(){b.find(".spaui-eci-choose-phone").show()}})},submitToLoading:function(a,b){b.find(".spaui-eci-choose-phone").hide();b.find(".spaui-eci-verify").hide();
b.find(".spaui-eci-validation-failure").hide();b.find(".spaui-eci-submit-failure").hide();b.find(".spaui-eci-form-loading").show()},loadingToSuccess:function(a,b){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-remind-me-later").hide();b.find(".spaui-eci-submit-success").show();setTimeout(function(){l.hide(a)},r.TIME_AFTER_SUBIMT_TO_HIDE)},hide:function(a){d.hideSingleAlert(a)},showVerifyOrChoose:function(a,b){var d={duration:r.fadeDuration};b?a.find(".spaui-eci-verify").fadeIn(d):a.find(".spaui-eci-choose-phone").fadeIn(d)},
loadingToValidationFailure:function(a,b,d){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-validation-failure").show();l.showVerifyOrChoose(b,d)},loadingToFailure:function(a,b,d){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-submit-failure").show();l.showVerifyOrChoose(b,d)},instrumentWithVerify:function(a,b,d){l.instrument(a,b,{verifying:d})},instrument:function(a,b,d){g.send({from:m.getFrom(),where:g.getContext("eciNotification"),to:b,additionalObj:e.$.extend(d,{eciId:a})})},
mockConfig:function(a){e.$.extend(r,a)}};return{init:l.init,mockConfig:l.mockConfig,registerHandles:l.registerHandles}});ASPP.when("ASPA").register("spaui-events",function(e){var g={initialized:"initialized",initializedWithoutSummon:"initializedWithoutSummon",triggerSummon:"triggerSummon",summon:"summon",dismissed:"dismissed",newPage:"newPage",newContentOnPage:"newContentOnPage",leavingPage:"leavingPage",pushNotificationOpened:"pushNotificationOpened",pushNotificationClosed:"pushNotificationClosed",
pushNotificationMinimize:"pushNotificationMinimize",alertsLoaded:"alertsLoaded",goHome:"goHome",featuresChanged:"featuresChanged",notificationListUpdated:"notificationListUpdated",notificationFetchComplete:"notificationFetchComplete",selfServiceCardUsed:"selfServiceCardUsed"},m={init:function(){},getName:function(c){if(g[c])return g[c];throw"Name '"+c+"' not supported in EVENTS module";},resolveAuiName:function(c){return"spaui:"+c},subscribe:function(c,a){e.on(m.resolveAuiName(c),a)},unsubscribe:function(c,
a){e.off(m.resolveAuiName(c),a)},publish:function(c,a){e.trigger(m.resolveAuiName(c),a)},subscribeAsyncModuleEvent:function(c,a,b){m.subscribe("async"+a+":"+c,b)},publishAsyncModuleEvent:function(c,a,b){m.publish("async"+a+":"+c,b)}};return{init:m.init,getName:m.getName,subscribe:m.subscribe,unsubscribe:m.unsubscribe,publish:m.publish,subscribeAsyncModuleEvent:m.subscribeAsyncModuleEvent,publishAsyncModuleEvent:m.publishAsyncModuleEvent}});ASPP.when("ASPA").register("spaui-expand",function(e){var g=
{collapsed:"spaui-collapsed",expanded:"spaui-expanded",duration:400},m={collapsedElementHeader:".spaui-collapsing."+g.collapsed+" .spaui-collapsingHeader",expandedElementHeader:".spaui-collapsing."+g.expanded+" .spaui-collapsingHeader",template:"#spaui-template-collapsing",collapsingContent:".spaui-collapsingContent",anyHeader:":header",elementHeader:".spaui-collapsingHeader"},c,a={init:function(){c=e.$(m.template)},expand:function(b,c){var e=a.getCollapsingContentObjectFromClick(b);e.body.slideDown(g.duration,
function(){a.changeClass(g.collapsed,g.expanded,e.parent,c)})},collapse:function(b,c){var e=a.getCollapsingContentObjectFromClick(b);e.body.slideUp(g.duration,function(){a.changeClass(g.expanded,g.collapsed,e.parent,c)})},getCollapsingContentObjectFromClick:function(a){a.preventDefault();a=e.$(a.currentTarget).parent();var c=a.find(m.collapsingContent);return{parent:a,body:c}},changeClass:function(a,c,e,f){e.removeClass(a);e.addClass(c);f(c.replace("spaui-",""))},transformCollapse:function(b){var e=
a.findHeader(b);if(!(0>=e.size())){e.detach();var n=c.clone();n.removeAttr("id");n.find(m.elementHeader).prepend(e);n.addClass(g.collapsed);b=b.replaceWith(n);n.find(m.collapsingContent).append(b)}},findHeader:function(a){return a.children(m.anyHeader).first()},overrideConfig:function(a){e.$.extend(g,a)}};return{init:a.init,expand:a.expand,collapse:a.collapse,transformCollapse:a.transformCollapse,overrideConfig:a.overrideConfig,selectors:m}});ASPP.when("ASPA","spaui-push-notification","spaui-alerts").register("spaui-external-alerts",
function(e,g,m){return{createPushNotification:function(c,a,b,e,n){return g.createWithOptions(c,{className:a,noDismissal:!b,overrideExisting:e,title:n,overridable:!0})},requestMastheadIcon:function(c){return m.externalDisplayShinyObject(c)},dismissPushNotification:function(){return g.hide()},dismissMastheadIcon:function(c){return m.externalDismissShinyObject(c)}}});ASPP.when("ASPA","spaui-events").register("spaui-external-events",function(e,g){var m={resolveName:function(c){return"spaui-external:"+
c},subscribe:function(c,a){g.subscribe(m.resolveName(c),a)},unsubscribe:function(c,a){g.unsubscribe(m.resolveName(c),a)},publish:function(c,a){g.publish(m.resolveName(c),a)}};return{subscribe:m.subscribe,unsubscribe:m.unsubscribe,publish:m.publish}});ASPP.when("ASPA","spaui-metrics","spaui-history").register("spaui-external-metrics",function(e,g,m){var c={register:function(a,b){if(a)return e.$.proxy(c.handle,null,a,b);throw"Register must be given a string to identify your widget or team using our API.";
},handle:function(a,b,c,e){b={from:b?"cid-"+b:m.getFrom(),where:a,to:c};e&&(b.additionalObj=e);try{g.validate(b),g.send(b)}catch(f){throw"Error sending metric for '"+a+"': "+f;}}};return{register:c.register}});ASPP.when("ASPA","spaui-ui","spaui-shim").register("spaui-external-ui",function(e,g){var m={FORUMS:"forum",CHAT:"chat",CASE_LOG:"caselog",CONTACT_US:"contact"},c={summon:function(a,b){g.isSummoned()?b():g.summoner({where:"ext-"+a},b)},isSummoned:function(){return g.isSummoned()},setFooterHighlight:function(a,
b){if(c.validFooterElement(a))g.highlightFooterElement(a,b);else throw c.generateUnsupportedElementException(a);},validFooterElement:function(a){return 0<=c.getAllValidFooterElementValues().indexOf(a)},generateUnsupportedElementException:function(a){throw a+" is not a valid footer element. Valid elements are ["+this.getAllValidFooterElementValues().join(", ")+"]. If possible, use the exposed FOOTER_ELEMENTS object.";},getAllValidFooterElementValues:function(){return Object.keys(m).map(function(a){return m[a]})}};
return{summon:c.summon,isSummoned:c.isSummoned,setFooterHighlight:c.setFooterHighlight,FOOTER_ELEMENTS:m}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-discovery","spaui-async","ready").register("spaui-featured-content",function(e,g,m,c,a,b){var h,n,f={init:function(k){h=k;a.register("featured-content","info",!1,f.instrumentDiscover);c.subscribeAsyncModuleEvent("featured-content",b.COMPLETED_EVENT,f.onload)},onload:function(){f.hydrate()},hydrate:function(){n=h.find("#spaui-featured-content-results .spaui-search-results")},
getTopicIds:function(){var a=[];n.find("li.spaui-search-result a.spaui-search-result-hot").each(function(){var b=e.$(this);a.push(b.data("id"))});return a},instrumentDiscover:function(){var a=f.getTopicIds();g.send({from:m.getFrom(),where:g.getContext("featured"),to:"discovered",additionalObj:{featuredTopicIds:a.join(",")}})}};return{getTopicIds:f.getTopicIds,init:f.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-metrics","spaui-content").register("spaui-feedback",function(e,g,m,c,a){var b,
h,n={active:null,max:1E3,typing:!1,warn:!1},f={init:function(a){f.hydrate(a);f.bind()},hydrate:function(a){b=a;h=b.find("#spaui-content-ui-back")},bind:function(){b.delegate(".spaui-feedback-link","click",f.giveFeedback);b.delegate("#spaui-feedback-rate-stars","hover",f.starsHover);b.delegate(".spaui-feedback-rate-star","hover",f.starHover);b.delegate(".spaui-feedback-rate-star","click",f.starClick);b.delegate("#spaui-feedback-rate-clear","click",f.starClear);b.delegate("#spaui-feedback-comments-textarea",
"focus",f.fbTextFocus);b.delegate("#spaui-feedback-comments-textarea","keyup",f.fbTextType);b.delegate("#spaui-feedback-comments-cancel","click",f.commentsClear);b.delegate("#spaui-feedback-comments-send","click",f.commentsSend)},giveFeedback:function(a){a.preventDefault();f.launchFeedback()},launchFeedback:function(){a.placeTemplate("feedback",function(a){c.send({from:m.getFrom(),where:c.getContext("navFeedback"),to:c.getPlace("feedback")})})},starsHover:function(a){"mouseenter"===a.type&&(b.find(".spaui-feedback-rate-star").removeClass("on"),
b.find("#spaui-feedback-rate-confirm").hide());if("mouseleave"===a.type)for(b.find(".spaui-feedback-rate-star").removeClass("over"),b.find(".spaui-feedback-rate-text").hide(),n.active&&b.find("#spaui-feedback-rate-confirm").show(),a=1;a<n.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on")},starHover:function(a){if("mouseenter"===a.type){var d=parseInt(a.currentTarget.id.substr(24),10);b.find("#spaui-feedback-rate-confirm").hide();b.find(".spaui-feedback-rate-text").hide();b.find("#spaui-feedback-rate-text"+
d).show();var c;for(c=1;c<d+1;c++)b.find("#spaui-feedback-rate-star"+c).addClass("over")}"mouseleave"===a.type&&(e.$(a.currentTarget).removeClass("over"),e.$(a.currentTarget).removeClass("on"))},starClick:function(a){n.active=parseInt(a.currentTarget.id.substr(24),10);b.find(".spaui-feedback-rate-star").removeClass("on");b.find(".spaui-feedback-rate-star").removeClass("over");b.find(".spaui-feedback-rate-text").hide();for(a=1;a<n.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on");b.find("#spaui-feedback-rate-confirm").show();
b.find("#spaui-feedback-rate-comments").show();c.send({from:m.getFrom(),where:c.getContext("rating"),to:c.getPlace("setFbRate"),payloadObj:{feedbackStarRating:n.active}})},starClear:function(a){a.preventDefault();b.find("#spaui-feedback-rate-confirm").hide();b.find("#spaui-feedback-rate-comments").hide();n.active=null;b.find(".spaui-feedback-rate-star").removeClass("on");b.find("#spaui-feedback-context").show();c.send({from:m.getFrom(),where:c.getContext("rating"),to:c.getPlace("setFbClear")})},fbTextFocus:function(a){a=
b.find("#spaui-feedback-comments-textarea");a.addClass("active");g.textareaFocusPlaceholderFix(a)},fbTextType:function(a){var d=b.find("#spaui-feedback-comments-counter");a=a.currentTarget.value;n.typing||(d.show(),b.find("#spaui-feedback-comments-buttons").show(),b.find("#spaui-feedback-context").hide(),n.typing=!0);var c=n.max-a.length;1>=c&&(a.substr(0,n.max),c=0);g.toggleClassOnCond(d,"asp-color-price",21>c);d.text(c)},commentsSend:function(a){a.preventDefault();a=b.find("#spaui-feedback-comments-textarea").val();
""!==a&&(n.typing=!1,h.trigger("click",g.gebi("spaui-feedback-message").innerHTML),c.send({from:m.getFrom(),to:c.getPlace("setFbSend"),where:c.getContext("rating"),payloadObj:{feedbackText:a}}))},commentsClear:function(a){a.preventDefault();n.typing=!1;b.find("#spaui-feedback-comments-textarea").val("");b.find("#spaui-feedback-comments-textarea").removeClass("active");b.find("#spaui-feedback-comments-counter").hide();b.find("#spaui-feedback-comments-counter").text(n.max);b.find("#spaui-feedback-comments-buttons").hide();
b.find("#spaui-feedback-context").show()},setTyping:function(a){n.typing=a},overrideConfig:function(a){n=e.$.extend({},n,a)}};return{init:f.init,overrideConfig:f.overrideConfig,setTyping:f.setTyping,launchFeedback:f.launchFeedback}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-content","spaui-history","spaui-events","spaui-state").register("spaui-forums",function(e,g,m,c,a,b,h){var n=null,f={},k={init:function(a){k.hydrate(a);k.bind()},hydrate:function(b){f.spaui=b;f.templates=b.find("#spaui-templates");
n=a.getAthenaUrlPrefix()+"forums"},bind:function(){b.subscribe(b.getName("newPage"),k.onNewPage);b.subscribe(b.getName("leavingPage"),k.onLeavingPage);k.bindForums([".spaui-forums-thread",".spaui-forums-thread-subject"],"click",k.openThread);k.bindForums([".spaui-forums-forum",".spaui-forums-forum-name"],"click",k.openForum);k.bindForums(".spaui-forums-browse-link","click",k.openBrowseForum)},getForumSelector:function(a){e.$.isArray(a)||(a=[a]);a.unshift("#spaui-forums");return a.join(" ")},bindForums:function(a,
b,c){return f.spaui.delegate(k.getForumSelector(a),b,c)},getForumsElements:function(a){return f.spaui.find(k.getForumSelector(a))},displayForums:function(){var b=h.enhanceUrl(n);c.placeEndpoint("forums",b,function(){m.send({from:a.getFrom(),where:m.getContext("footer"),to:m.getPlace("forums")})})},onNewPage:function(b){if(b.type===c.getPageType("forums")){b=f.spaui.find("#spaui-forums #spaui-forums-title-bar");0<b.length&&(f.specialTitleBar&&f.specialTitleBar.remove(),f.specialTitleBar=b);c.displaySpecialTitleBar(f.specialTitleBar);
var h=[];k.getForumsElements([".spaui-forums-threads-list",".spaui-forums-thread"]).each(function(){h.push(e.$(this).data("thread-id"))});var r=[];k.getForumsElements([".spaui-forums-forum-list",".spaui-forums-forum"]).each(function(){r.push(e.$(this).data("forum-id"))});m.send({from:a.getFrom(),where:"forumsLinks",to:"discovered",additionalObj:{featuredThreadIds:h.join(","),suggestedForumIds:r.join(",")}})}},onLeavingPage:function(a){a.type===c.getPageType("forums")&&f.templates.append(f.specialTitleBar)},
openThread:function(a){k.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-thread");k.instrumentForums(m.getContext("featuredThreads"),"ThreadClicked",{threadId:a.data("thread-id"),rank:a.data("rank"),total:k.getForumsElements(".spaui-forums-threads-list").data("total")})},openForum:function(a){k.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-forum");k.instrumentForums(m.getContext("suggestedForums"),"ForumClicked",{forumId:a.data("forum-id"),rank:a.data("rank"),total:k.getForumsElements(".spaui-forums-forum-list").data("total")})},
openBrowseForum:function(a){k.openInNewTab(a);k.instrumentForums(m.getContext("browseForums"),"BrowseClicked",{})},openInNewTab:function(a){a.preventDefault();g.openInNewWindow(a.target.getAttribute("href"))},instrumentForums:function(b,c,f){m.send({from:a.getFrom(),where:b,to:"forums"+c,additionalObj:f})}};return{init:k.init,displayForums:k.displayForums}});ASPP.when("ASPA","spaui-metrics","spaui-ui","spaui-search-suggestions","spaui-browser-support").register("spaui-global-nav-search",function(e,
g,m,c,a){var b,h,n,f,k,d,q={invokeSearchFunc:null,invokeSynchronizeFunction:null,defaultSearchValue:null},r=!1,l={init:function(a,b){l.hydrate(a,b);l.bind()},hydrate:function(a,c){q.invokeSearchFunc=a;q.invokeSynchronizeFunction=c;b=e.$(document);h=e.$("#sc-global-search");n=h.find("#sc-global-search-form #sc-search-field");f=h.find("#sc-global-search-form .sc-search-button");k=e.$("#spaui-templates #spaui-template-global-nav-search-loading");d=k.find("#spaui-global-nav-loading-tip");0<n.length&&
(q.defaultSearchValue=n.val().trim());l.setupPlaceholder()},bind:function(){f.click(l.clickSearch);b.keydown(l.searchKey);n.keyup(l.synchronizeAthenaSearch);n.focus(l.searchFocused);n.blur(l.searchBlurred);n.bind("paste",q.pasteFunc)},setupPlaceholder:function(){a.placeholderIsSupported()&&!l.placeHolderIsSet(n)?(n.attr("placeholder",q.defaultSearchValue),n.removeAttr("onclick"),n.removeAttr("onblur"),n.val(""),q.placeholderFunc=l.doNothing,q.pasteFunc=l.doNothing):(q.placeholderFunc=l.setPlaceholder,
q.pasteFunc=l.onPaste)},placeHolderIsSet:function(a){return a.attr("placeholder")!==A},onPaste:function(){!l.searchTermIsViable()&&r&&n.val("")},doNothing:function(){},synchronizeAthenaSearch:function(a){q.invokeSynchronizeFunction(n.val())},clickSearch:function(a){a.preventDefault();l.submitSearch()},searchKey:function(a){if(r&&13===(a.keyCode||a.which))return l.submitSearch(),a.preventDefault(),!1},searchFocused:function(a){r=!0;c.newBind(n,l.submitSearch,g.getPlace("globalNav"))},searchBlurred:function(a){r=
!1},searchTermIsViable:function(){var a=n.val().trim();return""!==a&&a!==q.defaultSearchValue},submitSearch:function(a){if(l.searchTermIsViable()){l.showLoading();c.disable();c.hide();var b=function(){l.hideLoading();c.enable();m.summoner({},function(){n.blur()})};q.invokeSearchFunc(n.val(),{from:g.getPlace("globalNav"),where:g.getContext("globalSearch")},a,function(a){"order-redirect"===a?l.changeLoadingToOrderRedirect():"inventory-redirect"===a||"skucentral-redirect"===a?l.changeLoadingToInventoryRedirect():
b()},function(a){b()})}},showLoading:function(){n.after(d)},changeLoadingToOrderRedirect:function(){d.addClass("spaui-global-nav-redirecting-to-order")},changeLoadingToInventoryRedirect:function(){d.addClass("spaui-global-nav-redirecting-to-inventory")},hideLoading:function(){d.removeClass("spaui-global-nav-redirecting-to-order");d.removeClass("spaui-global-nav-redirecting-to-inventory");k.append(d)},setSearchBoxValue:function(b){l.isEmpty(b)&&!a.placeholderIsSupported()?q.placeholderFunc():n.val(b)},
isEmpty:function(a){return a===A||null===a||0===a.length},setPlaceholder:function(){n.val(q.defaultSearchValue)}};return{init:l.init,setSearchBoxValue:l.setSearchBoxValue}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-alert-metrics","spaui-alert-util","spaui-util").register("spaui-grouped-alerts",function(e,g,m,c,a,b){var h=g.getContext("groupedAlert"),n=g.getContext("groupedAlert"),f=null,k={init:function(a){f=a;f.delegate(k.getSelector(".spaui-grouped-alert-item-action"),"click",k.instrumentInteract);
f.delegate(k.getSelector(".spaui-grouped-alert-extender"),"click",k.toggleExtender)},registerHandles:function(a){a.customRegister(k.isGroupedAlert,k.alertDiscovered,function(){},function(){},function(){})},isGroupedAlert:function(a){return a.hasClass("spaui-grouped-alert")},alertDiscovered:function(b){var f=[];k.getRangeOfAlerts(b,0,2).each(function(){var a=e.$(this);f.push(a.data("id"))});b=a.getAlertDetails(b);b.id=f.join(",");c.discover(h,n,b)},toggleExtender:function(a){a.preventDefault();a=e.$(a.currentTarget);
b.updateScrollTop(a.closest(".spaui-grouped-alert"),100);a.hasClass("spaui-alert-extender-closed")?(a.removeClass("spaui-alert-extender-closed").addClass("spaui-alert-extender-open"),a.parent().find(".spaui-alert-content").css("display","block"),k.extenderExpanded(a.closest(".spaui-grouped-alert"))):(a.removeClass("spaui-alert-extender-open").addClass("spaui-alert-extender-closed"),a.parent().find(".spaui-alert-content").css("display","none"),k.extenderCollapsed(a.closest(".spaui-grouped-alert")))},
extenderExpanded:function(b){var f=[];k.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);f.push(a.data("id"))});var r=a.getAlertDetails(b),l=f.join(",");c.sendIrisDiscover(l,function(){g.send({from:m.getFrom(),where:h,to:g.getPlace("groupedAlertInnerDiscover"),additionalObj:{isPush:r.isPush},payloadObj:{notificationId:l,notificationType:r.type,notificationName:r.name}})})},extenderCollapsed:function(b){var f=[];k.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);f.push(a.data("id"))});b=
a.getAlertDetails(b);b.id=f.join(",");c.minimize(h,n,b)},instrumentInteract:function(b){var f=a.getAlertFromInnerEvent(b);c.read(h,n,k.getDetailsForAlert(f,k.getAlertFromEvent(b)))},getSelector:function(a){e.$.isArray(a)||(a=[a]);a.unshift(".spaui-grouped-alert");return a.join(" ")},getRangeOfAlerts:function(a,b,c){return a.map(function(){return e.$(this).find("ul li.spaui-grouped-alert-item").map(function(){return e.$(this)}).get()}).slice(b,c)},getDetailsForAlert:function(b,c){var f=a.getAlertDetails(b);
f.id=c.data("id");return f},getAlertFromEvent:function(a){return e.$(a.target).closest(".spaui-grouped-alert-item")}};return{init:k.init,registerHandles:k.registerHandles}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-weblabs","spaui-discovery","spaui-expand","spaui-ui").register("spaui-help",function(e,g,m,c,a,b,h,n,f){var k=null,d=".spaui-help-content "+n.selectors.collapsedElementHeader,q=".spaui-help-content "+n.selectors.expandedElementHeader,r,l={init:function(a){r=
a;l.delegateBind();l.eventBind()},initialState:function(){return a.hasTemplate("preloadedHelp")?(l.displayHelpTopic(null,null,null,null,!1,!0),!0):!1},delegateBind:function(){r.delegate(d,"click",l.expand);r.delegate(q,"click",l.collapse)},eventBind:function(){h.registerWithoutAsync("helpTopic",c.getPageType("helpTopic"),!0,l.discoverHelpTopic);h.registerWithoutAsync("browseAllHelp",c.getPageType("browseAllHelp"),!0,l.discoverBrowseAllHelp)},bind:function(){e.$(".spaui-help-content .collapsible").each(function(){var a=
e.$(this);l.determineCollapse(a)})},expand:function(a){n.expand(a,l.instrumentExpandCollapse)},collapse:function(a){n.collapse(a,l.instrumentExpandCollapse)},determineCollapse:function(a){n.transformCollapse(a)},displayHelpTopic:function(a,b,d,h,r,n){d===A&&(d={});var m=function(b){var c=l.getTopicId(),m=l.getTrackingData({to:g.getTopic()+c},d,r,n);b.isError?e.$.extend(m,{isError:!0,errorDetails:b.errorDetails}):b.isPlatformError&&(m.isPlatformError=!0);n&&(a=c);k={tracking:m,bookmark:h,actualTopicId:c+
"",requestedTopicId:a+""};b.isError||b.isPlatformError||!n||f.summoner({preload:!0})};n?c.placeHelpTopicFromTemplate(m):c.placeHelpTopic(a,b,m)},displayHelpTopicFromSession:function(a,b,d){l.displayHelpTopic(a,b,d,null,!0)},getTopicId:function(a){return r.find(".spaui-help").data("topic")},instrumentRedirects:function(a,b){g.send({from:"topic"+b,where:"redirect",to:"topic"+a})},discoverHelpTopic:function(){if(k){var b=k.tracking,d=k.bookmark,c=k.actualTopicId,f=k.requestedTopicId;b.isError||b.isPlatformError||
(l.bind(),d&&(d=d.slice(1),a.gebi(d)&&a.updateScrollTop(e.$(d),50)));g.validate(b);g.send(b);c!==f&&l.instrumentRedirects(c,f);k=null}},displayBrowseAllHelp:function(a,b){c.placeEndpoint(c.getPageType("browseAllHelp"),m.getAthenaUrlPrefix()+"browse-all-help/",function(d){k={tracking:l.getTrackingData({where:g.getContext("featured"),to:g.getPlace("browse")},a,b)}})},displayBrowseAllHelpFromSession:function(a){l.displayBrowseAllHelp(a,!0)},getTrackingData:function(a,b,d,c){var f=a.to;a=e.$.extend({from:m.getFrom()},
a,b,{to:f});d&&(a.from=a.to,a.where=g.getContext("session"),a.to=g.getPlace("refresh"));c&&(a.where=g.getContext("preload"));return a},discoverBrowseAllHelp:function(){k&&(g.send(k.tracking),k=null)},instrumentExpandCollapse:function(a){g.send({from:m.getFrom(),where:g.getContext("content"),to:a})}};return{init:l.init,initialState:l.initialState,displayHelpTopic:l.displayHelpTopic,displayHelpTopicFromSession:l.displayHelpTopicFromSession,displayBrowseAllHelp:l.displayBrowseAllHelp,displayBrowseAllHelpFromSession:l.displayBrowseAllHelpFromSession,
getTopicId:l.getTopicId}});ASPP.when("ASPA").register("spaui-history",function(e){var g=[],m=[],c=[],a=[],b=[],h=["info"],n=[],f=[],k="/hz/sellerpartner/",d="/hz/augur/",q="any",r=null,l=0,p=null,t=!1,z="any",v={init:function(a){a&&(a.athenaUrl&&(k=a.athenaUrl),a.augurUrl&&(d=a.augurUrl))},getAthenaUrlPrefix:function(){return k},getAugurUrlPrefix:function(){return d},returnFrom:function(){return h[h.length-1]},returnTo:function(){return h[h.length-2]},returnPop:function(){return f[f.length-1]},returnFromLength:function(){return h.length},
prepForHome:function(){var a=g[0];g=[];g.push(a);var a=h[0],b=v.returnFrom();h=[];h.push(a);h.push(b);c=[]},pushDom:function(a){g.push(a)},pushPop:function(a){f.push(a)},pushScroll:function(a){n.push(a)},popDom:function(){return g.pop()},popPop:function(){return f.pop()},popScroll:function(){return n.pop()},update:function(d){d.isBack?(h.pop(),m.pop(),c.pop(),a.pop(),b.pop()):(h.push(d.to),"search"!==d.to&&(q="any",r=null,l=0,p=null),m.push(q),c.push(r),a.push(l),b.push(p))},overrideHome:function(a){g=
[];h=[a]},setSearchStartHistory:function(b){a[a.length-1]=b},returnSearchStartHistory:function(b){return a[a.length-1]},returnSearchTotalHistory:function(){return b[b.length-1]},returnSearchQueryHistory:function(){return c[c.length-1]},returnSearchScrollBuffer:function(){return 200},setSearchStart:function(a){l=a},returnSearchStart:function(){return l},returnSearchSize:function(){return 20},setSearchTotal:function(a){p=a},returnSearchTotal:function(){return p},setSearchQuery:function(a){r=a},returnSearchQuery:function(){return r},
returnSearchContent:function(){return q},setSearchShowForums:function(a){t=a},returnSearchShowForums:function(){return t},setSearchFilter:function(a){z=a},returnSearchFilter:function(){return z}};return{init:v.init,getAthenaUrlPrefix:v.getAthenaUrlPrefix,getAugurUrlPrefix:v.getAugurUrlPrefix,update:v.update,prepForHome:v.prepForHome,getFrom:v.returnFrom,getTo:v.returnTo,getPop:v.returnPop,getFromLength:v.returnFromLength,pushDom:v.pushDom,pushPop:v.pushPop,pushScroll:v.pushScroll,popDom:v.popDom,
popPop:v.popPop,popScroll:v.popScroll,overrideHome:v.overrideHome,setSearchStartHistory:v.setSearchStartHistory,getSearchStartHistory:v.returnSearchStartHistory,getSearchTotalHistory:v.returnSearchTotalHistory,getSearchQueryHistory:v.returnSearchQueryHistory,setSearchRequest:v.setSearchRequest,setSearchStart:v.setSearchStart,setSearchQuery:v.setSearchQuery,getSearchStart:v.returnSearchStart,getSearchContent:v.returnSearchContent,getSearchSize:v.returnSearchSize,getSearchQuery:v.returnSearchQuery,
getSearchTotal:v.returnSearchTotal,setSearchTotal:v.setSearchTotal,setSearchShowForums:v.setSearchShowForums,getSearchShowForums:v.returnSearchShowForums,setSearchFilter:v.setSearchFilter,getSearchFilter:v.returnSearchFilter,getSearchRequest:v.returnSearchRequest,getSearchScrollBuffer:v.returnSearchScrollBuffer}});ASPP.when("ASPA","spaui-metrics","spaui-util","spaui-history","spaui-session","spaui-contact-deflection","spaui-events","spaui-content","spaui-shim").register("spaui-hmd",function(e,g,m,
c,a,b,h,n,f){var k=null,d,q,r={commentFadeInDuration:2E3,completeFadeOutDelay:2E3,fadeOutDuration:400,improvements:{1:!1,2:!1,3:!1,4:!1},commentsMaxChar:1E3,commentsAreForYes:!1},l={init:function(a){l.hydrate(a);l.bind()},hydrate:function(a){d=a},bind:function(){d.delegate("#spaui-help-hmd-yes","click",l.yes);d.delegate("#spaui-help-hmd-no","click",l.no);d.delegate(".spaui-help-hmd-comments-textarea textarea","click",l.focusTextarea);d.delegate(".spaui-help-hmd-comments-textarea textarea","keyup",
l.typeTextarea);d.delegate(".spaui-help-hmd-comments-cancel","click",l.clear);d.delegate(".spaui-help-hmd-comments-send","click",l.send);d.delegate(".spaui-help-hmd-q","change",l.check);d.delegate(".spaui-help-hmd-message a.spaui-external-contact-us-link","click",l.contactUsLinkClicked);h.subscribe(h.getName("newPage"),l.onNewPage)},dom:function(a){return d.find("#spaui-help-hmd-"+a)},commentsDom:function(a){return k.find(".spaui-help-hmd-comments-"+a)},allCommentsDom:function(a){return d.find(".spaui-help-hmd-comments-"+
a)},getContent:function(){return n.getContentPane()},onNewPage:function(a){a.type===n.getPageType("helpTopic")&&(0>=d.find("#spaui-content #spaui-help-hmd-question").length&&(n.getContentPane()[0].innerHTML+=m.gebi("spaui-template-help-hmd").innerHTML),l.allCommentsDom("send").attr("data-topic",a.topicId),l.dom("yes").attr("data-topic",a.topicId),l.dom("no").attr("data-topic",a.topicId))},activateComments:function(a){l.dom("question").addClass("spaui-hide");var c=l.dom("message");c.removeClass("spaui-hide");
k=d.find("#spaui-help-hmd-comments-"+a);k.removeClass("spaui-hide");q=k.find(".spaui-help-hmd-comments-textarea textarea");r.commentsAreForYes="yes"===a;l.resetComments();l.getContent().animate({scrollTop:l.getContent()[0].scrollHeight},r.commentFadeInDuration);!r.commentsAreForYes&&b.isActive()&&b.isVisiting()&&c.find(".spaui-help-hmd-message-inner .asp-alert-content").html(l.dom("negative-get-support-card-message").html())},contactUsLinkClicked:function(b){a.setContactUsLinkClicked(!0);g.send({from:c.getFrom(),
where:g.getContext("helpHmd"),to:"getSupportContactUsLink",additionalObj:{topicId:l.dom("no").data("topic")}})},yes:function(a){a.preventDefault();l.activateComments("yes");m.textareaFocusPlaceholderFix(q);l.instrument(a,!0,!1)},no:function(a){a.preventDefault();l.activateComments("no");m.textareaFocusPlaceholderFix(q);l.instrument(a,!1,!1)},focusTextarea:function(a){q.addClass("active");m.textareaFocusPlaceholderFix(q)},typeTextarea:function(a){1>=r.commentsMaxChar-a.currentTarget.value.length&&
(a.currentTarget.value=a.currentTarget.value.substr(0,r.commentsMaxChar));a=r.commentsMaxChar-a.currentTarget.value.length;l.commentsDom("counter").text(a);m.toggleClassOnCond(l.commentsDom("counter"),"asp-color-price",21>a)},clear:function(a){a.preventDefault();l.resetComments()},resetComments:function(){Object.keys(r.improvements).forEach(function(a){r.improvements[a]=!1;d.find("#spaui-help-hmd-q-"+a).attr("checked",!1)});q.val("");q.removeClass("active");l.commentsDom("counter").text(r.commentsMaxChar)},
send:function(a){a.preventDefault();if(null!==k){m.textareaFocusPlaceholderFix(q);l.instrument(a,r.commentsAreForYes,!0);l.resetComments();k.addClass("spaui-hide");k=null;l.dom("message").addClass("spaui-hide");l.dom("message-again").removeClass("spaui-hide");var b=setTimeout(function(){l.dom("message-again").fadeOut(r.fadeOutDuration,function(){l.dom("message-again").remove()});clearTimeout(b);b=null},r.fadeOutDuration)}},check:function(a){var b=m.gda(a.currentTarget,"aInputName");a=e.$(a.currentTarget).find("input");
r.improvements[b]=a.prop("checked")},instrument:function(a,b,d){a=m.gda(a.currentTarget,"topic");var f="",l=[],f=q.val();!b&&d&&Object.keys(r.improvements).forEach(function(a){r.improvements[a]&&l.push(e.$("#spaui label[for=spaui-help-hmd-q-"+a+"]").find(".asp-checkbox-label").html())});b=b?"1":"0";g.sendHmd({from:c.getFrom(),where:"HMD",to:"topic"+a,payloadObj:{source:"Athena",helpHmd:b,helpNodeId:a,helpHmdSuggestions:l.join("|"),helpFeedback:f}})},overrideConfig:function(a){r=e.$.extend({},r,a)}};
return{init:l.init,overrideConfig:l.overrideConfig}});ASPP.when("ASPA","spaui-metrics").register("spaui-instance",function(e,g){var m=null,c={id:null,data:{deflectionVisitId:null,contactUsLinkClicked:!1}},a={init:function(b){m=b;c.id=g.getSession();try{var e=JSON.parse(m.getItem("spaui"));a.updateCfgData(e)}catch(n){}},updateCfgData:function(a){a.id&&a.id===c.id?c.data=e.$.extend(!0,{},c.data,a.data):m.removeItem("spaui")},update:function(){m.setItem("spaui",JSON.stringify(c))},setDeflectionCardVisitId:function(b){c.data.deflectionVisitId=
b;a.update()},getDeflectionCardVisitId:function(){return c.data.deflectionVisitId},setContactUsLinkClicked:function(b){c.data.contactUsLinkClicked=b;a.update()},getContactUsLinkClicked:function(){return c.data.contactUsLinkClicked}};return{init:a.init,setDeflectionCardVisitId:a.setDeflectionCardVisitId,getDeflectionCardVisitId:a.getDeflectionCardVisitId,setContactUsLinkClicked:a.setContactUsLinkClicked,getContactUsLinkClicked:a.getContactUsLinkClicked}});ASPP.when("ASPA","spaui-metrics","spaui-history",
"spaui-events","spaui-async").register("spaui-linkcopy",function(e,g,m,c,a){var b,h=null,n={init:function(a,c){g.getData()&&"true"===g.getSpoofer()&&(b=a,b.delegate(".spaui-url-icon","click",n.linkCopyOpen),b.delegate(".spaui-url-input-close-icon","click",n.linkCopyClose),b.delegate(".spaui-link-copy-container","click",n.stopClickBubbling),h=c,n.bind())},bind:function(){c.subscribe(c.getName("newPage"),n.showURLIconIfPresent);c.subscribe(c.getName("newContentOnPage"),n.showURLIconIfPresent);c.subscribeAsyncModuleEvent("featured-content",
a.COMPLETED_EVENT,n.showURLIconIfPresent)},showURLIconIfPresent:function(){b.find(".spaui-url-icon").removeClass("spaui-hide");b.find(".spaui-search-results-title").addClass("spaui-inline")},linkCopyOpen:function(a){a.preventDefault();var b=e.$(a.currentTarget),d=b.parent();a=d.find(".spaui-url-input");d=d.find(".spaui-url-input-close-icon");b=n.generateLink(b);a.val(b).removeClass("spaui-hide");d.removeClass("spaui-hide");a.select();g.send({from:m.getFrom(),to:g.getPlace("setLinkCopyOpen"),where:g.getContext("content")})},
linkCopyClose:function(a){a.preventDefault();a=e.$(a.currentTarget);a.parent().find(".spaui-url-input").addClass("spaui-hide");a.addClass("spaui-hide");g.send({from:m.getFrom(),to:g.getPlace("setLinkCopyClosed"),where:g.getContext("content")})},stopClickBubbling:function(a){a.preventDefault();a.stopPropagation()},generateLink:function(a){a=a.data("url");return 0===a.indexOf("http")?a:h+a}};return{init:n.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-metrics","spaui-history","spaui-session",
"spaui-forums","spaui-ui","spaui-events","spaui-ajax","spaui-help","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-chat").register("spaui-links",function(e,g,m,c,a,b,h,n,f,k,d,q,r,l,p){var t,z,v={init:function(a,b){v.hydrate(a,b);v.bind()},hydrate:function(a,b){t=a;t.find("#spaui-link-browse");z=b},bind:function(){t.delegate(".spaui-help-content a","click",v.helpContent);t.delegate(".spaui-ph-item-content-inner a","click",v.helpContent);t.delegate("#spaui-content .spaui-direct-answer a",
"click",v.directAnswer);t.delegate(".spaui-link-alerts-internal","click",v.alertsInternal);t.delegate(".spaui-link-alerts-external","click",v.alertsExternal);t.delegate(".spaui-link-ph-policy-internal","click",v.phPolicyInternal);t.delegate(".spaui-link-fc-internal","click",v.fcInternal);t.delegate(".spaui-link-fc-external","click",v.fcExternal);t.delegate(".spaui-link-tool-external","click",v.toolExternal);t.delegate(".spaui-link-search-internal","click",v.searchInternal);t.delegate(".spaui-link-search-external",
"click",v.searchExternal);t.delegate(".spaui-link-no-results-external","click",v.searchNoResultsExternal);t.delegate(".spaui-link-breadcrumb-help","click",v.bcHelp);t.delegate(".spaui-link-breadcrumb-su","click",v.bcSellerU);t.delegate(".spaui-link-breadcrumb-forum","click",v.bcForum);t.delegate("#spaui-link-browse","click",v.browse);t.delegate(".spaui-link-browse-internal","click",v.browseInternal);t.delegate(".spaui-link-browse-parent","click",v.browseParent);t.delegate("#spaui-foot-caselog","click",
v.caseLog);t.delegate("#spaui-foot-forums","click",v.forums);t.delegate("#spaui-foot-contact","click",v.contact);t.delegate("#spaui-foot-chat","click",v.chat);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-internal","click",v.pushNotificationInternal);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-external","click",v.pushNotificationExternal);f.subscribe(f.getName("featuresChanged"),v.updateContactUsState)},updateContactUsState:function(){var a=
t.find("#spaui-foot-contact");a.data("href")&&(a.attr("href",a.data("href")),t.removeClass("spaui-disable-contact-us-weblab"))},directAnswer:function(a){var d=e.$(a.currentTarget);0<d.parents(".spaui-help-content").size()||(q.isDirectAnswerTool(d)&&b.setPinned(!1),v.contentLink(a,c.getContext("directAnswer")))},helpContent:function(a){v.contentLink(a,c.getContext("content"))},contentLink:function(l,f){var h=l.currentTarget.href,k=e.$(l.currentTarget),r=l.currentTarget.getAttribute("target");g.isOnArticle();
var p=g.startsWith(h,"mailto:"),m=h.match(/\.[0-9a-z]{1,5}$/i),q=l.currentTarget.hash&&v.isLinkToCurrentArticle(h),t=g.getTopicIDFromLink(h),z=g.contains(h,/(mai|rainier|seller-?central|.*\.desktop).*\.amazon\./),A=g.contains(h,"www.amazon."),D=g.contains(h,"/hz/productsearch/"),r=-1!==["_self","_blank","_parent","_top","",null].indexOf(r),J=g.isHashOnCurrentPage(h);if(p)c.send({from:a.getFrom(),where:f,to:c.getPlace("mailtoLink"),additionalObj:{email:h.substr(7)}});else if(z&&!q&&!t)(k.hasClass("augur-wf-primary-button")||
k.hasClass("augur-wf-secondary-link"))&&b.setPinned(!1),c.send({from:a.getFrom(),where:f,to:c.getPlace("launchGenericPage"),additionalObj:{url:v.cleanUrl(h)}});else if(!J)if((m||q||t||A||r||D)&&l.preventDefault(),m)c.send({from:a.getFrom(),where:f,to:c.getPlace("fileDownload"),additionalObj:{filename:h.substr(h.lastIndexOf("/")+1)}}),g.openInNewWindow(h);else if(q)n.scrollToHash(l.currentTarget.hash.substr(1));else if(t)d.displayHelpTopic(g.getTopicIDFromLink(h),h,{where:f});else if(A)c.send({from:a.getFrom(),
where:f,to:c.getPlace("retailLink"),additionalObj:{url:h}}),g.openInNewWindow(h);else if(D)b.setPinned(!1),g.openInNewWindow(h);else if(r)g.openInNewWindow(h);else{var h=e.$.extend({},l.target.attributes),k={},K;for(K in h)h.hasOwnProperty(K)&&(k[h[K].name]=h[K].value);c.send({from:a.getFrom(),where:f,to:c.getAction("unhandledLink"),additionalObj:k})}},cleanUrl:function(a){return a.split("?")[0]},isLinkToCurrentArticle:function(a){a=g.getTopicIDFromLink(a);var b=d.getTopicId()+"";return a===b},phPolicyInternal:function(a){a.preventDefault();
d.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},fcInternal:function(a){a.preventDefault();d.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where"),payloadObj:{resultRank:g.gda(a.currentTarget,"rank"),resultTotal:g.gda(a.currentTarget,"total")}})},fcExternal:function(b){b.preventDefault();c.send({from:a.getFrom(),where:g.gda(b.currentTarget,"where"),to:"launch-"+g.gda(b.currentTarget,
"to")+"-"+g.gda(b.currentTarget,"id"),payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},searchInternal:function(b){b.preventDefault();var c=parseInt(g.gda(b.currentTarget,"rank"),10)+a.getSearchStart();d.displayHelpTopic(g.gda(b.currentTarget,"id"),g.gda(b.currentTarget,"href"),{where:g.gda(b.currentTarget,"where"),payloadObj:{resultRank:c,resultTotal:g.gda(b.currentTarget,"total")}})},searchExternal:function(d){d.preventDefault();
b.setPinned(!1);var l=parseInt(g.gda(d.currentTarget,"rank"),10)+a.getSearchStart();c.send({from:a.getFrom(),where:g.gda(d.currentTarget,"where"),to:"launch-"+g.gda(d.currentTarget,"to")+"-"+g.gda(d.currentTarget,"id"),payload:"&resultRank="+l+"&resultTotal="+g.gda(d.currentTarget,"total")});g.openInNewWindow(d.currentTarget.href)},searchNoResultsExternal:function(b){c.send({from:a.getFrom(),where:c.getContext("noResults"),to:c.getPlace("launchNoSearchResults")})},bcHelp:function(b){b.preventDefault();
var l=b.currentTarget.href,f=g.getTopicIDFromLink(l),h=parseInt(g.gda(b.currentTarget,"rank"),10)+a.getSearchStart();d.displayHelpTopic(f,l,{where:c.getContext("breadcrumb"),payloadObj:{resultRank:h,resultTotal:g.gda(b.currentTarget,"total")}})},bcForum:function(b){b.preventDefault();c.send({from:a.getFrom(),where:c.getContext("breadcrumb"),to:"launch-Forum",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},
bcSellerU:function(b){b.preventDefault();c.send({from:a.getFrom(),where:c.getContext("breadcrumb"),to:"launch-SU",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},browse:function(a){a.preventDefault();d.displayBrowseAllHelp()},browseInternal:function(a){a.preventDefault();d.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},browseParent:function(b){b.preventDefault();
var d=e.$(b.currentTarget).find("a");b=e.$(b.currentTarget).next();var l="";b.is(":hidden")?(d.addClass("spaui-browse-parent-open"),b.show(),l=c.getPlace("setAhOpen")):(d.removeClass("spaui-browse-parent-open"),b.hide(),l=c.getPlace("setAhClose"));c.send({from:a.getFrom(),where:c.getContext("content"),to:l+c.sanitizeEventPart(d.attr("id"))})},alertsInternal:function(a,b){a.preventDefault();n.getVisible()||n.summoner({});var f=l.getAlertDetails(l.getAlertFromInnerEvent(a)),h=g.gda(a.currentTarget,
"item"),e=g.gda(a.currentTarget,"rank"),k=g.gda(a.currentTarget,"topic"),r=g.gda(a.currentTarget,"total"),p=a.currentTarget.getAttribute("href"),p=null===p?"":p,m=a.currentTarget.innerHTML;d.displayHelpTopic(k,p,{where:b?c.getContext("pushNotification"):c.getContext("alert"),additionalObj:{item:h,rank:e,total:r,itemUrl:p,itemText:m},payloadObj:{notificationId:f.id,notificationType:f.type,notificationName:f.name}})},alertsExternal:function(d,f){var h=l.getAlertDetails(l.getAlertFromInnerEvent(d)),
e=g.gda(d.currentTarget,"item"),r=g.gda(d.currentTarget,"rank"),p=g.gda(d.currentTarget,"total"),m=d.currentTarget.getAttribute("href"),m=null===m?"":m,n=d.currentTarget.innerHTML;-1!==d.currentTarget.href.toLowerCase().indexOf("gp/site-metrics/report.html")&&k.get(a.getAthenaUrlPrefix()+"alert/REDIRECT_TO_BIZ_REP?ids="+h.id);b.setPinned(!1);c.send({from:a.getFrom(),where:f?c.getContext("pushNotification"):c.getContext("alert"),to:"launch-tool",additionalObj:{item:e,rank:r,total:p,itemUrl:m,itemText:n},
payloadObj:{notificationId:h.id,notificationType:h.type,notificationName:h.name}})},toolExternal:function(d){b.setPinned(!1);d=d.currentTarget;d.hasAttribute("data-tool")&&c.send({from:a.getFrom(),where:c.getContext("tools"),to:c.sanitizeEventPart(g.gda(d,"tool"))})},pushNotificationInternal:function(a){v.alertsInternal(a,!0)},pushNotificationExternal:function(a){v.alertsExternal(a,!0)},caseLog:function(d){b.setPinned(!1);c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("caseLog")})},
forums:function(b){z?(b.preventDefault(),h.displayForums()):c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("forums")})},contact:function(d){r.isActive()?(d.preventDefault(),r.displayDeflectionCard(c.getContext("footer"))):(b.setPinned(!1),c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("contact")}))},chat:function(b){b.preventDefault();p.startChat();c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("chat")})}};return{init:v.init}});ASPP.when("ASPA",
"spaui-util","spaui-shim").register("spaui-metrics",function(e,g,m){var c={data:null,DROPPED_METRIC:"droppedMetric",MAXIMUM_SIZE:64,METRIC_FAILURE:"metricFailure",FIRST_REQUEST_FAILED:"firstRequestFailed",ALL_RETRIES_FAILED:"allRetriesFailed",MAX_RETRIES:3,RETRY_DELAY:300,endpoint:{protocol:"https://",host:"fls-na.amazon.com",path:"/1/action-impressions/1/OP/sp-athena/action/athena:",pathHmd:"/1/action-impressions/1/OP/sp-athena/action/help_hmd:",params:"",requestId:0},map:{context:{alert:"alert",
alertShinyObject:"alertShinyObject",allAlerts:"allAlerts",async:"async",autoSummonParam:"autoSummonParam",autoSummonHelpParam:"autoSummonHelpParam",breadcrumb:"breadcrumb",browseForums:"browseForums",content:"content",getSupportCardItem:"getSupportCardItem",directAnswer:"direct-answer",eciNotification:"eciNotification",externalApi:"externalApi",externalTrigger:"externalTrigger",featured:"featured",featuredThreads:"featuredThreads",footer:"footer",globalSearch:"globalSearch",groupedAlert:"groupedAlert",
header:"header",helpHmd:"helpHmd",navBack:"navBack",navFeedback:"navFeedback",navHome:"navHome",navSearch:"navSearch",noHelpResults:"noHelpResults",noResults:"noResults",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCat",predictive:"predictive",preload:"preload",previewFeedback:"previewFeedback",previewGetAnswers:"previewGetAnswers",previewAnywhere:"previewAnywhere",pushNotification:"pushNotification",results:"results",rating:"rating",rightClick:"rightClick",scFooter:"scFooter",
searchSuggestions:"search-suggestions",session:"session",suggestedForums:"suggestedForums",tools:"tools",trigger:"trigger",selfServiceCard:"selfServiceCard"},place:{alerts:"alerts",async:"async",browse:"browse",caseLog:"caseLog",chat:"chat",contact:"contact",getSupportCard:"getSupportCard",globalNav:"globalNav",info:"info",external:"external",feedback:"feedback",forums:"forums",search:"search",searchMore:"searchMore",topic:{id:null,text:"topic"},refresh:"refresh",fileDownload:"fileDownload",mailtoLink:"mailtoLink",
retailLink:"retailLink",popPage:"popPage",previewCard:"previewCard",launchGenericPage:"launch-genericPage",launchNoSearchResults:"launch-noSearchResults",loadPushNotification:"loadPushNotification",dismissPushNotification:"dismissPushNotification",openPushNotification:"openPushNotification",setAlertRead:"setAlertRead",setAlertAbort:"setAlertAbort",setFeaturedContentAndPredictiveHelp:"setFeaturedContentAndPredictiveHelp",setForumsVisible:"setForumsVisible",setForumsVisibleViaConfig:"setForumsVisibleViaConfig",
setForumsHidden:"setForumsHidden",setContactUsFooter:"setContactUsFooter",setLaunchContactUs:"setLaunchContactUs",disabledGetSupportClick:"disabledGetSupportClick",setLinkCopyOpen:"setLinkCopyOpen",setLinkCopyClosed:"setLinkCopyClosed",searchRedirect:"searchRedirect",searchErrorClient:"search-error-client",setAthenaSummoned:"setAthenaSummoned",setAthenaBanished:"setAthenaBanished",setAhOpen:"setAhOpen-",setAhClose:"setAhClose-",setFbRate:"setFbRate",setFbClear:"setFbClear",setFbSend:"setFbSend",setPhAdopt:"setPhAdopt",
setPhOpen:"setPhOpen",setPhClose:"setPhClose",setPhDismiss:"setPhDismiss",setPhYes:"setPhYes",setPhNo:"setPhNo",setSizeActive:"",setSizeLarge:"setSizeLarge",setSizeSmall:"setSizeSmall",alertDiscovered:"alertDiscovered",alertMassDiscovered:"alertMassDiscovered",alertMassRead:"alertMassRead",alertSuppressed:"alertSuppressed",minimized:"minimized",noAlertToShow:"noAlertToShow",groupedAlertInnerDiscover:"groupedAlertInnerDiscover",notificationCard:"notificationCard",notificationsCount:"notificationsCount",
notificationCardDiscoverd:"notificationCardDiscoverd",notificationCardCategory:"notificationCardCat",notificationCategoryDiscovered:"notificationCatDiscovered",selfServiceCard:"selfServiceCard",selfServiceCardDiscovered:"selfServiceCardDiscovered",selfServiceLinkClicked:"selfServiceLinkClicked"},action:{unhandledLink:"unhandledLink"}},ADDITIONAL_METADATA:"&additionalMetadata="},a={init:function(b){c.endpoint.host=b.host;b.hasOwnProperty("path")&&""!==b.path&&(c.endpoint.path=b.path);c.data=e.state("spaui-state");
c.data||(c.data={},e.state.bind("spaui-state",function(b){c.data=b;a.initDataObj()}));a.initDataObj()},initDataObj:function(){var a="",h;for(h in c.data)c.data.hasOwnProperty(h)&&(a+="&"+h+"="+c.data[h]);c.endpoint.params=a},send:function(b,h,e){a.sendMetric(b,h,e,function(b,h,d,e,r){d=g.getErrorDetailsFromAjaxResponse(d,e);a.sendMetricFailure(c.FIRST_REQUEST_FAILED,h,d);a.sendRetry(b,h,0)})},sendMetric:function(b,h,g,f){if(c.data){var k=c.endpoint.protocol+c.endpoint.host+(h===A?c.endpoint.path:
h),d=c.endpoint.params+"&requestId="+c.data.parentRequestId+"_"+c.endpoint.requestId;a.encodeAdditionalObj(b);a.encodePayloadObj(b);b.errorDetails&&(b.additional=a.appendToAdditional(b.additional,"errorType",b.errorDetails.type),b.additional=a.appendToAdditional(b.additional,"errorJqueryStatus",b.errorDetails.jqueryStatus),b.additional=a.appendToAdditional(b.additional,"errorHttpStatus",b.errorDetails.httpStatus),b.additional=a.appendToAdditional(b.additional,"errorReadyState",b.errorDetails.readyState));
b.isError?b.to="error-"+b.to:b.isPlatformError&&(b.to="error-platform-"+b.to);h=[b.from,b.where,b.to].join("_");a.oversized(h)&&a.sendDroppedMetric(h,b);d+=b.additional?b.additional:"";d+=b.payload?b.payload:"";k=k+h+"?"+d;e.$.isFunction(f)&&(f=e.$.proxy(f,null,k,h));h={url:k};b.timeout&&(h.timeout=b.timeout);b=e.$.ajax(h).always(function(){g!==A&&e.$.isFunction(g)&&g()});e.$.isFunction(f)&&b.fail(f)}c.endpoint.requestId++},sendRetry:function(b,h,g){g<c.MAX_RETRIES?setTimeout(function(){e.$.ajax({url:b,
timeout:c.TIMEOUT}).fail(function(c,e,d){a.sendRetry(b,h,g+1)})},c.RETRY_DELAY):a.sendMetricFailure(c.ALL_RETRIES_FAILED,h)},sendHmd:function(b,h){a.send(b,c.endpoint.pathHmd,h)},oversized:function(a){return a.length>=c.MAXIMUM_SIZE},sendDroppedMetric:function(b,h){a.sendMetric({from:c.DROPPED_METRIC,where:c.DROPPED_METRIC,to:c.DROPPED_METRIC,additionalObj:{attempted:b}})},sendMetricFailure:function(b,h,e){b={from:c.METRIC_FAILURE,where:c.METRIC_FAILURE,to:b,additionalObj:{attempted:h}};e!==A&&(b.errorDetails=
e);a.sendMetric(b)},encodeAdditionalObj:function(a){if(a.additionalObj){var h=[];Object.keys(a.additionalObj).forEach(function(c){h.push(c+":"+a.additionalObj[c])});a.additional=c.ADDITIONAL_METADATA+encodeURIComponent(h.join("|"))}},encodePayloadObj:function(a){a.payloadObj&&(a.payload=g.formatObjectAsUrlParams(a.payloadObj,!0))},appendToAdditional:function(a,h,e){h=h+":"+e;return a=a===A||null===a||""===a?c.ADDITIONAL_METADATA+h:a+("|"+h)},validate:function(b){if(b)try{a.validOrThrownForEventPart(b,
"from");a.validOrThrownForEventPart(b,"where");a.validOrThrownForEventPart(b,"to");if(b.additionalObj&&!e.$.isPlainObject(b.additionalObj))throw"METRICS.validate failed, additionalObj must be an object if set";return!0}catch(c){throw c;}else throw"METRICS.validate failed, tracking is empty";},validOrThrownForEventPart:function(a,c){if(a[c]){if(-1!==a[c].indexOf("_"))throw"Failed to validate field '"+c+"' it should not contain underscores (_)";}else throw"Failed to validate field '"+c+"' it was empty";
},sanitizeEventPart:function(a){return a.split("_").join("-")},overrideConfig:function(a){c=e.$.extend({},c,a)},returnRequestId:function(){return c.endpoint.requestId},returnParentRequestId:function(){return c.data.parentRequestId},returnSession:function(){return c.data.session},returnIsSpoofer:function(){return c.data.isSpoofer},returnRegionId:function(){return c.data.regionId},returnAllData:function(){return c.data},returnAllParams:function(){return c.endpoint.params},returnNextChildRequestId:function(){var a=
c.data.parentRequestId+"_"+c.endpoint.requestId;c.endpoint.requestId++;return a},returnAction:function(a){return c.map.action[a]},returnPlace:function(a){return c.map.place[a]},returnContext:function(a){return c.map.context[a]},setSizeActive:function(a){c.map.place.setSizeActive=a},returnTopic:function(){return c.map.place.topic.text},returnTopicID:function(){return c.map.place.topic.id}};return{init:a.init,send:a.send,sendHmd:a.sendHmd,validate:a.validate,sanitizeEventPart:a.sanitizeEventPart,overrideConfig:a.overrideConfig,
getSession:a.returnSession,getSpoofer:a.returnIsSpoofer,getRegionId:a.returnRegionId,getData:a.returnAllData,getParams:a.returnAllParams,getRequestId:a.returnRequestId,getParentRequestId:a.returnParentRequestId,incrementChildRequestId:a.returnNextChildRequestId,getAction:a.returnAction,getPlace:a.returnPlace,getContext:a.returnContext,setSizeActive:a.setSizeActive,getTopic:a.returnTopic,getTopicID:a.returnTopicID}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-notification-card-category",
"spaui-events","spaui-alerts","spaui-ui").register("spaui-notification-card",function(e,g,m,c,a,b,h,n,f){var k,d=null,q=[],r={init:function(a){r.hydrate(a);r.bind();h.subscribe(h.getName("notificationListUpdated"),r.onNotificationListUpdated);h.subscribe(h.getName("notificationFetchComplete"),r.onNotificationFetchComplete);h.subscribe(h.getName("newPage"),r.onNewPage)},hydrate:function(a){k=a},bind:function(){k.delegate(".spaui-alert-load-all-node-outside","click",r.loadCardHandle);k.delegate(".spaui-notification-card-list-item",
"click",r.loadCategoryPageHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-view-notification-card","click",r.pushNotificationLoadAll)},pushNotificationLoadAll:function(a){r.loadCardHandle(a,!0)},onNotificationListUpdated:function(a){r.updateNotificationsCount(a)},onNotificationFetchComplete:function(a){k.find(".spaui-notification-card-list").find('.spaui-content-loading[data-category-name="categoryName"]'.replace("categoryName",a)).hide()},onNewPage:function(a){a.type===
c.getPageType("notificationCard")&&q.forEach(function(a){r.updateNotificationsCount(a);if(b.isFetchComplete(a))r.onNotificationFetchComplete(a)})},updateNotificationsCount:function(a){var d=k.find(".spaui-notification-card-list").find('.spaui-notification-card-count-bang[data-category-name="categoryName"]'.replace("categoryName",a));a=b.getNotificationsCount(a);d&&(d.html(a),0<a?d.show():d.hide())},loadCardHandle:function(a,b){a.preventDefault();r.displayNotificationCard(b)},loadCategoryPageHandle:function(a){a.preventDefault();
a=e.$(this).data("category-name");r.displayNotificationCategoryPage(a)},displayNotificationCard:function(b){f.getVisible()||f.summoner({});d=k.find(".spaui-alert").clone();var e=m.getAthenaUrlPrefix()+"athena-notification-card?requestId="+g.incrementChildRequestId();c.placeEndpoint("notificationCard",a.enhanceUrl(e),function(){r.loadSingleAlert();r.initializeNotificationCategoryPage();g.send({from:m.getFrom(),where:b?g.getContext("pushNotification"):g.getContext("notificationCard"),to:g.getPlace("notificationCardDiscoverd"),
additionalObj:{categories:q}})})},initializeNotificationCategoryPage:function(){var a=k.find(".spaui-notification-category-page-list").children();q=[];a.each(function(a,d){var c=e.$(d).clone();e.$(d).remove();var f=c.data("category-name");q.push(f);b.init(c,f)})},displayNotificationCategoryPage:function(a){c.placeElement(b.getTemplate(a),"notificationCardCategory",function(){g.send({from:m.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationCategoryDiscovered"),additionalObj:{categoryName:a}});
n.onLoadAllAlerts({categoryName:a})})},loadSingleAlert:function(){k.find(".spaui-notification-card-single-alert").append(d);n.dynamicHydrate()}};return{init:r.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-ajax","spaui-util","spaui-events","spaui-alerts","spaui-alert-util","spaui-alert-metrics").register("spaui-notification-card-category",function(e,g,m,c,a,b,h,n,f,k,d){var q={maxRetry:5,timeBetweenRetries:5E3,contentFadeIn:300},r={},l={$categoryPageTemplate:null,
fetchComplete:!1,moreNotificationsPresent:!0,$notifications:null,notificationIdList:[],retry:0},p={init:function(a,b){p.setContext(b,e.$.extend(!0,{},l));p.getContext(b).$categoryPageTemplate=a;p.fetchNotificationsByCategories(b)},fetchNotificationsByCategories:function(d){var c=m.getAthenaUrlPrefix()+"athena-notification-card/"+d+"?requestId="+g.incrementChildRequestId();b.get(a.enhanceUrl(c),{},function(a){p.onUpdatedNotificationResponse(e.$(a.data),d)},function(a){p.retryFetch(d)})},onUpdatedNotificationResponse:function(a,
b){var d=a.find(".spaui-alerts-all");p.processNotifications(d,b);p.getContext(b).moreNotificationsPresent=h.stringToBool(a.find("input#spaui-alerts-more-alerts-present")[0].value);n.publish(n.getName("notificationListUpdated"),b);f.dynamicHydrate();p.recordMetricsForNotificationsCountByCategory(b);p.retryFetch(b)},retryFetch:function(a){p.getContext(a).retry++;if(p.shouldRetryFetch(a))e.delay(p.fetchNotificationsByCategories,q.timeBetweenRetries,a);else p.onFetchComplete(a)},processNotifications:function(a,
b){var d=a.find(".spaui-alert"),c=p.getContext(b);null===c.$notifications&&(c.$notifications=a.empty(),c.$categoryPageTemplate.find(".spaui-notification-card-body").append(c.$notifications.clone()));if(!(0>=d.length)){var f=h.selectorToClass(".spaui-alert-animate");d.each(function(a,d){var l=e.$(d),h=k.getAlertDetails(l).id;p.isNotificationNew(b,h)&&(l.hide(),l.addClass(f),c.notificationIdList.push(h),c.$notifications.append(l.clone()))});d=c.$notifications.find(".spaui-alert-animate").clone();c.$notifications.find(".spaui-alert-animate").removeClass(f);
c.$categoryPageTemplate.find(".spaui-alerts-all").append(d);c.$categoryPageTemplate.find(".spaui-alert-animate").removeClass(f).fadeIn(q.contentFadeIn);p.onNotificationsPartialLoad(b,d)}},onNotificationsPartialLoad:function(a,b){var c={categoryName:a},f=[],l=[];b.find(".spaui-alert-info:visible").each(function(){f.push(h.gda(this,"id"))});b.find(".spaui-alert-info.spaui-alert-fixed:visible").each(function(){l.push(h.gda(this,"id"))});0<f.length&&d.massDiscover(g.getContext("allAlerts"),f,c);0<l.length&&
d.massRead(g.getContext("allAlerts"),l,c)},onFetchComplete:function(a){var b=p.getContext(a),d=b.$categoryPageTemplate;b.fetchComplete=!0;0>=p.getNotificationsCount(a)&&(d.find(".spaui-no-notification").fadeIn(q.contentFadeIn),d.find(".spaui-notification-card-footer").fadeIn(q.contentFadeIn));d.find(".spaui-notification-card-head-loader").hide();n.publish("notificationFetchComplete",a)},recordMetricsForNotificationsCountByCategory:function(a){0===p.getContext(a).retry&&(a=e.$.extend(!0,{categoryName:a,
notificationsCount:p.getNotificationsCount(a)},p.getNotificationCountByType(a)),g.send({from:m.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationsCount"),additionalObj:a}))},getNotificationCountByType:function(a){var b={};p.getVisibleNotifications(a).each(function(a,d){var c=e.$(d),c=k.getAlertDetails(c).type;b[c]===A&&(b[c]=0);b[c]++});return b},isNotificationNew:function(a,b){return 0>p.getContext(a).notificationIdList.lastIndexOf(b)},shouldRetryFetch:function(a){a=
p.getContext(a);return a.moreNotificationsPresent&&a.retry<=q.maxRetry},isFetchComplete:function(a){return p.getContext(a).fetchComplete},getNotificationsCount:function(a){return p.getVisibleNotifications(a).length},getVisibleNotifications:function(a){return p.getContext(a).$categoryPageTemplate.find(".spaui-alert").not(".spaui-alert-dismissed")},getTemplate:function(a){return p.getContext(a).$categoryPageTemplate},overrideConfig:function(a){q=e.$.extend({},q,a)},getContext:function(a){return r[a]},
setContext:function(a,b){r[a]=b}};return{init:p.init,getTemplate:p.getTemplate,isFetchComplete:p.isFetchComplete,getNotificationsCount:p.getNotificationsCount,overrideConfig:p.overrideConfig}});ASPP.when("ASPA","spaui-ui","spaui-session").register("spaui-overlay",function(e,g,m){var c=e.$(D),a={overlayActive:!1,fadeTime:200},b={createFullscreenOverlay:function(){a.overlayActive||(a.overlayActive=!0,b.bindWindowResize(),b.recomputeSize(),g.hideClose(),g.hideResizer(),g.contentChanged())},removeOverlay:function(){a.overlayActive&&
(a.overlayActive=!1,b.unbindWindowResize(),g.showClose(),g.showResizer(),m.isLargeSize()?g.makeLarge():g.makeSmall(),g.contentChanged())},bindWindowResize:function(){c.bind("resize",b.recomputeSize)},unbindWindowResize:function(){c.unbind("resize",b.recomputeSize)},recomputeSize:function(){var a=c.width();g.setSpecialSize(a,!0)},overrideConfig:function(b){a=e.$.extend(a,b)},isActive:function(){return a.overlayActive}};return{createFullscreenOverlay:b.createFullscreenOverlay,removeOverlay:b.removeOverlay,
overrideConfig:b.overrideConfig,isActive:b.isActive}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-discovery","spaui-ajax").register("spaui-predictive",function(e,g,m,c,a,b){var h,n=!0,f=null,k={init:function(a){k.hydrate(a);k.bind()},hydrate:function(b){h=b;a.register("predictive","info",!1,k.adoptionCheck);f=c.getAugurUrlPrefix()+"execute-workflow?"},bind:function(){h.delegate(".spaui-ph-expand-closed","click",k.show);h.delegate(".spaui-ph-expand-open","click",k.hide);h.delegate(".spaui-ph-dismiss",
"click",k.dismiss);h.delegate(".spaui-ph-item-feedback-yes","click",k.yes);h.delegate(".spaui-ph-item-feedback-no","click",k.no);h.delegate("#spaui-ph-dismiss-legal","mouseenter mouseleave",k.legal);h.delegate("#spaui-ph-view-legal","mouseenter mouseleave",k.legal)},getDetails:function(a){a=e.$(a.currentTarget).closest(".spaui-ph-item");return{qid:a.data("question"),pid:e.$("#spaui-ph-header").attr("data-prediction"),rank:a.data("rank"),total:a.data("total"),workflowId:a.data("workflow")}},show:function(a){a.preventDefault();
var b=k.getDetails(a);a=e.$(a.currentTarget);e.$("#spaui-ph-item-"+b.qid+"-closed").hide();e.$("#spaui-ph-item-"+b.qid+"-open").show();if(b.workflowId){var c=e.$("#spaui-ph-workflow-"+b.qid);0<c.length&&"N"===c.attr("spaui-ph-workflowdisplayed")&&(c.attr("spaui-ph-workflowdisplayed","Y"),k.displayWorkflow(b))}"true"!==a.attr("data-logged")&&(a.attr("data-logged","true"),e.$.post("/help/track/api/send-user-action?"+k.getIdParams(b)));k.instrument(b,m.getPlace("setPhOpen"))},displayWorkflow:function(a){b.post(f+
"workflowId="+a.workflowId+"&client=AthenaPH",{dataType:"html"},function(b){k.flush(a,b.data,!0)},function(b){k.flush(a,b.data,!1)})},flush:function(a,b,c){c?(e.$("#spaui-ph-workflow-"+a.qid).html(b),e.$("#spaui-ph-item-"+a.qid+"-feedback").show()):e.$("#spaui-ph-workflow-"+a.qid).parent().remove()},hide:function(a){a.preventDefault();a=k.getDetails(a);e.$("#spaui-ph-item-"+a.qid+"-open").hide();e.$("#spaui-ph-item-"+a.qid+"-closed").show();k.instrument(a,m.getPlace("setPhClose"))},dismiss:function(a){a.preventDefault();
a=k.getDetails(a);e.$.post("/help/track/api/send-feedback-text?feedbackText=dismissed&"+k.getIdParams(a));k.instrument(a,m.getPlace("setPhDismiss"));e.$("#spaui-ph-item-"+a.qid).remove()},yes:function(a){a.preventDefault();a=k.getDetails(a);e.$.post("/help/track/api/send-feedback?feedback=true&"+k.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();k.instrument(a,m.getPlace("setPhYes"))},no:function(a){a.preventDefault();a=k.getDetails(a);
e.$.post("/help/track/api/send-feedback?feedback=false&"+k.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();k.instrument(a,m.getPlace("setPhNo"))},getIdParams:function(a){return"id="+a.qid+"&prediction="+a.pid},instrument:function(a,b){m.send({from:c.getFrom(),to:b,where:m.getContext("predictive"),payloadObj:{resultRank:a.rank,resultTotal:a.total},additionalObj:{questionId:a.qid,topicId:a.pid,workflowId:a.workflowId}})},legal:function(a){"mouseenter"===
a.type&&(h.find("#spaui-ph-dismiss-legal-icon").addClass("on"),h.find("#spaui-ph-view-legal").addClass("on"));"mouseleave"===a.type&&(h.find("#spaui-ph-dismiss-legal-icon").removeClass("on"),h.find("#spaui-ph-view-legal").removeClass("on"))},adoptionCheck:function(){if(n){var a=g.gebi("spaui-ph-header");if(a=a?g.gda(a,"prediction"):null)e.$.post("/help/track/api/send-adoption?predictionId="+a),n=!1}},preventAdoption:function(){n=!1}};return{init:k.init,preventAdoption:k.preventAdoption}});ASPP.when("ASPA",
"spaui-events","spaui-util","spaui-alert-util").register("spaui-push-notification",function(e,g,m,c){var a,b,h,n,f=!1,k={duration:{show:400,hide:300,minimize:300},severities:{HIGH:"urgent",MEDIUM:"alert",OPPORTUNITY:"opp",INFORMATION:"info"},showDismissClass:"spaui-pn-show-dismiss",showMinimizeClass:"spaui-pn-show-minimize"},d={init:function(a){d.hydrate(a);d.bind()},hydrate:function(d){a=e.$("#spaui-templates");b=a.find("#spaui-push-notification");h=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");
n=e.$("#sc-quicklinks-top")},bind:function(){D.addEventListener("resize",function(){f&&d.adjust()})},isCurrentPushNotificationOverridable:function(){return b.find(".pushContent").hasClass("pushOverridable")},createWithOptions:function(a,c){if(!f||c.overrideExisting&&d.isCurrentPushNotificationOverridable()){f&&d.afterHideNotification();var l=b.find("#spaui-pn-title");c.title?(l.text(c.title),l.parent().removeClass("asp-hidden")):l.parent().addClass("asp-hidden");a.addClass("pushContent");c.overridable&&
a.addClass("pushOverridable");b.find("#spaui-pn-content").append(a);b.find(".spaui-alert-dismiss").remove();b.attr("class","");b.addClass(c.className?c.className:d.getClassName(c.severity));c.noDismissal||(c.hasMinimizeButton?b.addClass(k.showMinimizeClass):b.addClass(k.showDismissClass));c.expandable?(d.bindExpand(),b.removeClass("spaui-inline-alert")):(b.addClass("spaui-inline-alert"),d.expandPushNotification());n.prepend(b);d.adjust();f=!0;return b}},create:function(a,b,c,f,e){return d.createWithOptions(b,
{title:a,severity:c,hasMinimizeButton:f,expandable:e})},bindExpand:function(){b.click(d.expandPushNotification);b.removeClass("expanded")},bindDismissOrMinimize:function(){b.hasClass(k.showMinimizeClass)?b.find("#spaui-pn-title-bar").click(d.collapsePushNotification):b.hasClass(k.showDismissClass)&&b.find("#spaui-pn-close-icon").click(d.hidePushNotification)},hide:function(){var a=b.data("id");a?c.hideSingleAlert(a,d.afterHideNotification):b.fadeOut(k.duration.hide,d.afterHideNotification)},isActive:function(){return f},
expandPushNotification:function(){g.publish(g.getName("pushNotificationOpened"));b.unbind("click",d.expandPushNotification);b.addClass("expanded");var a=b.find("#spaui-pn-content");a.css("top",-1*a.height());a.animate({top:0},{duration:k.duration.show,complete:d.bindDismissOrMinimize})},collapsePushNotification:function(){g.publish(g.getName("pushNotificationMinimize"));b.find("#spaui-pn-title-bar").unbind("click",d.collapsePushNotification);var a=b.find("#spaui-pn-content");a.animate({top:-1*a.height()},
{duration:k.duration.minimize,complete:d.bindExpand})},hidePushNotification:function(){g.publish(g.getName("pushNotificationClosed"));d.hide()},afterHideNotification:function(){f=!1;b.removeClass("expanded");b.find(".pushContent").remove();a.append(b);b.attr("style","")},adjust:function(){b.css("top",n.height());b.css("right",-m.getElementRightOffset(n));var a=b.find("#spaui-pn-arrow"),c=h.offset().left-b.offset().left,c=c+h.width()/2,c=parseInt(c-10,10);a.css("left",c)},getClassName:function(a){if(a)return"spaui-pn-"+
a.toLowerCase();throw"severity is not set!";}};return{init:d.init,create:d.create,createWithOptions:d.createWithOptions,hide:d.hide,isActive:d.isActive,HIGH:k.severities.HIGH,MEDIUM:k.severities.MEDIUM,OPPORTUNITY:k.severities.OPPORTUNITY,INFORMATION:k.severities.INFORMATION,overrideConfig:function(a){k=e.$.extend(k,a)}}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util").register("spaui-rightclick",function(e,g,m,c){var a=null,b=null,h=null,n={init:function(a){n.populate(a);n.enhance();
n.bind()},populate:function(f){a=f;b=e.$("#sc-quicklink-help");h=c.getContactUsFooterLink()},enhance:function(){b.attr("data-feature-name","scHelpLink");h.attr("data-feature-name","scGetSupportLink")},bind:function(){var c=function(a){a=e.$(a.target);n.handleRightClick(a)};a.bind("contextmenu",c);b.delegate("a","contextmenu",c);h.bind("contextmenu",c);e.$(D).delegate("#spaui-push-notification","contextmenu",c)},handleRightClick:function(a){var b=a.closest("[data-feature-name]").data("feature-name");
a=a.closest("a").attr("href");a=a!==A?c.getTopicIDFromLink(a):A;b={from:m.getFrom(),where:g.getContext("rightClick"),to:b};a!==A&&(b.additionalObj={helpTopicId:a});g.send(b)}};return{init:n.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-content","spaui-search-suggestions","spaui-help","spaui-global-nav-search","spaui-events").register("spaui-search",function(e,g,m,c,a,b,h,n,f,k){var d={},q="Search",r=!1,l=null,p=!1,t={init:function(a,b){t.hydrate(a);t.bind();
t.subscribe();q=d.search.attr("placeholder");f.init(t.externalSubmitSearch,t.externalSynchronizeSearchBoxValue);h.init(b,q)},hydrate:function(a){d.doc=e.$(document);d.spaui=a;d.search=a.find("#spaui-search-box");d.searchSection=a.find(".spaui-head-controls-search");d.searchIcon=a.find("#spaui-search-icon");d.searchFilter=a.find(".spaui-search-filter-wrapper");d.searchFilterSelect=a.find(".spaui-search-filter");l=m.getAthenaUrlPrefix()+"athena-search"},bind:function(){d.searchIcon.click(t.clickSearch);
d.search.focus(t.focusSearch);d.search.blur(t.blurSearch);d.doc.keydown(t.keyDown);d.search.keyup(t.synchronizeGlobalNavSearch);d.spaui.delegate("#spaui-toggle-forums","click",t.toggleForumsResultsClick);d.spaui.delegate(".spaui-search-trigger","click",t.handleSearchTriggerClick)},subscribe:function(){k.subscribe(k.getName("newPage"),t.handleNewPage)},toggleForumsResultsClick:function(b){b.preventDefault();t.toggleForumResults(a.getContext("navSearch"))},toggleForumResults:function(b){var c=e.$("#spaui-toggle-forums"),
d=(r=!r)?"exclude-label":"include-label",d=c.find("input").data(d);t.toggleForumsClasses(r);c.toggleClass("asp-button-selected",r);m.setSearchShowForums(r);a.send({from:m.getFrom(),to:r?a.getPlace("setForumsVisible"):a.getPlace("setForumsHidden"),where:b});c.find("input").val(d);c.find(".asp-button-text").html(d)},toggleForumsClasses:function(a){d.spaui.find(".spaui-search-results").toggleClass("showForums",a)},clickSearch:function(a){a.preventDefault();d.search.trigger("focus");t.keyDown({keyCode:13})},
focusSearch:function(){d.searchSection.addClass("on");d.searchIcon.addClass("on");h.newBind(d.search,t.suggestionsSearch,A,d.searchSection.width())},blurSearch:function(){d.searchSection.removeClass("on");d.searchIcon.removeClass("on")},synchronizeGlobalNavSearch:function(){var a=d.search.val();f.setSearchBoxValue(a)},keyDown:function(a){t.searchIsFocused()&&""!==e.$.trim(d.search.val())&&13===(a.keyCode||a.which)&&t.submitSearch()},searchIsFocused:function(){return d.doc.attr("activeElement").id===
d.search.attr("id")},suggestionsSearch:function(a){t.submitSearch(null,a)},submitSearch:function(f,l,h,g){e.$.isFunction(h)||(h=function(){});e.$.isFunction(g)||(g=function(){});var k=d.search.val();c.storeSearchQuery(k);f===A&&(f={});f=e.$.extend({from:m.getFrom(),where:a.getContext("navSearch")},f,{to:a.getPlace("search")});l?(h("help"),n.displayHelpTopic(l,null,f)):(m.setSearchQuery(k),m.setSearchStart(0),m.setSearchFilter(d.searchFilterSelect.val()||"any"),m.pushPop(""),t.placeSearch(e.$.proxy(b.placeEndpoint,
null,b.getPageType("search")),e.$.proxy(t.searchCompleted,null,h,g,f),e.$.proxy(t.redirectFilter,null,h,f)))},searchCompleted:function(b,c,f,l){l.isError?(f.isError=!0,f.errorDetails=l.errorDetails,c(l)):l.isPlatformError?(f.isPlatformError=!0,e.$("#spaui-error-search-retry").bind("click",function(a){g.gebi("spaui-search-icon").click()}),c(l)):(m.setSearchTotal(e.$("#spaui-content").find("#spaui-search-total").data("total")),t.applyStandardMetricMetadata(f),r=!1,0<d.spaui.find(".spaui-search-result-help").length?
t.toggleForumsClasses(r):(c=g.gebi("spaui-template-only-forum-results").innerHTML,d.spaui.find(".spaui-search-results").before(c),t.toggleForumResults(a.getContext("noHelpResults"))),b("search"),t.attemptToFillSearchPage());a.send(f)},handleSearchTriggerClick:function(a){a.preventDefault();var b=g.gda(a.currentTarget,"search");a=g.gda(a.currentTarget,"filter");a!==A&&d.searchFilterSelect.val(a);b!==A&&(d.search.val(b),t.submitSearch())},externalSubmitSearch:function(a,b,c,f,l){d.search.val(a);t.submitSearch(b,
c,f,l)},externalSynchronizeSearchBoxValue:function(a){d.search.val(a)},setSearchBoxValue:function(a){if(a===A||null===a)a="";a=decodeURIComponent(a);d.search.val(a);t.synchronizeGlobalNavSearch()},searchScroll:function(c){if(!p&&g.gebi("spaui-results")){c=e.$("#spaui-content").scrollTop();var d=e.$("#spaui-content").innerHeight(),f=e.$("#spaui-content").prop("scrollHeight");c+d>=f-m.getSearchScrollBuffer()&&(m.setSearchStart(m.getSearchStart()+m.getSearchSize()),m.setSearchStartHistory(m.getSearchStart()),
m.setSearchQuery(m.getSearchQueryHistory()),m.setSearchTotal(m.getSearchTotalHistory()),m.getSearchStart()+m.getSearchSize()>m.getSearchTotal()||(p=!0,t.placeSearch(b.placeEndpointAsAppend,function(b,c){var d={isError:!b,errorDetails:c,from:m.getFrom(),where:a.getContext("results"),to:a.getPlace("searchMore")};t.applyStandardMetricMetadata(d);a.send(d);p=!1;t.toggleForumsClasses(r);t.attemptToFillSearchPage()})))}},redirectFilter:function(b,d,f){if(t.isSearchRedirectDom(f.content)){f=e.$(f.content).find("#spaui-redirect");
var l=f.data("url"),h="unknown";l.match(/\/inventory/)?h="inventory":l.match(/\/gp\/orders/)?h="order":l.match(/\/skucentral/)&&(h="skucentral");b(h+"-redirect");b=f.data("type").split("_").join("-");c.setPinned(!1);a.send({from:d&&d.from!==A?d.from:m.getFrom(),where:a.getContext("results"),to:a.getPlace("searchRedirect"),additionalObj:{searchRedirect:b,query:m.getSearchQuery()},timeout:300},A,function(){D.location.href=l});return!1}return!0},placeSearch:function(a,b,c){var d=g.formEncode(m.getSearchQuery());
a(l,b,!0,!0,{data:"query="+d+"&start="+m.getSearchStart()+"&size="+m.getSearchSize()+"&content="+m.getSearchFilter(),contentType:"application/x-www-form-urlencoded; charset=UTF-8"},c)},attemptToFillSearchPage:function(){setTimeout(function(){t.searchScroll()},100)},handleNewPage:function(a){"search"===a.type&&t.rebindScroll();a.wentBack&&t.setSearchBoxValue(m.getSearchQueryHistory());t.blurSearch();p=!1},rebindScroll:function(){d.spaui.find("#spaui-content").unbind("scroll");d.spaui.find("#spaui-content").bind("scroll",
t.searchScroll)},isSearchRedirectDom:function(a){return 0<e.$(a).find("#spaui-redirect").length},applyStandardMetricMetadata:function(a){var b=["content="+m.getSearchFilter(),"start="+m.getSearchStart(),"size="+m.getSearchSize(),"query="+m.getSearchQuery()];a.payloadObj={queryString:b.join("|"),resultTotal:m.getSearchTotal()};b=g.truncateString(m.getSearchQuery(),100,"...");a.additionalObj=e.$.extend(a.additionalObj,{query:b})}};return{setSearchBoxValue:t.setSearchBoxValue,externalSubmitSearch:t.externalSubmitSearch,
externalKeyDown:t.externalKeyDown,bindGlobalNav:t.bindGlobalNav,init:t.init}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-session","spaui-ajax","spaui-shim","spaui-weblabs").register("spaui-search-suggestions",function(e,g,m,c,a,b,h,n){var f={name:"spaui-search-suggestions",serviceUrl:null,lastRequestId:0,someResults:!1,selectedResult:null,lastSearchQuery:null,searchIconMargin:27,dontHideOnNextBlur:!1,weblabActive:!1,enabled:!0,invokeSearchFunc:null,externalPlace:null,defaultWidth:300,
enabledSearchSuggestions:!1,searchPlaceholder:null,requestTypingDelay:300,visible:!1},k={tools:{resultKind:"SellerCentralTool",kind:"tool",title:null,number:3,lineBreak:!1,priority:3},merged:{resultKind:"Merged",kind:"merged",title:null,number:3,lineBreak:!0,priority:1},autohelp:{resultKind:"PredictiveHelpAuto",kind:"autohelp",title:null,number:3,lineBreak:!0,priority:2},previous:{resultKind:"previous",kind:"previous-search",title:null,number:3,priority:0}},d={},q={init:function(a,b){g.gebi("spaui-search-suggestions")&&
(f.weblabActive=!0);f.enabledSearchSuggestions=a;f.searchPlaceholder=b;f.serviceUrl=c.getAthenaUrlPrefix()+"suggest-search/";q.hydrate()},hydrate:function(){d.templateHolder=e.$("#spaui-template-search-suggestions");d.widget=e.$("#spaui-search-suggestions");d.list=e.$("#spaui-search-suggestions-list");d.loadingGif=e.$('<span class="spaui-loading-gif-medium spaui-suggestions-loading">');Object.keys(k).forEach(function(a){k[a].title=d.widget.data(a+"-title")})},newBind:function(a,b,c,e){q.isDisabled()||
(e===A&&(e=f.defaultWidth),q.resize(e),q.unbind(d.input),q.bind(a),a.after(d.widget),d.widget.css("top",a.outerHeight()-1),f.invokeSearchFunc=b,f.externalPlace=c,q.show())},unbind:function(a){a&&(d.templateHolder.append(d.widget),a.unbind("focus",q.show),a.unbind("blur",q.onBlur),a.unbind("keydown",q.onKeyDown),a.unbind("input",q.onChange),f.invokeSearchFunc=null,f.currentPlace=null)},bind:function(a){d.input=a;d.input.attr("autocomplete","off");d.input.focus(q.show);d.input.blur(q.onBlur);d.input.keydown(q.onKeyDown);
d.input.bind("input",null,q.onChange)},onBlur:function(a){f.dontHideOnNextBlur||q.hide();f.dontHideOnNextBlur=!1},onKeyDown:function(a){if(!q.isDisabled()&&(40===a.keyCode||38===a.keyCode||13===a.keyCode)){var b=!0;switch(a.keyCode){case 40:q.moveSelectionDown();break;case 38:q.moveSelectionUp();break;case 13:q.hide();var b=!1,c=q.getSelectedSuggestion();c&&(b=q.handleSpecialSuggestionSelection(c,a))}return b?(a.preventDefault(),a.stopImmediatePropagation(),!1):!0}},onChange:function(a){q.resetSelection(!1);
g.delayFunc(function(){var a=d.input.val();q.search(a)},f.requestTypingDelay)},resize:function(a){q.isDisabled()||d.widget.width(a-f.searchIconMargin)},show:function(a){a=d.input.val();f.visible=!0;""===a||a===f.searchPlaceholder?q.loadPreviousSearchSuggestions():f.someResults?d.widget.addClass("shown"):(a=d.input.val(),q.search(a))},hide:function(){d.widget.removeClass("shown");f.visible=!1},showLoading:function(){d.widget.addClass("shown");d.list.empty();d.widget.append(d.loadingGif)},hideLoading:function(){d.loadingGif.remove()},
enable:function(){f.enabled=!0},disable:function(){f.enabled=!1},isDisabled:function(){return!f.enabled||!f.weblabActive},search:function(a){a=a.trim();if(!q.invalid(a)){var c=++f.lastRequestId;""===a?q.showSearchResults(c,!1,[],a):(q.showLoading(),q.instrumentRequest(),b.get(f.serviceUrl+encodeURIComponent(a)+"/",{dataType:"json"},e.$.proxy(function(a,b,c){q.showSearchResults(a,!0,b,c.data)},null,c,a),function(a){q.hide();q.instrumentFailure()}))}},invalid:function(a){return q.isDisabled()||!f.enabledSearchSuggestions||
a===f.lastQuery||a===f.searchPlaceholder},showSearchResults:function(a,b,c,d){q.isDisabled()||a!==f.lastRequestId||(q.hideLoading(),f.lastQuery=c,q.displayResults(d,b))},displayResults:function(a,b){if(!q.isDisabled())if(b&&q.instrumentResponse(a.length),a&&0!==a.length){f.someResults=!0;var c=d.input.val();d.list.empty();var e=1,h=Object.keys(k).map(function(a){return k[a]});h.sort(function(a,b){return a.priority-b.priority});h.forEach(function(b){var f=q.getFilteredResults(b,a);f.forEach(function(a,
f){b.title&&0===f&&d.list.append('<span class="suggestion-group-title">'+b.title+('<span class="spaui-sprite spaui-suggestion-icon spaui-suggestion-icon-'+b.kind+'"></span>')+"</span>");d.list.append(q.generateSearchSuggestionItem(c,a,b,a.link,a.topicId,e));e++});b.lineBreak&&0<f.length&&d.list.append('<div class="suggestion-group-separator">')});f.lastSearchQuery=c;f.lastNumResults=e-1;q.determineShow();q.resetSelection();q.rebindList(e)}else d.list.empty(),d.widget.removeClass("shown"),f.someResults=
!1},determineShow:function(){d.widget.toggleClass("shown",q.searchIsFocused())},searchIsFocused:function(){return f.visible||d.input.is(":focus")||document.activeElement.id===d.input.attr("id")},getFilteredResults:function(a,b){return b.filter(function(b){return b.kind===a.resultKind}).slice(0,a.number).map(function(b){var c=q.getTopicIDFromResult(b),d=q.generateLinkText(a,b,c);return e.$.extend(b,{topicId:c,link:d})}).filter(function(a){return null!==a.link})},getTopicIDFromResult:function(a){try{var b=
null,c=JSON.parse(a.data);e.$.isArray(c)?b=c[0].HELP_TOPIC_ID:"number"===typeof c&&(b=c);return b}catch(d){return null}},generateLinkText:function(a,b,c){var d="/hz/help/search?query="+b.text;if("SellerCentralTool"===a.resultKind)try{d=JSON.parse(b.data).ToolPath}catch(f){return null}else if(q.isHelpArticle(a))if(c)d="/gp/help/"+c;else return null;return d},generateSearchSuggestionItem:function(a,b,c,d,f,h){a=q.getHighlightedContent(a,b.text);d=e.$('<a class="spaui-suggestion-'+c.kind+'" href="'+
d+'">'+a+"</a>");d.addClass("result-link");d.attr("data-name",b.text);d.attr("data-kind",c.kind);d.attr("data-rank",h);null!==f&&q.isHelpArticle(c)&&d.attr("data-topic-id",f);return d},isHelpArticle:function(a){return"PredictiveHelp"===a.resultKind||"PredictiveHelpAuto"===a.resultKind},handleSpecialSuggestionSelection:function(b,c){var d=!1;if(b.hasClass("spaui-suggestion-tool"))g.redirect(b.attr("href")),a.setPinned(!1),c.preventDefault(),d=!0;else if(b.hasClass("spaui-suggestion-help")||b.hasClass("spaui-suggestion-autohelp"))d=
g.gda(b,"topic-id"),f.invokeSearchFunc(d),q.hide(),c.preventDefault(),d=!0;return d},rebindList:function(a){d.list.find(".result-link").each(function(){e.$(this).attr("data-total",a-1)});d.list.find("a").mousedown(function(a){f.dontHideOnNextBlur=!0});d.list.find("a").click(function(a){q.instrumentClick(this);var b=e.$(this);if(q.isSearchTypeSuggestion(b))return d.input.val(g.gda(b,"name")),f.invokeSearchFunc(),q.hide(),a.stopImmediatePropagation(),!1;q.handleSpecialSuggestionSelection(b,a)})},isSearchTypeSuggestion:function(a){return a.hasClass("spaui-suggestion-previous-search")||
a.hasClass("spaui-suggestion-merged")},getHighlightedContent:function(a,b){a=a.replace(/\W+/g," ");a=a.replace(/\s+/g," ");var c=a.split(" "),d={},f;for(f in c)if(c.hasOwnProperty(f)){var e=c[f];d.hasOwnProperty(e)||""===e||(d[e]=!0)}c=Object.keys(d).join("|");return b.replace(new RegExp("("+c+")","gi"),'<span class="highlight_text">$1</span>')},instrumentClick:function(a){a&&q.instrumentSend("result-selected",{query:d.input.val(),name:g.gda(a,"name"),kind:g.gda(a,"kind"),rank:g.gda(a,"rank"),total:g.gda(a,
"total")})},instrumentRequest:function(){q.instrumentSend("request",{query:d.input.val()})},instrumentResponse:function(a){q.instrumentSend("response",{query:d.input.val(),total:a})},instrumentFailure:function(){q.instrumentSend("request-error",{query:d.input.val()})},instrumentSend:function(a,b){m.send({from:f.externalPlace?f.externalPlace:c.getFrom(),to:a,where:m.getContext("searchSuggestions"),additionalObj:b})},resetSelection:function(a){f.selectedResult=null;q.changeSelection(a)},moveSelectionDown:function(){null===
f.selectedResult?f.selectedResult=0:(f.selectedResult++,f.selectedResult>=f.lastNumResults&&(f.selectedResult=null));q.changeSelection()},moveSelectionUp:function(){null===f.selectedResult?f.selectedResult=f.lastNumResults-1:(f.selectedResult--,0>f.selectedResult&&(f.selectedResult=null));q.changeSelection()},changeSelection:function(a){a=a===A?!0:a;d.list.find("a").removeClass("selected-result");var b=d.input.val(),c=f.lastSearchQuery;null!==f.selectedResult&&0<=f.selectedResult&&f.selectedResult<
f.lastNumResults&&(c=q.getSelectedSuggestion(),c.addClass("selected-result"),c=g.gda(c,"name"));a&&b!==c&&d.input.val(c)},getSelectedSuggestion:function(){return null===f.selectedResult?null:d.list.find("a").eq(f.selectedResult)},loadPreviousSearchSuggestions:function(){var b=[];a.getLastSearches().forEach(function(a){b.push({kind:"previous",text:g.stripHtmlTags(a)})});q.displayResults(b,!1)},overrideConfig:function(a){f=e.$.extend({},f,a)}};return{overrideConfig:q.overrideConfig,hide:q.hide,showLoading:q.showLoading,
hideLoading:q.hideLoading,enable:q.enable,disable:q.disable,newBind:q.newBind,resize:q.resize,init:q.init}});ASPP.when("ASPA","spaui-events","spaui-external-events","spaui-metrics","spaui-history","spaui-util").register("spaui-self-service-card",function(e,g,m,c,a,b){var h,n,f,k,d={search:"searchExecuted",forums:"forumsClicked"},q={init:function(a,b){q.hydrate(a);q.bind();q.customizeCss(b);q.subscribe();q.publishMetric("selfServiceCardDiscovered",{frictionType:!0===b.highFriction?"highFriction":"lowFriction"})},
hydrate:function(a){h=a;n=a.find(".spaui-footer");f=a.find(".spaui-footer-nav.spaui-footer-contact");k=a.find('#spaui-self-service-card .spaui-self-service-card-item-link[data-tool-id="Tool/IssueNotListed"]')},bind:function(){h.delegate("#spaui-self-service-card .spaui-self-service-card-item-link","click",q.linkItemClicked)},customizeCss:function(a){n.addClass("spaui-self-service-card-footer");f.prev(".spaui-footer-nav.spaui-footer-forum").addClass("spaui-footer-forum-shifted");!0!==a.highFriction&&
q.hideIssueNotListedLink()},subscribe:function(){g.subscribe(g.getName("newPage"),q.handleNewPage)},handleNewPage:function(a){a=c.getPlace(a.type);b.isNull(d[a])||q.publishCardUsedEvent(d[a])},linkItemClicked:function(a){a=e.$(a.target).closest("#spaui-self-service-card .spaui-self-service-card-item-link");a=q.getLinkData(a);var b={linkType:a.type};"Tool/IssueNotListed"===a.id&&q.hideIssueNotListedLink(!0);if("CTI"===a.type){var c=a.CTI.split(":");b.CTI={C:c[0],T:c[1],I:c[2]}}q.publishCardUsedEvent("selfServiceLinkClicked",
b);q.publishMetric("selfServiceLinkClicked",{toolId:a.id})},hideIssueNotListedLink:function(a){a?k.fadeOut(300):k.hide()},getLinkData:function(a){return{id:a.data("tool-id"),type:a.data("tool-type"),CTI:a.data("tool-cti")}},publishCardUsedEvent:function(a,b){var c=e.$.extend({actionType:a},b);m.publish(g.getName("selfServiceCardUsed"),c)},publishMetric:function(b,d){c.send({from:a.getFrom(),where:c.getContext("selfServiceCard"),to:c.getPlace(b),additionalObj:d})}};return{init:q.init}});ASPP.when("ASPA",
"spaui-metrics","spaui-history","spaui-util","spaui-events").register("spaui-session",function(e,g,m,c,a){var b={storage:localStorage,JSON:JSON,numOfSearchesToTrack:3,MAX_ATHENA_SIZE:51200},h={id:null,data:{article:{topicID:null,link:null},closeAffordance:{show:!0},pinned:{is:!1},preview:{show:!0},size:{large:!1},lastSearches:[],dismissed:!1,timeSellerViewingArticle:null,persistentDA:null}},n={init:function(){g.getSession()&&(h.id=g.getSession());if("undefined"===typeof b.JSON||"undefined"===typeof b.storage)g.send({from:m.getFrom(),
to:"localStorage",where:"info",additional:"&additionalMetadata=no-session-storage-support"});else try{var a=b.JSON.parse(b.storage.getItem("spaui"));n.updateCfgData(a)}catch(c){}},updateCfgData:function(a){a.id&&a.id===h.id?h.data=e.$.extend(!0,{},h.data,a.data):localStorage.removeItem("spaui")},returnTopicID:function(){return h.data.article.topicID},returnTopicURL:function(){return h.data.article.link},isLargeSize:function(){return h.data.size.large},returnPinned:function(){return h.data.pinned.is},
returnPreview:function(){return h.data.preview.show},setPreview:function(a){h.data.preview.show=a;n.update()},setPinned:function(a){h.data.pinned.is=a;n.update()},setTopicID:function(a){h.data.article.topicID=a;n.update()},setTopicURL:function(a){h.data.article.link=a;n.update()},returnCloseAffordance:function(){return h.data.closeAffordance.show},setCloseAffordance:function(a){h.data.closeAffordance.show=a;n.update()},setIsLarge:function(a){h.data.size.large=a;n.update()},setTopic:function(a){n.setTopicID(a);
n.setTopicURL(a)},update:function(){if("undefined"===typeof b.storage||"undefined"===typeof b.JSON)return!1;var a=b.JSON.stringify(h);if(a.length>b.MAX_ATHENA_SIZE)return!1;try{b.storage.setItem("spaui",a)}catch(c){return!1}return!0},getLastSearches:function(){return h.data.lastSearches},getWasDismissed:function(){return h.data.dismissed},setWasDismissed:function(a){h.data.dismissed=a;n.update()},getTimeSellerViewingArticle:function(){return h.data.timeSellerViewingArticle},setTimeSellerViewingArticle:function(a){h.data.timeSellerViewingArticle=
a;n.update()},revertSellerToInfoCard:function(){n.setTopic(null)},storeSearchQuery:function(a){h.data.lastSearches.unshift(a);h.data.lastSearches=c.getUniqueArray(h.data.lastSearches);h.data.lastSearches.splice(b.numOfSearchesToTrack,h.data.lastSearches.length);n.update()},storePersistentDA:function(a){h.data.persistentDA=a;if(!n.update())throw n.clearPersistentDA(),"Storage Space Exceeded or Not Available.";},getPersistentDA:function(){return h.data.persistentDA},clearPersistentDA:function(){h.data.persistentDA=
null;n.update()},mockConfig:function(a){Object.keys(a).forEach(function(c){b[c]=a[c]})}};return{setTopic:n.setTopic,setCloseAffordance:n.setCloseAffordance,getCloseAffordance:n.returnCloseAffordance,setTopicID:n.setTopicID,setIsLarge:n.setIsLarge,setTopicURL:n.setTopicURL,setPinned:n.setPinned,setPreview:n.setPreview,getPreview:n.returnPreview,getPinned:n.returnPinned,isLargeSize:n.isLargeSize,getTopicID:n.returnTopicID,getTopicURL:n.returnTopicURL,getLastSearches:n.getLastSearches,getWasDismissed:n.getWasDismissed,
setWasDismissed:n.setWasDismissed,getTimeSellerViewingArticle:n.getTimeSellerViewingArticle,setTimeSellerViewingArticle:n.setTimeSellerViewingArticle,revertSellerToInfoCard:n.revertSellerToInfoCard,storeSearchQuery:n.storeSearchQuery,storePersistentDA:n.storePersistentDA,getPersistentDA:n.getPersistentDA,clearPersistentDA:n.clearPersistentDA,updateCfgData:n.updateCfgData,mockConfig:n.mockConfig,init:n.init}});ASPP.when("spaui-browser-support").register("spaui-shim",function(e){var g={init:function(){e.definePropertyIsSupported()&&
(g.objectKeys(),g.trim(),g.endsWith(),g.arrayIndexOf(),g.foreach(),g.filter(),g.include(),g.map())},objectKeys:function(){Object.keys||(Object.keys=function(e){var c=[],a;for(a in e)e.hasOwnProperty(a)&&c.push(a);return c})},trim:function(){"function"!==typeof String.prototype.trim&&Object.defineProperty(String.prototype,"trim",{value:function(){return this.replace(/^\s+|\s+$/g,"")}})},endsWith:function(){String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,
c){var a=this.toString();if("number"!==typeof c||!isFinite(c)||Math.floor(c)!==c||c>a.length)c=a.length;c-=e.length;a=a.indexOf(e,c);return-1!==a&&a===c}})},arrayIndexOf:function(){Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(e,c){var a;if(null===this||this===A)throw new TypeError('"this" is null or not defined');var b=Object(this),h=Math.abs(b.length);if(0===h)return-1;a=+c||0;Infinity===Math.abs(a)&&(a=0);if(a>=h)return-1;for(a=Math.max(0<=a?a:h-Math.abs(a),
0);a<h;){if(a in b&&b[a]===e)return a;a++}return-1}})},foreach:function(){Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{value:function(e,c){var a,b;if(null===this)throw new TypeError(" this is null or not defined");var h=Object(this),g=h.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(a=c);for(b=0;b<g;){var f;b in h&&(f=h[b],e.call(a,f,b,h));b++}}})},filter:function(){Array.prototype.filter||Object.defineProperty(Array.prototype,
"filter",{value:function(e){if(void 0===this||null===this)throw new TypeError;var c=Object(this),a=c.length>>>0;if("function"!==typeof e)throw new TypeError;for(var b=[],h=2<=arguments.length?arguments[1]:void 0,g=0;g<a;g++)if(g in c){var f=c[g];e.call(h,f,g,c)&&b.push(f)}return b}})},include:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,c){var a=Object(this),b=parseInt(a.length,10)||0;if(0===b)return!1;var h=parseInt(c,10)||0;0<=h||(h=b+h,
0>h&&(h=0));for(var g;h<b;){g=a[h];if(e===g||e!==e&&g!==g)return!0;h++}return!1}})},map:function(){Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function(e,c){var a,b,h;if(null===this)throw new TypeError(" this is null or not defined");var g=Object(this),f=g.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(a=c);b=Array(f);for(h=0;h<f;){var k;h in g&&(k=g[h],k=e.call(a,k,h,g),b[h]=k);h++}return b}})}};return{init:g.init}});
ASPP.when("ASPA","spaui-util","spaui-theming").register("spaui-state",function(e,g,m){var c,a,b,h,n,f,k,d={showBrowseAllHelpOnLoad:!0},q={autoSummonParam:"spaui-auto-summon",helpSummonParam:"spaui-help-topic"},r={init:function(a){r.initCfg(a);r.override()},initCfg:function(d){c=d.location.search.split(/[\?&]+/);a=encodeURIComponent(document.getElementsByTagName("title")[0].innerHTML);b=d.location.pathname.split(/\/ref=/)[0];h=encodeURIComponent(d.location.hash);n="";f={title:"spaui",url:"spaui-url",
spauiDebug:"spauiDebug",auiDebug:"1",stringDebug:"true",auiReset:"1",athenaNotificationMockType:A};k=d.location.search},override:function(){var d=c.length,e,h={};for(e=0;e<d;e++){var k=c[e].split(/\=/);k[0]===f.title&&(a=k[1]);k[0]===f.url&&(b=k[1]);k[0]===f.spauiDebug?(h.spauiDebug="1",h.auiDebug="1",h.auiReset="1"):k[0]in f&&(h[k[0]]=f[k[0]]||k[1])}n=g.formatObjectAsUrlParams(h,!0)},getState:function(a){return d[a]},setState:function(a,b){d[a]=b},isParamPresent:function(a){return-1!==k.indexOf(a)},
isOnUrl:function(a){return a instanceof RegExp?a.test(b):-1!==b.indexOf(a)},isAnySummoningParamPresent:function(){for(var a=Object.keys(q),b=0;b<a.length;b++)if(r.isParamPresent(q[a[b]]))return!0;return!1},getParamValue:function(a){var b=k,c=b.indexOf(a);if(0>c)return A;a=b.indexOf("=",c);c=b.indexOf("&",c);return 0>a||a>c&&-1<c?A:0>c?b.substring(a+1):b.substring(a+1,c)},enhanceUrl:function(c){c=c.split("#");-1!==c[0].indexOf("?")?c[0]+=c[0].endsWith("&")?"":"&":c[0]+="?";c[0]=c[0]+"pageTitle="+a+
"&pageUrl="+b+"&pageHash="+h+n+"&theme="+m.getTheme();return c.join("#")}};return{init:r.init,showBrowseAllHelpOnLoad:e.$.proxy(r.getState,null,"showBrowseAllHelpOnLoad"),setShowBrowseAllHelpOnLoad:e.$.proxy(r.setState,null,"showBrowseAllHelpOnLoad"),isParamPresent:r.isParamPresent,isAnySummoningParamPresent:r.isAnySummoningParamPresent,getParamValue:r.getParamValue,summoningParams:q,enhanceUrl:r.enhanceUrl,isOnUrl:r.isOnUrl}});ASPP.when("ASPA").register("spaui-theming",function(e){var g="",m=!1,
c=!1,a=999;return{init:function(){var b=e.state("spaui-theming-state");g=b.theme;m="true"===b.hideFeedbackOnInfoCard;c="true"===b.hideAllAlerts;a=parseInt(b.hideAlertLevel,10)},getTheme:function(){return g},isFeedbackDisabledOnInfoCard:function(){return m},shouldHideAlerts:function(b){return c||b>a}}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-metrics","spaui-ui","spaui-content","spaui-events","spaui-search","spaui-help","spaui-alerts","spaui-contact-deflection").register("spaui-triggers",
function(e,g,m,c,a,b,h,n,f,k,d,q){var r=null,l=null,p={},t={init:function(a){p.athenaHome=a.athenaHome;t.checkForAutoSummonParam();t.checkForPinRequest(g.gebi("spaui-pin-request"));t.checkForTabbedContent(g.gebi("spaui-hash"));t.addLegacyLinkClickListener(a);e.$("body ").delegate(".spaui-trigger","click",t.handleClick);D.ATHENA_DISABLE_EXTERNAL_LINK_ONCLICK=!0;a.footerContactUs&&t.bindContactUsLinks()},bindContactUsLinks:function(){var a=g.getContactUsFooterLink();1===a.length&&(a.addClass("spaui-trigger"),
a.attr("data-spaui",'{"type":"contact-us","data":{"page":"sx-athena","context":"contactusfooter"}}'),a.attr("data-href",a.attr("href")),a.removeAttr("href"))},checkForAutoSummonParam:function(){if(m.isParamPresent(m.summoningParams.autoSummonParam))b.summoner({where:a.getContext("autoSummonParam")});else if(m.isParamPresent(m.summoningParams.helpSummonParam)){var c=m.getParamValue(m.summoningParams.helpSummonParam);k.displayHelpTopic(c,null,{where:a.getContext("autoSummonHelpParam")});b.summoner({where:a.getContext("autoSummonHelpParam"),
additionalObj:{topicID:c}})}},checkForPinRequest:function(a){a&&b.summoner({external:!0})},checkForTabbedContent:function(a){a&&(r=a,l=g.gda(r,"regex"),"onhashchange"in D&&(D.onhashchange=t.hashChange))},hashChange:function(b){var d=D.location.hash;d.match(l)&&h.placeFeaturedAndPredictive(function(b,e){a.send({isError:!b,errorDetails:e,from:c.getFrom(),where:a.getContext("externalTrigger"),to:a.getPlace("setFeaturedContentAndPredictiveHelp"),additionalObj:{action:"tabSwitch",hash:d}})})},handleClick:function(a){if("undefined"!==
typeof JSON)try{var c=JSON.parse(g.gda(a.currentTarget,"spaui"));c.data.href=a.currentTarget.href;"topic"===c.type&&(a.preventDefault(),t.placeTopic(c.data));"page"===c.type&&(a.preventDefault(),t.placePage(c.data));"search"===c.type&&(a.preventDefault(),t.placeSearch(c.data));if("forum"===c.type)return{error:"forums are not yet supported."};"contact-us"===c.type&&t.handleContactUs(a,c.data);b.getVisible()||b.summoner({external:!0})}catch(d){}},handleContactUs:function(d,e){var h;d.preventDefault();
var f=b.getVisible(),g=q.isActive();f||g?h=a.getPlace("disabledGetSupportClick"):(p.athenaHome({preventDefault:function(){}}),h=a.getPlace("setContactUsFooter"));f||b.summoner({external:!1});g?q.displayDeflectionCard(a.getContext("scFooter"),!f):a.send({from:c.getFrom(),to:h,where:a.getContext("trigger")})},placeTopic:function(b){k.displayHelpTopic(b.id,b.href,{where:a.getContext("externalTrigger"),additionalObj:{client:b.page,context:b.context}},b.bookmark)},placePage:function(c){var e=c.id.toLowerCase();
if("home"===e)if(b.isSummoned())n.publish(n.getName("goHome"));else{var h=function(){n.publish(n.getName("goHome"));n.unsubscribe("summon",h)};n.subscribe("summon",h)}else c={where:a.getContext("externalTrigger"),additionalObj:{page:c.page,context:c.context}},"browse"===e&&k.displayBrowseAllHelp(c),"alerts"===e&&d.displayAllAlerts(c)},placeSearch:function(b){f.externalSubmitSearch(decodeURIComponent(b.query),{where:a.getContext("externalTrigger"),additionalObj:{client:b.page,context:b.context}})},
parseLinkHref:function(){var a=/openModalDialog\('(.*)'\)/,b=/itemID=?([0-9]+)/,c=[D.location.protocol,"//",D.location.hostname,"/"].join("");return function(d){d=(a.exec(d)||[])[1];var e=(b.exec(d)||[])[1];return d&&e?{href:[c,"gp/help/help-popup.html?itemID=",e].join(""),id:e}:!1}}(),handleLegacyLinkClick:function(a){if("object"!==typeof a||!a.target)return!1;a=t.parseLinkHref(a.target.href);if("object"!==typeof a)return!1;t.placeTopic({id:a.id,page:"campaign-manager",context:"page",href:a.href,
bookmark:""});b.getVisible()||b.summoner({external:!0});return!0},addLegacyLinkClickListener:function(a){a=a||{};a.location=a.location||{};var b=a.location.pathname||D.location.pathname;a=0===(a.location.hash||D.location.hash).indexOf("#/hz/cm");if(0!==b.indexOf("/hz/cm")&&!a)return!1;e.$(document).bind("click",function(a){t.handleLegacyLinkClick(a)&&a.preventDefault()});return!0}};return{init:t.init}});ASPP.when("ASPA","spaui-util","spaui-session","spaui-history","spaui-metrics","spaui-predictive",
"spaui-search-suggestions","spaui-featured-content","spaui-events","spaui-theming").register("spaui-ui",function(e,g,m,c,a,b,h,n,f,k){var d,q,r,l,p,t,z,v,A,w,F,G,B,y={active:!1,closeAffordance:{delay:1E3,fade:1250},duration:{show:200,hide:300,fbConfirm:2E3,spooferDelay:300,contentFadeIn:300,delayBeforeFooterFade:5E3},distance:null,regularSize:410,externalSquishee:"#athena-controlled-width-area",ph:{adopt:!0},resize:{duration:250,percentage:.4,maximum:575},spooferHeight:0,squish:!1,visible:!1,specialSizeStyleMin:500},
x={init:function(a){x.hydrate(a);x.bind();x.handleSpooferBar()},hydrate:function(a){d=e.$(D);q=a;r=a.find(".spaui-head-controls-search");l=a.find(".spaui-head-controls-search #spaui-search-icon");p=a.find(".spaui-head-controls-pop");a.find("#spaui-head-controls");t=a.find("#spaui-close");z=a.find("#spaui-head-controls-close-affordance");v=e.$("#sc-quicklink-help").find("a");A=e.$("#helpMenuID").find("a");w=a.find("#spaui-resize");F=e.$(y.externalSquishee);G=e.$("#globalActionBar");B=a.find(".spaui-footer");
0!==F.length&&(y.squish=!0);y.distance=y.regularSize},bind:function(){v.click(x.summon);A.click(x.summon);t.click(x.banish);z.hover(x.closeAffordHover);v.hover(x.triggerHover);w.click(x.resize);0!==G.length&&d.scroll(x.windowScroll)},initialState:function(){m.isLargeSize()?x.makeLarge():x.makeSmall()},summon:function(a){a.preventDefault();f.publish(f.getName("triggerSummon"));x.summoner({})},summoner:function(a,b){x.isSummoned()||(y.active=!0,q.css("display","block"),x.setSize(y.distance),y.squish&&
F.animate({width:y.distance},y.duration.show),q.animate({marginRight:0},y.duration.show,function(){x.summoned(a,b)}))},summoned:function(b,d){m.setPinned(!0);m.setPreview(!1);var h="";b.where?h=b.where:(h=b.session?a.getContext("session"):a.getContext("trigger"),b.external&&(h=a.getContext("externalTrigger")),b.preload&&(h=a.getContext("preload")));var g={theme:k.getTheme()};b.additionalObj&&e.$.extend(g,b.additionalObj);a.send({from:c.getFrom(),to:a.getPlace("setAthenaSummoned"),where:h,additionalObj:g});
y.visible=!0;y.active=!1;x.closeAffordance();f.publish(f.getName("summon"));e.$.isFunction(d)&&d()},banish:function(a){a.preventDefault();m.setWasDismissed(!0);x.banisher()},banisher:function(a){f.publish(f.getName("dismissed"));y.active||(y.active=!0,y.squish&&F.animate({width:0},y.duration.hide),q.animate({marginRight:"-="+y.distance},y.duration.hide,function(){x.banished(a)}))},banished:function(b){q.css("display","none");m.setPinned(!1);b=e.$.extend({from:c.getFrom(),where:a.getContext("header"),
to:a.getPlace("setAthenaBanished")},b);a.send(b);y.visible=!1;y.active=!1},isSummoned:function(){return y.active||y.visible},resize:function(a){a.preventDefault();x.resizer(a)},resizer:function(a){m.isLargeSize()?x.makeSmall(!0):x.makeLarge(!0)},makeSmall:function(b){b&&m.isLargeSize()&&a.setSizeActive(a.getPlace("setSizeSmall"));m.setIsLarge(!1);x.resetSpecialClasses();w.removeClass("spaui-resize-large");x.setSize(y.regularSize)},makeLarge:function(b){b&&!m.isLargeSize()&&a.setSizeActive(a.getPlace("setSizeLarge"));
m.setIsLarge(!0);x.resetSpecialClasses();w.addClass("spaui-resize-large");x.setSize(x.calculateLargeWidth())},setSpecialSize:function(a,b){a>y.specialSizeStyleMin?q.addClass("spaui-special-sizing"):x.resetSpecialClasses();x.setSize(a,!1,b)},resetSpecialClasses:function(){q.removeClass("spaui-special-sizing")},setSize:function(a,b,c){y.distance=a;a=x.getSearchSize(y.distance);y.visible&&!c?(y.squish&&F.animate({width:y.distance},y.resize.duration),b||q.animate({width:y.distance},y.resize.duration,
x.resized),r.animate({width:a},y.resize.duration,x.searchResized)):(q.width(y.distance),r.width(a));y.visible||q.css("margin-right","-"+y.distance+"px");h.resize(a+l.width()-1)},searchResized:function(){e.$(this).css("overflow","visible")},resized:function(){var b;b="<style>"+("#spaui {width:"+y.distance+"px;}");b+="#spaui-next {right:-"+y.distance+"px;}";b+="#spaui-prev {right:"+y.distance+"px;}";b+="</style>";g.gebi("spaui-css-override").innerHTML=b;b=a.getPlace("setSizeActive");""!==b&&a.send({from:c.getFrom(),
to:b,where:a.getContext("header")})},getSearchSize:function(a){a-=30;"none"!==p.css("display")&&(a-=26);a-=26;a-=x.getCloseIconSize();return a-=8},closeAffordance:function(){m.getCloseAffordance()&&(m.setCloseAffordance(!1),z.show(),setTimeout(x.closeAffordStartFade,y.closeAffordance.delay))},closeAffordStartFade:function(){z.addClass("spaui-fade");setTimeout(x.closeAffordAfterFade,y.closeAffordance.fade)},closeAffordAfterFade:function(){z.remove()},closeAffordHover:function(a){z.remove()},triggerHover:function(a){"mouseenter"===
a.type&&(a.currentTarget.style.color="#e47911",a.currentTarget.style.cursor="pointer");"mouseleave"===a.type&&(a.currentTarget.style.color="",a.currentTarget.style.cursor="auto")},calculateLargeWidth:function(){var a=Math.min(parseInt((d.width()-y.regularSize)*y.resize.percentage+y.regularSize,10),y.resize.maximum);a<=y.regularSize&&(a=y.regularSize+1);return a},returnVisible:function(){return y.visible},handleSpooferBar:function(){g.gebi("spooferDiv")&&setTimeout(function(){y.spooferHeight=e.$("#spooferDiv").outerHeight();
q.css("top",y.spooferHeight)},y.duration.spooferDelay)},windowScroll:function(a){a=0;a=0!==G.length&&"fixed"===G.css("position")?G.outerHeight():y.spooferHeight;q.css("top",a)},scrollToHash:function(a){var b;"top"===a.toLowerCase()?e.$("#spaui-content").scrollTop(0):(b=e.$("#spaui"),g.gebi(a)&&0<e.$("#spaui-content").find('a[name="'+a+'"]').length?g.updateScrollTop(b.find("#"+a),55):(g.gebi(a)&&g.updateScrollTop(b.find("#"+a),55),0<e.$("#spaui-content").find('a[name="'+a+'"]').length&&g.updateScrollTop(b.find('a[name="'+
a+'"]'),70)))},contentChanged:function(){var a=x.getSearchSize(y.distance);r.animate({width:a},y.resizeDuration,x.searchResized)},hideClose:function(){t.css("display","none");r.css("right","auto")},showClose:function(){t.css("display","");r.css("right","")},hideResizer:function(){w.hide()},showResizer:function(){w.show()},getCloseIconSize:function(){return"none"!==t.css("display")?44:13},highlightFooterElement:function(a,b){var c=B.find(".spaui-footer-nav.spaui-footer-"+a);0<c.size()&&(c.find(".spaui-footer-highlight-message").text(b),
c.addClass("highlighted"),setTimeout(x.handleHighlightRemoval,y.duration.delayBeforeFooterFade))},handleHighlightRemoval:function(){B.find(".spaui-footer-nav").removeClass("highlighted")},overrideConfig:function(a){y=e.$.extend(!0,{},y,a)}};return{scrollToHash:x.scrollToHash,summon:x.summon,summoner:x.summoner,banish:x.banish,banisher:x.banisher,resize:x.resize,getVisible:x.returnVisible,getLargeWidth:x.calculateLargeWidth,makeSmall:x.makeSmall,makeLarge:x.makeLarge,setSpecialSize:x.setSpecialSize,
isSummoned:x.isSummoned,initialState:x.initialState,contentChanged:x.contentChanged,hideClose:x.hideClose,showClose:x.showClose,hideResizer:x.hideResizer,showResizer:x.showResizer,highlightFooterElement:x.highlightFooterElement,overrideConfig:x.overrideConfig,init:x.init}});ASPP.when("ASPA","spaui-shim").register("spaui-util",function(e,g){var m=null,c={init:function(a){m=a},textareaFocusPlaceholderFix:function(a){a.attr("placeholder")===a.val()&&a.val("")},returnTopicIDFromLocation:function(){return c.returnTopicIDFromLink(m.location.href)},
returnTopicIDFromLink:function(a){var b,c=/\/help\/([\d]+)/;a.match(c)&&a.match(c)[1]&&(b=a.match(c)[1]);var c=a.split(/[\?&]+/),e=c.length;for(a=0;a<e;a++){var f=c[a].split("=");"itemID"===f[0]&&(f=f[1].match(/^([0-9]+).*/),null!==f&&(b=f[1]))}return b},updateScrollTop:function(a,b){e.$("#spaui").find("#spaui-content").scrollTop(a.offset().top-b)},isOnArticle:function(){var a=!1,b=m.location.href,c=/\/help\/([\d]+)/;b.match(c)&&b.match(c)[1]&&(a=!0);for(var c=b.split(/[\?&]+/),e=c.length,b=0;b<e;b++)"itemID"===
c[b].split("=")[0]&&(a=!0);return a},exposejQuery:function(){"function"!==typeof m.$&&(m.$=e.$)},gda:function(a,b){return a.attr?a.attr("data-"+b):a.data?a.data(b):a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},gebi:function(a){return document.getElementById(a)},delayInit:function(){var a=0;return function(b,c){clearTimeout(a);a=setTimeout(b,c)}},startsWith:function(a,b){var c=!1;a.substr(0,b.length)===b&&(c=!0);return c},contains:function(a,b){if("string"===typeof a){if(b instanceof RegExp)return b.test(a);
if(-1!==a.indexOf(b))return!0}return!1},handleSigninRedirect:function(a){return 403===a?(m.location.reload(),!0):!1},openInNewWindow:function(a){m.open(a,"_blank").focus()},redirect:function(a){m.location=a},getUniqueArray:function(a){for(var b={},c=[],e=0,f=a.length;e<f;++e)b.hasOwnProperty(a[e])||(c.push(a[e]),b[a[e]]=1);return c},isString:function(a){return"string"===typeof a||a instanceof String},isNumber:function(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a},isNull:function(a){return null===
a||a===A},formatObjectAsUrlParams:function(a,b){if(e.$.isPlainObject(a)){var c=[];Object.keys(a).forEach(function(e){var f=a[e];!0===f?f="true":!1===f&&(f="false");b&&(f=encodeURIComponent(f));c.push(e+"="+f)});return 0<c.length?"&"+c.join("&"):""}return null},getErrorDetailsFromAjaxResponse:function(a,b){var c="none";"error"===b?c=0===a.status&&0===a.readyState?"abort":500===a.status?"server-error":"unknown-error":"abort"===b&&(c="abort");return{type:c,jqueryStatus:b,httpStatus:a.status,readyState:a.readyState}},
getUid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},truncateString:function(a,b,e){e===A&&(e="");if(a===A||!c.isString(a)||!c.isString(e)||!c.isNumber(b))return"";b===A&&(b=100);return a.length>b?a.substr(0,b-e.length)+e:a},isParamPresent:function(a){return-1!==m.location.search.indexOf(a)},forEachObjectValue:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c])},getElementRightOffset:function(a){var b=
a.offset();return null===b?0:document.body.clientWidth-b.left-a.width()},ensureId:function(a){if(0!==a.length&&a instanceof e.$){var b=a.attr("id");""!==b&&b!==A||a.attr("id",c.getUid())}},resetJqueryAnimation:function(a){0!==a.length&&a instanceof e.$&&(a.css("height",""),a.css("margin-top",""),a.css("margin-bottom",""),a.css("padding-top",""),a.css("padding-bottom",""),a.css("overflow",""))},isHashOnCurrentPage:function(a){var b=c.removeHashFromUrl(c.escape(m.location.href));return(new RegExp(b+
"#.*$")).test(a)},escape:function(a){return a.replace(/[-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")},removeHashFromUrl:function(a){return a.split("#")[0]},isHtmlElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:!1},isSellerULink:function(a){return"201047930"===a},executeIf:function(a,b){return function(c){if(e.$.isFunction(a)&&a(c)||!e.$.isFunction(a)&&a)return b(c)}},executeIfElse:function(a,b,c){return function(g){return e.$.isFunction(a)&&a(g)||!e.$.isFunction(a)&&a?b(g):c(g)}},
getPathArguments:function(a){var b={};a=a&&a.split("?");if(!a||2<a.length)return b;(a[1]?a[1].split("&"):[]).forEach(function(a){a=a.split("=");b[a[0]]=2>a.length?"":a[1]});return b},getContactUsFooterLink:function(){return e.$(".sc-footer, #sc_footer").find('a[href*="contact-"]').filter(function(){var a=e.$(this).attr("href");return 0>a.indexOf("?")||a.indexOf("contact-")<a.indexOf("?")})},toggleClassOnCond:function(a,b,c){var e=a.hasClass(b);c&&!e?a.addClass(b):!c&&e&&a.removeClass(b)},stringToBool:function(a){return"true"===
(a+"").toLowerCase()},selectorToClass:function(a){return 0===a.indexOf(".")?a.substring(1):a},formEncode:function(a){return encodeURIComponent(a).replace(/%20/g,"+")},hasTemplate:function(a){return null!==c.gebi("spaui-template-"+a)},stripHtmlTags:function(a){var b=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi,c;do c=a,a=a.replace(b,"");while(a!==c);return a.replace(/</g,
"&lt;")}};return{init:c.init,startsWith:c.startsWith,contains:c.contains,delayFunc:c.delayInit(),exposejQuery:c.exposejQuery,gda:c.gda,gebi:c.gebi,getTopicIDFromLink:c.returnTopicIDFromLink,getTopicIDFromLocation:c.returnTopicIDFromLocation,handleSigninRedirect:c.handleSigninRedirect,isOnArticle:c.isOnArticle,openInNewWindow:c.openInNewWindow,textareaFocusPlaceholderFix:c.textareaFocusPlaceholderFix,updateScrollTop:c.updateScrollTop,getUniqueArray:c.getUniqueArray,isString:c.isString,isNumber:c.isNumber,
isNull:c.isNull,formatObjectAsUrlParams:c.formatObjectAsUrlParams,truncateString:c.truncateString,isParamPresent:c.isParamPresent,getErrorDetailsFromAjaxResponse:c.getErrorDetailsFromAjaxResponse,getUid:c.getUid,forEachObjectValue:c.forEachObjectValue,getElementRightOffset:c.getElementRightOffset,ensureId:c.ensureId,resetJqueryAnimation:c.resetJqueryAnimation,redirect:c.redirect,isHashOnCurrentPage:c.isHashOnCurrentPage,isHtmlElement:c.isHtmlElement,isSellerULink:c.isSellerULink,executeIf:c.executeIf,
executeIfElse:c.executeIfElse,getPathArguments:c.getPathArguments,getContactUsFooterLink:c.getContactUsFooterLink,toggleClassOnCond:c.toggleClassOnCond,stringToBool:c.stringToBool,selectorToClass:c.selectorToClass,formEncode:c.formEncode,hasTemplate:c.hasTemplate,stripHtmlTags:c.stripHtmlTags}});ASPP.when("ASPA","spaui-shim","spaui-util").register("spaui-weblabs",function(e,g,m){var c={contactDeflection:"C",searchSuggestionPHRefactor:"C"},a={init:function(a){e.$.extend(c,a);Object.keys(c).forEach(function(a){c[a]=
c[a].toUpperCase()})},doesTreatmentEqual:function(b,e){return a.executeWithWeblab(b,function(a){return c[a]===e.toUpperCase()},function(){return!1})},getTreatment:function(b){return a.executeWithWeblab(b,function(a){return c[a]},function(){return"C"})},isControl:function(b){return a.doesTreatmentEqual(b,"C")},isAnyTreatment:function(b){return a.executeWithWeblab(b,function(a){return c[a].match(/^T[0-9]+$/)},function(){return!1})},executeWithWeblab:function(a,e,g){return m.executeIfElse(c.hasOwnProperty(a),
function(a){return e(a)},function(a){return g(a)})(a)}};return e.$.extend({init:a.init,doesTreatmentEqual:a.doesTreatmentEqual,getTreatment:a.getTreatment,isControl:a.isControl,isAnyTreatment:a.isAnyTreatment},{CONTACT_DEFLECTION:"contactDeflection",SEARCH_SUGGEST_PH:"searchSuggestionPHRefactor",SEARCH_SUGGEST_NGRAM:"searchSuggestionNGram"})});ASPP.when("ASPA","spaui-ajax","spaui-events","spaui-shim","spaui-util","spaui-history").register("spaui-workflows",function(e,g,m,c,a,b){var h={},n={ID_REGEX:/workflow-id_(\S*)($|\s)/,
WORKFLOW_URL:null,WORKFLOW_ID:"workflowId=",CLIENT_ID:"&clientId=",TRANSITION_TIME:400,AUGUR_POPULATE_DELAY:25},f={init:function(){n.WORKFLOW_URL=b.getAthenaUrlPrefix()+"workflow?";f.bind();f.initializeClientMapping()},bind:function(){m.subscribe(m.getName("newPage"),f.handleNewPage)},initializeClientMapping:function(){h["#_modules .workflow-placeholder"]="FullPageHelp";h[".spaui-help .workflow-placeholder"]="AthenaHelp"},handleNewPage:function(){var a=f.scanForWorkflows();0<a.length&&a.forEach(f.replace)},
scanForWorkflows:function(){var a=[],b=function(b){return function(c,d){var g=e.$(d),g=f.stripReplacementElement(g,b);null!==g&&a.push(g)}};e.$("#_modules .workflow-placeholder").each(b(h["#_modules .workflow-placeholder"]));e.$(".spaui-help .workflow-placeholder").each(b(h[".spaui-help .workflow-placeholder"]));return a},stripReplacementElement:function(a,b){var c=f.getIdFromPossibleReplacement(a),e=f.getSelectorOrCreateForElement(a);return null!==c?{id:c,client:b,selector:e}:null},getSelectorOrCreateForElement:function(b){b.attr("id")||
b.attr("id",a.getUid());return"#"+b.attr("id")},getIdFromPossibleReplacement:function(a){a=a.attr("class");a=n.ID_REGEX.exec(a);return null===a?null:a[1]},replace:function(a){g.get(n.WORKFLOW_URL+n.WORKFLOW_ID+a.id+n.CLIENT_ID+a.client,{dataType:"html"},function(b){f.flush(a.selector,b.data,!0)},function(b){f.flush(a.selector,b.data,!1)})},flush:function(a,b,c){a=e.$(a);var f=e.$(b);c&&0<f.children().size()?"none"!==a.css("display")&&(f.hide(),a.replaceWith(f),setTimeout(function(){f.slideDown(n.TRANSITION_TIME)},
n.AUGUR_POPULATE_DELAY)):a.remove()},overrideConfig:function(a){e.$.extend(n,a)}};return{init:f.init,overrideConfig:f.overrideConfig}})});